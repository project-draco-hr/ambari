{
  populateCache();
  if (hostNames == null || hostNames.isEmpty()) {
    return Collections.emptySet();
  }
  HashSet<HostConfigMapping> result=new HashSet<HostConfigMapping>();
  for (  final String hostName : hostNames) {
    if (!hostConfigMappingByHost.containsKey(hostName))     continue;
    Set<HostConfigMapping> set=new HashSet<HostConfigMapping>(hostConfigMappingByHost.get(hostName));
    CollectionUtils.filter(set,new Predicate(){
      @Override public boolean evaluate(      Object arg0){
        return ((HostConfigMapping)arg0).getHostName().equals(hostName) && ((HostConfigMapping)arg0).getSelected() > 0;
      }
    }
);
    result.addAll(set);
  }
  return result;
}
