{
  TypedQuery<HostConfigMappingEntity> query=entityManagerProvider.get().createQuery("SELECT entity FROM HostConfigMappingEntity entity " + "WHERE entity.clusterId = ?1 AND entity.type IN ?2 AND entity.selected > 0",HostConfigMappingEntity.class);
  Map<String,List<HostConfigMappingEntity>> mappingsByType=new HashMap<String,List<HostConfigMappingEntity>>();
  for (  String type : types) {
    if (!mappingsByType.containsKey(type)) {
      mappingsByType.put(type,new ArrayList<HostConfigMappingEntity>());
    }
  }
  if (!types.isEmpty()) {
    List<HostConfigMappingEntity> mappings=daoUtils.selectList(query,clusterId,types);
    for (    HostConfigMappingEntity mapping : mappings) {
      mappingsByType.get(mapping.getType()).add(mapping);
    }
  }
  return mappingsByType;
}
