def os_set_file_permissions(file, mod, recursive, user):
    WARN_MSG = 'Command {0} returned exit code {1} with message: {2}'
    if recursive:
        params = ' -R '
    else:
        params = ''
    command = NR_CHMOD_CMD.format(params, mod, file)
    (retcode, out, err) = os_run_os_command(command)
    if (retcode != 0):
        print_warning_msg(WARN_MSG.format(command, file, err))
    command = NR_CHOWN_CMD.format(params, user, file)
    (retcode, out, err) = os_run_os_command(command)
    if (retcode != 0):
        print_warning_msg(WARN_MSG.format(command, file, err))
