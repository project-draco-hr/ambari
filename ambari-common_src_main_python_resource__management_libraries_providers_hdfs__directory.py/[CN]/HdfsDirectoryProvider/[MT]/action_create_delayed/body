def action_create_delayed(self):
    global delayed_directories
    global chmod_map
    global chown_map
    if (not self.resource.dir_name):
        return
    dir_name = self.resource.dir_name
    dir_owner = self.resource.owner
    dir_group = self.resource.group
    dir_mode = (oct(self.resource.mode)[1:] if self.resource.mode else None)
    directories_list.append(self.resource.dir_name)
    recursive_chown_str = ('-R' if self.resource.recursive_chown else '')
    recursive_chmod_str = ('-R' if self.resource.recursive_chmod else '')
    if dir_mode:
        chmod_key = (dir_mode, recursive_chmod_str)
        if chmod_map.has_key(chmod_key):
            chmod_map[chmod_key].append(dir_name)
        else:
            chmod_map[chmod_key] = [dir_name]
    if dir_owner:
        owner_key = (dir_owner, dir_group, recursive_chown_str)
        if chown_map.has_key(owner_key):
            chown_map[owner_key].append(dir_name)
        else:
            chown_map[owner_key] = [dir_name]
