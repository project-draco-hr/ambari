{
  Collection<HostRoleStatus> hostRoleStatuses=new LinkedList<HostRoleStatus>();
  hostRoleStatuses.add(HostRoleStatus.PENDING);
  hostRoleStatuses.add(HostRoleStatus.QUEUED);
  hostRoleStatuses.add(HostRoleStatus.HOLDING);
  hostRoleStatuses.add(HostRoleStatus.IN_PROGRESS);
  hostRoleStatuses.add(HostRoleStatus.IN_PROGRESS);
  hostRoleStatuses.add(HostRoleStatus.COMPLETED);
  hostRoleStatuses.add(HostRoleStatus.COMPLETED);
  hostRoleStatuses.add(HostRoleStatus.FAILED);
  hostRoleStatuses.add(HostRoleStatus.TIMEDOUT);
  hostRoleStatuses.add(HostRoleStatus.ABORTED);
  Map<HostRoleStatus,Integer> counts=StageResourceProvider.calculateTaskStatusCounts(hostRoleStatuses);
  Double percent=StageResourceProvider.calculateProgressPercent(counts,counts.size());
  assertEquals(Double.valueOf(64.9),percent);
}
