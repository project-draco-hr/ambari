def update_database_name_property():
    try:
        check_database_name_property()
    except FatalException:
        properties = get_ambari_properties()
        if (properties == (-1)):
            err = 'Error getting ambari properties'
            raise FatalException((-1), err)
        print_warning_msg(((((JDBC_DATABASE_PROPERTY + " property isn't set in ") + AMBARI_PROPERTIES_FILE) + '. Setting it to default value - ') + configDefaults.DEFAULT_DB_NAME))
        properties.process_pair(JDBC_DATABASE_PROPERTY, configDefaults.DEFAULT_DB_NAME)
        conf_file = find_properties_file()
        try:
            properties.store(open(conf_file, 'w'))
        except Exception as e:
            err = ('Could not write ambari config file "%s": %s' % (conf_file, e))
            raise FatalException((-1), err)
