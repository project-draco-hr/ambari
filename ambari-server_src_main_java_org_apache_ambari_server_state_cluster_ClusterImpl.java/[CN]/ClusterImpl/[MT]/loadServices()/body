{
  if (services == null) {
    writeLock.lock();
    try {
      if (services == null) {
        services=new TreeMap<String,Service>();
        if (!clusterEntity.getClusterServiceEntities().isEmpty()) {
          for (          ClusterServiceEntity serviceEntity : clusterEntity.getClusterServiceEntities()) {
            services.put(serviceEntity.getServiceName(),serviceFactory.createExisting(this,serviceEntity));
          }
        }
      }
    }
  finally {
      writeLock.unlock();
    }
  }
}
