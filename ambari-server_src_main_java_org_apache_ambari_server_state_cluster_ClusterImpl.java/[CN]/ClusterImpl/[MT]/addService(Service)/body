{
  loadServices();
  clusterGlobalLock.writeLock().lock();
  try {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Adding a new Service" + ", clusterName=" + getClusterName() + ", clusterId="+ getClusterId()+ ", serviceName="+ service.getName());
    }
    if (services.containsKey(service.getName())) {
      throw new AmbariException("Service already exists" + ", clusterName=" + getClusterName() + ", clusterId="+ getClusterId()+ ", serviceName="+ service.getName());
    }
    services.put(service.getName(),service);
  }
  finally {
    clusterGlobalLock.writeLock().unlock();
  }
}
