{
  clusterGlobalLock.writeLock().lock();
  try {
    UpgradeEntity activeUpgrade=this.getUpgradeInProgress();
    if (activeUpgrade != null) {
      this.setUpgradeEntity(activeUpgrade);
    }
  }
 catch (  AmbariException e) {
    LOG.error("Unable to load active stack upgrade. Error: " + e.getMessage());
  }
 finally {
    clusterGlobalLock.writeLock().unlock();
  }
}
