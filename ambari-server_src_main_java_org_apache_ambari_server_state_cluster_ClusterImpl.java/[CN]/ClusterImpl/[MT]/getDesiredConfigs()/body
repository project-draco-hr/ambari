{
  if (cachedDesiredConfigs != null) {
    return new HashMap<>(cachedDesiredConfigs);
  }
  Map<String,Set<DesiredConfig>> activeConfigsByType=getDesiredConfigs(false);
  cachedDesiredConfigs=Maps.transformEntries(activeConfigsByType,new Maps.EntryTransformer<String,Set<DesiredConfig>,DesiredConfig>(){
    @Override public DesiredConfig transformEntry(    @Nullable String key,    @Nullable Set<DesiredConfig> value){
      return value.iterator().next();
    }
  }
);
  return new HashMap<>(cachedDesiredConfigs);
}
