{
  if (clusterConfigGroups == null) {
    clusterGlobalLock.writeLock().lock();
    try {
      if (clusterConfigGroups == null) {
        ClusterEntity clusterEntity=getClusterEntity();
        if (clusterEntity != null) {
          clusterConfigGroups=new HashMap<Long,ConfigGroup>();
          if (!clusterEntity.getConfigGroupEntities().isEmpty()) {
            for (            ConfigGroupEntity configGroupEntity : clusterEntity.getConfigGroupEntities()) {
              clusterConfigGroups.put(configGroupEntity.getGroupId(),configGroupFactory.createExisting(this,configGroupEntity));
            }
          }
        }
      }
    }
  finally {
      clusterGlobalLock.writeLock().unlock();
    }
  }
}
