{
  injector.injectMembers(this);
  clusterId=clusterEntity.getClusterId();
  clusterName=clusterEntity.getClusterName();
  serviceComponentHosts=new HashMap<>();
  serviceComponentHostsByHost=new HashMap<>();
  desiredStackVersion=new StackId(clusterEntity.getDesiredStack());
  cacheConfigurations();
  if (desiredStackVersion != null && !StringUtils.isEmpty(desiredStackVersion.getStackName()) && !StringUtils.isEmpty(desiredStackVersion.getStackVersion())) {
    loadServiceConfigTypes();
  }
  loadServices();
  eventPublisher.register(this);
  this.eventPublisher=eventPublisher;
}
