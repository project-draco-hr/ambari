{
  injector.injectMembers(this);
  this.clusterEntity=clusterEntity;
  serviceComponentHosts=new HashMap<String,Map<String,Map<String,ServiceComponentHost>>>();
  serviceComponentHostsByHost=new HashMap<String,List<ServiceComponentHost>>();
  desiredStackVersion=new StackId(clusterEntity.getDesiredStack());
  configProperiesTypesCache=new HashMap<>();
  cacheConfigurations();
  if (desiredStackVersion != null && !StringUtils.isEmpty(desiredStackVersion.getStackName()) && !StringUtils.isEmpty(desiredStackVersion.getStackVersion())) {
    loadServiceConfigTypes();
  }
}
