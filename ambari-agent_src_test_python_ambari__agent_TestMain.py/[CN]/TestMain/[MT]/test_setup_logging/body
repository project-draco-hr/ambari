@patch.object(main.logger, 'addHandler')
@patch.object(main.logger, 'setLevel')
@patch('logging.handlers.RotatingFileHandler')
@patch('logging.basicConfig')
def test_setup_logging(self, basicConfig_mock, rfh_mock, setLevel_mock, addHandler_mock):
    main.setup_logging(logging.getLogger(), '/var/log/ambari-agent/ambari-agent.log', 20)
    self.assertTrue(addHandler_mock.called)
    setLevel_mock.assert_called_with(logging.INFO)
    addHandler_mock.reset_mock()
    setLevel_mock.reset_mock()
    main.setup_logging(logging.getLogger(), '/var/log/ambari-agent/ambari-agent.log', 10)
    self.assertTrue(addHandler_mock.called)
    setLevel_mock.assert_called_with(logging.DEBUG)
