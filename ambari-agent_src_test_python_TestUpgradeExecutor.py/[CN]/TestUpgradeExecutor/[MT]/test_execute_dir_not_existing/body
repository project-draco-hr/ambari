@patch('os.path.isdir')
def test_execute_dir_not_existing(self, isdir_method):
    pythonExecutor = MagicMock()
    puppetExecutor = MagicMock()
    command = {'debug': 'command', }
    isdir_method.return_value = False
    executor = UpgradeExecutor.UpgradeExecutor(pythonExecutor, puppetExecutor, AmbariConfig.AmbariConfig().getConfig())
    result = executor.execute_dir(command, 'basedir', 'not_existing_dir', 'tmpout', 'tmperr')
    self.assertEquals(result['exitcode'], 0)
    self.assertEquals(result['stdout'], 'Script directory basedir/not_existing_dir does not exist, skipping')
    self.assertEquals(result['stderr'], 'None')
