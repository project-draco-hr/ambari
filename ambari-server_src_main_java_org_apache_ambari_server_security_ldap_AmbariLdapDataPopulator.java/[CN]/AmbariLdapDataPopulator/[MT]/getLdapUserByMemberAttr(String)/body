{
  Set<LdapUserDto> filteredLdapUsers=new HashSet<LdapUserDto>();
  if (memberAttributeValue != null && isMemberAttributeBaseDn(memberAttributeValue)) {
    LOG.trace("Member can be used as baseDn: {}",memberAttributeValue);
    Filter filter=new EqualsFilter(OBJECT_CLASS_ATTRIBUTE,ldapServerProperties.getUserObjectClass());
    filteredLdapUsers=getFilteredLdapUsers(memberAttributeValue,filter);
  }
 else {
    LOG.trace("Member cannot be used as baseDn: {}",memberAttributeValue);
    Filter filter=new AndFilter().and(new EqualsFilter(OBJECT_CLASS_ATTRIBUTE,ldapServerProperties.getUserObjectClass())).and(new EqualsFilter(ldapServerProperties.getUsernameAttribute(),memberAttributeValue));
    filteredLdapUsers=getFilteredLdapUsers(ldapServerProperties.getBaseDN(),filter);
  }
  return (filteredLdapUsers.isEmpty()) ? null : filteredLdapUsers.iterator().next();
}
