{
  String usernameAttribute=ldapServerProperties.getUsernameAttribute();
  String dnAttribute=ldapServerProperties.getDnAttribute();
  OrFilter memberFilter=null;
  String[] filters=memberAttribute.split(",");
  for (  String filter : filters) {
    String[] operands=filter.split("=");
    if (operands.length == 2) {
      String lOperand=operands[0];
      if (lOperand.equals(usernameAttribute) || lOperand.equals(UID_ATTRIBUTE) || lOperand.equals(dnAttribute)) {
        if (memberFilter == null) {
          memberFilter=new OrFilter();
        }
        memberFilter.or(new EqualsFilter(lOperand,operands[1]));
      }
    }
  }
  return memberFilter == null ? new OrFilter().or(new EqualsFilter(dnAttribute,memberAttribute)).or(new EqualsFilter(UID_ATTRIBUTE,memberAttribute)) : memberFilter;
}
