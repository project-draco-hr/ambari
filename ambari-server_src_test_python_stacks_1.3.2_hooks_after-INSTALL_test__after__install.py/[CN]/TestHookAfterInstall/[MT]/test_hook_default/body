def test_hook_default(self):
    self.executeScript('1.3.2/hooks/after-INSTALL/scripts/hook.py', classname='AfterInstallHook', command='hook', config_file='default.json')
    self.assertResourceCalled('Directory', '/etc/hadoop/conf.empty', owner='root', group='root', recursive=True)
    self.assertResourceCalled('Link', '/etc/hadoop/conf', to='/etc/hadoop/conf.empty', not_if='ls /etc/hadoop/conf')
    self.assertResourceCalled('File', '/etc/hadoop/conf/hadoop-env.sh', content=InlineTemplate(self.getConfig()['configurations']['hadoop-env']['content']), owner='hdfs')
    self.assertResourceCalled('XmlConfig', 'core-site.xml', owner='hdfs', group='hadoop', conf_dir='/etc/hadoop/conf', configurations=self.getConfig()['configurations']['core-site'])
    self.assertNoMoreResources()
