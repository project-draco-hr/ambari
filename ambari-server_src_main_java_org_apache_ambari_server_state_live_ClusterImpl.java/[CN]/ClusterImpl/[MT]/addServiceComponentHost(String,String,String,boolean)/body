{
  if (!serviceComponentHosts.containsKey(serviceName)) {
    serviceComponentHosts.put(serviceName,new HashMap<String,Map<String,ServiceComponentHost>>());
  }
  if (!serviceComponentHosts.get(serviceName).containsKey(componentName)) {
    serviceComponentHosts.get(serviceName).put(componentName,new HashMap<String,ServiceComponentHost>());
  }
  if (serviceComponentHosts.get(serviceName).get(componentName).containsKey(hostName)) {
    throw new AmbariException("Duplicate entry for ServiceComponentHost" + ", serviceName=" + serviceName + ", serviceComponentName"+ componentName+ ", hostName= "+ hostName);
  }
  serviceComponentHosts.get(serviceName).get(componentName).put(hostName,new ServiceComponentHostImpl(componentName,hostName,isClient));
}
