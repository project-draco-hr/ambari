def test_recommendHDFSConfigurations(self):
    configurations = {'hadoop-env': {'properties': {'hdfs_user': 'hdfs', }, }, }
    services = {'services': [{'StackServices': {'service_name': 'HDFS', }, 'components': [], }], 'configurations': configurations, }
    clusterData = {'totalAvailableRam': 2048, }
    expected = {'hadoop-env': {'properties': {'namenode_heapsize': '1024', 'namenode_opt_newsize': '256', 'namenode_opt_maxnewsize': '256', 'hdfs_user': 'hdfs', }, }, 'core-site': {'properties': {'hadoop.proxyuser.hdfs.hosts': '*', 'hadoop.proxyuser.hdfs.groups': '*', }, }, }
    self.stackAdvisor.recommendHDFSConfigurations(configurations, clusterData, services, '')
    self.assertEquals(configurations, expected)
