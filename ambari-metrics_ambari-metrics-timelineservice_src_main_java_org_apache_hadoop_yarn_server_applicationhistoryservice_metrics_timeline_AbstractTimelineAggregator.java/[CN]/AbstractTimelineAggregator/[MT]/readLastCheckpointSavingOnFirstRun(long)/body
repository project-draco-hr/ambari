{
  long lastCheckPointTime=-1;
  try {
    lastCheckPointTime=readCheckPoint();
    if (isLastCheckPointTooOld(lastCheckPointTime)) {
      LOG.warn("Last Checkpoint is too old, discarding last checkpoint. " + "lastCheckPointTime = " + lastCheckPointTime);
      lastCheckPointTime=-1;
    }
    if (lastCheckPointTime == -1) {
      LOG.info("Saving checkpoint time on first run." + (currentTime - checkpointDelayMillis));
      saveCheckPoint(currentTime - checkpointDelayMillis);
    }
  }
 catch (  IOException io) {
    LOG.warn("Unable to write last checkpoint time. Resuming sleep.",io);
  }
  return lastCheckPointTime;
}
