{
  createMyTable("mytable2");
  DBAccessorImpl dbAccessor=injector.getInstance(DBAccessorImpl.class);
  List<DBColumnInfo> columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("fid",Long.class,null,null,false));
  columns.add(new DBColumnInfo("fname",String.class,null,null,false));
  dbAccessor.createTable("foreigntable",columns,"fid");
  dbAccessor.addFKConstraint("foreigntable","MYFKCONSTRAINT","fid","mytable2","id",false);
  Statement statement=dbAccessor.getConnection().createStatement();
  statement.execute("insert into mytable2(id, name) values(1,'hello')");
  statement.execute("insert into foreigntable(fid, fname) values(1,'howdy')");
  ResultSet resultSet=statement.executeQuery("select * from foreigntable");
  int count=0;
  while (resultSet.next()) {
    assertEquals(resultSet.getString("fname"),"howdy");
    count++;
  }
  resultSet.close();
  assertEquals(count,1);
  exception.expect(SQLException.class);
  exception.expectMessage(containsString("MYFKCONSTRAINT"));
  dbAccessor.dropTable("mytable2");
}
