@safe_retry(times=5, sleep_time=8, backoff_factor=1.5, err_class=Fail, return_on_fail=None)
def create_repository_curl(self, component_user, component_user_keytab, component_user_principal, name, data, policy_user, is_keyadmin=False):
    '\n    :param component_user: service user for which call is to be made\n    :param component_user_keytab: keytab of service user\n    :param component_user_principal: principal of service user\n    :param name: name of the repository to be created\n    :param data: service definition of the repository\n    :return:\n    '
    try:
        search_repo_url = self.url_repos_pub
        if is_keyadmin:
            search_repo_url = '{0}?suser=keyadmin'.format(search_repo_url)
        header = 'Content-Type: application/json'
        method = 'POST'
        (response, error_message, time_in_millis) = self.call_curl_request(component_user, component_user_keytab, component_user_principal, search_repo_url, False, method, data, header)
        if (('http' in response.lower()) and (('401' in response.lower()) and (('authentication failed' in response.lower()) or ('unauthorized' in response.lower())))):
            raise Fail('Ranger create call Error: HTTP RESPONSE CODE 401.')
        elif (('http' in response.lower()) and (('400' in response.lower()) or ('bad request' in response.lower()))):
            raise Fail('Ranger create call Error: HTTP RESPONSE CODE 400.')
        elif (('http' in response.lower()) and (('403' in response.lower()) or ('forbidden' in response.lower()))):
            raise Fail('Ranger create call Error: HTTP RESPONSE CODE 403.')
        elif (('http' in response.lower()) and (('404' in response.lower()) or ('not found' in response.lower()))):
            raise Fail('Ranger create call Error: HTTP RESPONSE CODE 404.')
        elif (('http' in response.lower()) and (('419' in response.lower()) or ('session expired' in response.lower()))):
            raise Fail('Ranger create call Error: HTTP RESPONSE CODE 419.')
        elif (('http' in response.lower()) and (('500' in response.lower()) or ('server error' in response.lower()))):
            raise Fail('Ranger create call Error: HTTP RESPONSE CODE 500.')
        elif (('http' in response.lower()) and (('307' in response.lower()) or ('forbidden' in response.lower()))):
            raise Fail('Ranger create call Error: HTTP RESPONSE CODE 307.')
        elif ('exists' in response.lower()):
            return response
        if (response and (len(response) > 0)):
            response_json = json.loads(response)
            if (('name' in response_json) and (response_json['name'].lower() == name.lower())):
                Logger.info('Repository created Successfully')
                return response_json
            elif ('exists' in response.lower()):
                Logger.info('Repository {name} already exists'.format(name=name))
                return response_json
            else:
                Logger.info('Repository creation failed')
                return None
        else:
            Logger.info('Repository creation failed')
            return None
    except Fail as fail:
        raise Fail(str(fail))
