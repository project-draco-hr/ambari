{
  cl.setDesiredStackVersion(new StackId("HDP-0.1"));
  cl.addService("HDFS");
  cl.getService("HDFS").addServiceComponent("NAMENODE");
  cl.getService("HDFS").addServiceComponent("DATANODE");
  cl.getService("HDFS").addServiceComponent("SECONDARY_NAMENODE");
  cl.getService("HDFS").getServiceComponent("NAMENODE").addServiceComponentHost(serviceComponentHostFactory.createNew(cl.getService("HDFS").getServiceComponent("NAMENODE"),hostList[0],false));
  cl.getService("HDFS").getServiceComponent("SECONDARY_NAMENODE").addServiceComponentHost(serviceComponentHostFactory.createNew(cl.getService("HDFS").getServiceComponent("SECONDARY_NAMENODE"),hostList[1],false));
  for (int i=1; i < hostList.length; i++) {
    cl.getService("HDFS").getServiceComponent("DATANODE").addServiceComponentHost(serviceComponentHostFactory.createNew(cl.getService("HDFS").getServiceComponent("DATANODE"),hostList[i],false));
  }
}
