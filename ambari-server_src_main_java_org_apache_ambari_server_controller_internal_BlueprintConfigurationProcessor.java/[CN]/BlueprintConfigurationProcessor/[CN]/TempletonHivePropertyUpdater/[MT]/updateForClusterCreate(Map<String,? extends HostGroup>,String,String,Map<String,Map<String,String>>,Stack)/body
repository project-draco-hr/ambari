{
  if (!origValue.contains("%HOSTGROUP") && (!origValue.contains("localhost"))) {
    return origValue;
  }
  StringBuffer updatedResult=new StringBuffer();
  String[] keyValuePairs=origValue.split(",");
  boolean firstValue=true;
  for (  String keyValuePair : keyValuePairs) {
    if (!firstValue) {
      updatedResult.append(",");
    }
 else {
      firstValue=false;
    }
    String key=keyValuePair.split("=")[0];
    if (mapOfKeysToUpdaters.containsKey(key)) {
      String result=mapOfKeysToUpdaters.get(key).updateForClusterCreate(hostGroups,key,keyValuePair.split("=")[1],properties,stackDefinition);
      updatedResult.append(key + "=" + result.replaceAll(",",Matcher.quoteReplacement("\\,")));
    }
 else {
      updatedResult.append(keyValuePair);
    }
  }
  return updatedResult.toString();
}
