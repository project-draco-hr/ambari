{
  int serverId=1;
  StringBuilder sb=new StringBuilder();
  Collection<String> hosts=topology.getHostAssignmentsForComponent("ATLAS_SERVER");
switch (propertyName) {
case "atlas.server.address.id1":
    Map<String,String> applicationProperties=properties.get("application-properties");
  Boolean ssl_enabled=Boolean.parseBoolean(applicationProperties.get("atlas.enableTLS"));
String port=ssl_enabled ? applicationProperties.get("atlas.server.https.port") : applicationProperties.get("atlas.server.http.port");
for (String host : hosts) {
if (serverId > 1) {
  sb.append("\n").append("atlas.server.address.id").append(serverId).append("=");
}
sb.append(host).append(":").append(port);
++serverId;
}
break;
case "atlas.server.ids":
while (serverId <= hosts.size()) {
if (serverId > 1) {
sb.append(",");
}
sb.append("id" + serverId++);
}
break;
default :
return origValue;
}
return sb.toString();
}
