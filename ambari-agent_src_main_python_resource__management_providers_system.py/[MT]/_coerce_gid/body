def _coerce_gid(group):
    try:
        gid = int(group)
    except ValueError:
        try:
            gid = grp.getgrnam(group).gr_gid
        except KeyError:
            raise Fail(("Group %s doesn't exist." % group))
    return gid
