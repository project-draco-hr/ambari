def get_current_status(self):
    self.candidate_version = None
    self.current_version = None
    yb = yum.YumBase()
    yb.doConfigSetup()
    yb.doTsSetup()
    yb.doRpmDBSetup()
    for pkg in yb.rpmdb.returnPackages():
        if (pkg.name == self.resource.package_name):
            self.current_version = pkg.version
            self.log.debug(('Current version of %s is %s' % (self.resource.package_name, self.current_version)))
    searchlist = ['name', 'version']
    args = [self.resource.package_name]
    matching = yb.searchPackages(searchlist, args)
    for po in matching:
        if (po.name == self.resource.package_name):
            self.candidate_version = po.version
            self.log.debug(('Candidate version of %s is %s' % (self.resource.package_name, self.current_version)))
