def restore_configuration():
    '\n  Restores the configuration backups to their proper locations after an\n  upgrade has completed.\n  :return:\n  '
    Logger.info('Restoring Oozie configuration directory after upgrade...')
    directoryMappings = _get_directory_mappings()
    for directory in directoryMappings:
        archive = os.path.join(tempfile.gettempdir(), BACKUP_TEMP_DIR, directoryMappings[directory])
        if (not os.path.isfile(archive)):
            raise Fail('Unable to restore missing backup archive {0}'.format(archive))
        Logger.info('Extracting {0} to {1}'.format(archive, directory))
        tarball = None
        try:
            tarball = tarfile.open(archive, 'r')
            tarball.extractall(directory)
        finally:
            if tarball:
                tarball.close()
    shutil.rmtree(os.path.join(tempfile.gettempdir(), BACKUP_TEMP_DIR))
