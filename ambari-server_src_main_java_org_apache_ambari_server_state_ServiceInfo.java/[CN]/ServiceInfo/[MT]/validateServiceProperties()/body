{
  Multimap<String,ServicePropertyInfo> servicePropsByName=Multimaps.index(getServicePropertyList(),new Function<ServicePropertyInfo,String>(){
    @Override public String apply(    ServicePropertyInfo servicePropertyInfo){
      return servicePropertyInfo.getName();
    }
  }
);
  for (  String propertyName : servicePropsByName.keySet()) {
    if (servicePropsByName.get(propertyName).size() > 1) {
      setValid(false);
      addError("Duplicate service property with name '" + propertyName + "' found in "+ getName()+ ":"+ getVersion()+ " service definition !");
    }
  }
  for (  ComponentInfo component : getComponents()) {
    int primaryLogs=0;
    for (    LogDefinition log : component.getLogs()) {
      primaryLogs+=log.isPrimary() ? 1 : 0;
    }
    if (primaryLogs > 1) {
      setValid(false);
      addError("More than one primary log exists for the component " + component.getName());
    }
  }
}
