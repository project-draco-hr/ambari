{
  this.clusterName=String.valueOf(properties.get(ClusterResourceProvider.CLUSTER_NAME_PROPERTY_ID));
  if (properties.containsKey("default_password")) {
    defaultPassword=String.valueOf(properties.get("default_password"));
  }
  try {
    parseBlueprint(properties);
  }
 catch (  NoSuchStackException e) {
    throw new InvalidTopologyTemplateException("The specified stack doesn't exist: " + e,e);
  }
catch (  NoSuchBlueprintException e) {
    throw new InvalidTopologyTemplateException("The specified blueprint doesn't exist: " + e,e);
  }
  this.configuration=configurationFactory.getConfiguration((Collection<Map<String,String>>)properties.get("configurations"));
  this.configuration.setParentConfiguration(blueprint.getConfiguration());
  parseHostGroupInfo(properties);
}
