{
  this.master=masterKey.toCharArray();
  if (masterFileLocation != null) {
    if (persistMaster) {
      LOG.debug("Persisting master key file.");
      File masterFile=new File(masterFileLocation);
      if (masterFile.exists()) {
        LOG.info("Resetting master key before persist.");
        try {
          PrintWriter pw=new PrintWriter(masterFile);
          pw.print("");
          pw.close();
        }
 catch (        FileNotFoundException e) {
          LOG.error("Cannot reset master key file located at: " + masterFileLocation);
          e.printStackTrace();
        }
      }
      persistMaster(masterFile);
    }
  }
 else {
    if (persistMaster) {
      LOG.error("Cannot persist master key without specifying master key " + "location.");
    }
  }
}
