def main():
    if disable_python_and_puppet:
        with patch.object(PuppetExecutor.PuppetExecutor, 'just_run_one_file') as just_run_one_file_pp_method:
            just_run_one_file_pp_method.side_effect = (lambda command, file, tmpout, tmperr: {'exitcode': 0, 'stdout': ('Simulated run of pp %s' % file), 'stderr': 'None', })
            with patch.object(PythonExecutor.PythonExecutor, 'run_file') as run_file_py_method:
                run_file_py_method.side_effect = (lambda command, file, tmpoutfile, tmperrfile: {'exitcode': 0, 'stdout': ('Simulated run of py %s' % file), 'stderr': 'None', })
                run_simulation()
    else:
        run_simulation()
