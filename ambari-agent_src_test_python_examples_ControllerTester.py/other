from ambari_agent import Controller
import pprint, json, os, time, sys
import tempfile
from urllib2 import Request, urlopen, URLError
from mock.mock import patch, MagicMock, call
from ambari_agent.AmbariConfig import AmbariConfig
import Queue
import logging
from ambari_agent import PuppetExecutor, PythonExecutor
logger = logging.getLogger()
queue = Queue.Queue()
disable_python_and_puppet = False
responces = ['{"responseId":"n",\n  "response":"OK"}', '\n  {\n    "responseId":"n",\n    "restartAgent": "False",\n    "executionCommands":\n      [{\n        "commandId": "31-1",\n        "role" : "DATANODE",\n        "taskId" : 2,\n        "clusterName" : "clusterName",\n        "serviceName" : "HDFS",\n        "roleCommand" : "UPGRADE",\n        "hostname" : "localhost.localdomain",\n        "hostLevelParams": {},\n        "clusterHostInfo": "clusterHostInfo",\n        "configurations": {},\n        "commandType": "EXECUTION_COMMAND",\n        "configurations": {"global" : {}},\n        "roleParams": {},\n        "commandParams" :\t{\n          "source_stack_version": "{\\"stackName\\":\\"HDP\\",\\"stackVersion\\":\\"1.2.2\\"}",\n          "target_stack_version": "{\\"stackName\\":\\"HDP\\",\\"stackVersion\\":\\"1.3.0\\"}"\n        },\n        "clusterHostInfo": {\n          "ambari_db_server_host": [\n              "dev.hortonworks.com"\n          ],\n          "ganglia_server_host": [\n              "dev.hortonworks.com"\n          ],\n          "nagios_server_host": [\n              "dev.hortonworks.com"\n          ],\n          "namenode_host": [\n              "dev.hortonworks.com"\n          ],\n          "slave_hosts": [\n              "dev.hortonworks.com"\n          ]\n        }\n      }],\n    "statusCommands":[]\n  }\n  ', '\n  {\n    "responseId":"n",\n    "restartAgent": "False",\n    "executionCommands": [],\n    "statusCommands":[]\n  }\n  ']
responseId = Int(0)
if (__name__ == '__main__'):
    main()
