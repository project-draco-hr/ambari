{
  List<RequestEntity> requestEntities=requestDAO.findByPks(requestIds);
  ParallelLoopResult<Request> loopResult=Parallel.forLoop(requestEntities,new LoopBody<RequestEntity,Request>(){
    @Override public Request run(    RequestEntity requestEntity){
      return requestFactory.createExisting(requestEntity);
    }
  }
);
  if (loopResult.getIsCompleted()) {
    return loopResult.getResult();
  }
 else {
    List<Request> requests=loopResult.getResult();
    for (int i=0; i < requests.size(); i++) {
      if (requests.get(i) == null) {
        requests.set(i,requestFactory.createExisting(requestEntities.get(i)));
      }
    }
    return requests;
  }
}
