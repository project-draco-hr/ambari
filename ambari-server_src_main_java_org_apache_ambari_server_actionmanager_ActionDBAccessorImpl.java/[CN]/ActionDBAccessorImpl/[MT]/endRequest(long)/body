{
  RequestEntity requestEntity=requestDAO.findByPK(requestId);
  if (requestEntity != null && requestEntity.getEndTime() == -1L) {
    requestEntity.setEndTime(System.currentTimeMillis());
  }
  requestDAO.merge(requestEntity);
}
