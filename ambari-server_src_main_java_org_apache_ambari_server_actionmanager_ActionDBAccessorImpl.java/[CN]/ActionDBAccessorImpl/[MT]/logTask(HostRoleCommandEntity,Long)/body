{
  if (!temporaryTaskStatusCache.containsKey(commandEntity.getTaskId()) || temporaryTaskStatusCache.get(commandEntity.getTaskId()) != commandEntity.getStatus()) {
    AuditEvent taskEvent=TaskStatusAuditEvent.builder().withTaskId(String.valueOf(commandEntity.getTaskId())).withHostName(commandEntity.getHostName()).withOperation(commandEntity.getRoleCommand().toString() + " " + commandEntity.getRole().toString()).withDetails(commandEntity.getCommandDetail()).withStatus(commandEntity.getStatus().toString()).withRequestId(String.valueOf(requestId)).withTimestamp(System.currentTimeMillis()).build();
    auditLogger.log(taskEvent);
    temporaryTaskStatusCache.put(commandEntity.getTaskId(),commandEntity.getStatus());
  }
}
