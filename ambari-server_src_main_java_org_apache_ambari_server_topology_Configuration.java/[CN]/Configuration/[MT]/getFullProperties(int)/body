{
  if (depthLimit == 0) {
    return new HashMap<String,Map<String,String>>(properties);
  }
  Map<String,Map<String,String>> mergedProperties=parentConfiguration == null ? new HashMap<String,Map<String,String>>() : new HashMap<String,Map<String,String>>(parentConfiguration.getFullProperties(--depthLimit));
  for (  Map.Entry<String,Map<String,String>> entry : properties.entrySet()) {
    String configType=entry.getKey();
    Map<String,String> typeProps=entry.getValue();
    if (mergedProperties.containsKey(configType)) {
      mergedProperties.get(configType).putAll(typeProps);
    }
 else {
      mergedProperties.put(configType,typeProps);
    }
  }
  return mergedProperties;
}
