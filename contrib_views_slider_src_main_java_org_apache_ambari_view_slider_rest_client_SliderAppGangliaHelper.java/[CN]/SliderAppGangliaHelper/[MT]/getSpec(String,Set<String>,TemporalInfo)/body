{
  String metrics=getSetString(metricSet,-1);
  URIBuilder uriBuilder=new URIBuilder(gangliaUrl);
  uriBuilder.setParameter("h","__SummaryInfo__");
  if (metrics.length() > 0) {
    uriBuilder.setParameter("m",metrics);
  }
 else {
    uriBuilder.setParameter("m",".*");
  }
  if (temporalInfo != null) {
    long startTime=temporalInfo.getStartTime();
    if (startTime != -1) {
      uriBuilder.setParameter("s",String.valueOf(startTime));
    }
    long endTime=temporalInfo.getEndTime();
    if (endTime != -1) {
      uriBuilder.setParameter("e",String.valueOf(endTime));
    }
    long step=temporalInfo.getStep();
    if (step != -1) {
      uriBuilder.setParameter("r",String.valueOf(step));
    }
  }
 else {
    long endTime=System.currentTimeMillis() / 1000;
    long startTime=System.currentTimeMillis() / 1000 - 60 * 60;
    uriBuilder.setParameter("e",String.valueOf(endTime));
    uriBuilder.setParameter("s",String.valueOf(startTime));
    uriBuilder.setParameter("r","15");
  }
  return uriBuilder.toString();
}
