{
  TreeMap<Long,Double> metricValues=new TreeMap<>(dataPointsCache.asMap());
  if (metricValues.isEmpty() || newestTimeStamp - oldestTimeStamp < maxEvictionTimeInMillis) {
    return null;
  }
  dataPointsCache.invalidateAll();
  timelineMetric.setStartTime(metricValues.firstKey());
  timelineMetric.setMetricValues(metricValues);
  return new TimelineMetric(timelineMetric);
}
