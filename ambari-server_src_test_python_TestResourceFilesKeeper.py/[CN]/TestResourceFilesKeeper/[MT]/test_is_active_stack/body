def test_is_active_stack(self):
    resource_files_keeper = ResourceFilesKeeper(self.DUMMY_UNCHANGEABLE_PACKAGE)
    self.assertTrue(resource_files_keeper.is_active_stack(os.path.join(self.DUMMY_ACTIVE_STACK, ResourceFilesKeeper.METAINFO_XML)))
    self.assertFalse(resource_files_keeper.is_active_stack(os.path.join(self.DUMMY_INACTIVE_STACK, ResourceFilesKeeper.METAINFO_XML)))
    with patch('xml.dom.minidom.parse') as parse_mock:
        parse_mock.side_effect = self.exc_side_effect
        try:
            resource_files_keeper.is_active_stack('path-to-xml')
            self.fail('KeeperException not thrown')
        except KeeperException:
            pass
        except Exception as e:
            self.fail(('Unexpected exception thrown:' + str(e)))
