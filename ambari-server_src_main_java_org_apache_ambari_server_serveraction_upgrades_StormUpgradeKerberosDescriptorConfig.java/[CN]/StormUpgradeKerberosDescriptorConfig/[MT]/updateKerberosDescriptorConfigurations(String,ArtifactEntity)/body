{
  Map<String,Object> data=artifactEntity.getArtifactData();
  if (data != null) {
    final KerberosDescriptor kerberosDescriptor=new KerberosDescriptorFactory().createInstance(data);
    if (kerberosDescriptor != null) {
      KerberosServiceDescriptor serviceDescriptor=kerberosDescriptor.getService(STORM);
      if (serviceDescriptor != null) {
        for (        String configType : TARGET_PROPERTIES.keySet()) {
          KerberosConfigurationDescriptor configurationDescriptor=serviceDescriptor.getConfiguration(configType);
          if (configurationDescriptor != null) {
            for (            String key : TARGET_PROPERTIES.get(configType)) {
              String value=configurationDescriptor.getProperty(key);
              if (value != null) {
                value=value.replace(OLD_PART,NEW_PART);
                configurationDescriptor.putProperty(key,value);
                msg=msg + MessageFormat.format("{0}={1}, \n",key,value);
              }
 else {
                msg=msg + MessageFormat.format("{0} not found in {1}\n",key,configType);
              }
              artifactEntity.setArtifactData(kerberosDescriptor.toMap());
              artifactDAO.merge(artifactEntity);
            }
          }
 else {
            msg=msg + MessageFormat.format("{0} not found\n",configType);
          }
        }
      }
 else {
        msg=msg + MessageFormat.format("{0} not found\n",STORM);
      }
      artifactEntity.setArtifactData(kerberosDescriptor.toMap());
      artifactDAO.merge(artifactEntity);
    }
 else {
      msg=msg + "KerberosDescriptor not created from data";
    }
  }
 else {
    msg=msg + MessageFormat.format("{0} not found\n","artifactData");
  }
  return msg;
}
