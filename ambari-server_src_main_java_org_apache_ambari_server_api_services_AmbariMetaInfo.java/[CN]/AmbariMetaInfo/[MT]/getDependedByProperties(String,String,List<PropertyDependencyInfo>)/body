{
  StackInfo stack=getStackManager().getStack(stackName,stackVersion);
  if (changedConfigs == null) {
    return Collections.emptySet();
  }
  int size=0;
  Set<PropertyDependencyInfo> configs=new HashSet<PropertyDependencyInfo>();
  configs.addAll(changedConfigs);
  while (size != configs.size()) {
    size=configs.size();
    for (    ServiceInfo service : stack.getServices()) {
      for (      PropertyInfo pi : service.getProperties()) {
        String type=ConfigHelper.fileNameToConfigType(pi.getFilename());
        String name=pi.getName();
        PropertyDependencyInfo dep=new PropertyDependencyInfo(type,name);
        if (configs.contains(dep) && !configs.containsAll(pi.getDependedByProperties())) {
          configs.addAll(pi.getDependedByProperties());
        }
      }
    }
  }
  return configs;
}
