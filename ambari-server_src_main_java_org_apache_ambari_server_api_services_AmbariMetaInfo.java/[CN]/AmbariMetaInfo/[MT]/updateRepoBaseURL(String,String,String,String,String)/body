{
  RepositoryInfo ri=getRepository(stackName,stackVersion,osType,repoId);
  if (!stackRoot.exists())   throw new StackAccessException("Stack root does not exist.");
  ri.setBaseUrl(newBaseUrl);
  if (null != metainfoDAO) {
    String metaKey=generateRepoMetaKey(stackName,stackVersion,osType,repoId,REPOSITORY_XML_PROPERTY_BASEURL);
    MetainfoEntity entity=new MetainfoEntity();
    entity.setMetainfoName(metaKey);
    entity.setMetainfoValue(newBaseUrl);
    if (null != ri.getDefaultBaseUrl() && newBaseUrl.equals(ri.getDefaultBaseUrl())) {
      metainfoDAO.remove(entity);
    }
 else {
      metainfoDAO.merge(entity);
    }
  }
}
