{
  Map<String,List<RepositoryInfo>> reposResult=null;
  StackInfo stack=getStackInfo(stackName,version);
  if (stack != null) {
    List<RepositoryInfo> repository=stack.getRepositories();
    reposResult=new HashMap<String,List<RepositoryInfo>>();
    for (    RepositoryInfo repo : repository) {
      if (!reposResult.containsKey(repo.getOsType())) {
        reposResult.put(repo.getOsType(),new ArrayList<RepositoryInfo>());
      }
      reposResult.get(repo.getOsType()).add(repo);
    }
  }
  return reposResult;
}
