{
  Set<String> pkPropertyIds=getPKPropertyIds();
  Set<Map<String,Object>> properties=new HashSet<Map<String,Object>>();
  Set<Map<String,Object>> predicateProperties=new HashSet<Map<String,Object>>();
  if (requestPropertyMap == null || pkPropertyIds.equals(PredicateHelper.getPropertyIds(predicate))) {
    predicateProperties.add(getProperties(predicate));
  }
 else {
    for (    Resource resource : getResources(PropertyHelper.getReadRequest(pkPropertyIds),predicate)) {
      predicateProperties.add(PropertyHelper.getProperties(resource));
    }
  }
  for (  Map<String,Object> predicatePropertyMap : predicateProperties) {
    Map<String,Object> propertyMap=new HashMap<String,Object>(predicatePropertyMap);
    if (requestPropertyMap != null) {
      propertyMap.putAll(requestPropertyMap);
    }
    properties.add(propertyMap);
  }
  return properties;
}
