def test_port_alert_no_sub(self):
    json = {'name': 'namenode_process', 'service': 'HDFS', 'component': 'NAMENODE', 'label': 'NameNode process', 'interval': 6, 'scope': 'host', 'source': {'type': 'PORT', 'uri': 'http://c6401.ambari.apache.org', 'default_port': 50070, 'reporting': {'ok': {'text': 'TCP OK - {0:.4f} response time on port {1}', }, 'critical': {'text': 'Could not load process info: {0}', }, }, }, }
    pa = PortAlert(json, json['source'])
    pa.set_helpers(AlertCollector(), '')
    self.assertEquals('http://c6401.ambari.apache.org', pa.uri)
    res = pa.collect()
    pass
