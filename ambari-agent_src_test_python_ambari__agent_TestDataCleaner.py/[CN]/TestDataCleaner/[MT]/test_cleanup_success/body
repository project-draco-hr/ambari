@patch('os.walk')
@patch('time.time')
@patch('os.path.getmtime')
@patch('os.remove')
def test_cleanup_success(self, remMock, mtimeMock, timeMock, walkMock):
    self.config.reset_mock()
    DataCleaner.logger.reset_mock()
    walkMock.return_value = iter(self.test_dir)
    timeMock.return_value = (2592000 + 2)
    mtimeMock.side_effect = [1, 1, 1, 2, 1, 1]
    cleaner = DataCleaner.DataCleaner(self.config)
    cleaner.cleanup()
    self.assertTrue((len(remMock.call_args_list) == 4))
    remMock.assert_any_call('/test_path/errors-12.txt')
    remMock.assert_any_call('/test_path/output-12.txt')
    remMock.assert_any_call('/test_path/site-12.pp')
    remMock.assert_any_call('/test_path/site-15.pp')
    pass
