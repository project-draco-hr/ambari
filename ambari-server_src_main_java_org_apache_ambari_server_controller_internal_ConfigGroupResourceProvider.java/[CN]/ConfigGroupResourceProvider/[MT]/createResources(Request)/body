{
  final Set<ConfigGroupRequest> requests=new HashSet<ConfigGroupRequest>();
  for (  Map<String,Object> propertyMap : request.getProperties()) {
    requests.add(getConfigGroupRequest(propertyMap));
  }
  Set<ConfigGroupResponse> responses=createResources(new Command<Set<ConfigGroupResponse>>(){
    @Override public Set<ConfigGroupResponse> invoke() throws AmbariException {
      return createConfigGroups(requests);
    }
  }
);
  notifyCreate(Resource.Type.ConfigGroup,request);
  Set<Resource> associatedResources=new HashSet<Resource>();
  for (  ConfigGroupResponse response : responses) {
    Resource resource=new ResourceImpl(Resource.Type.ConfigGroup);
    resource.setProperty(CONFIGGROUP_ID_PROPERTY_ID,response.getId());
    associatedResources.add(resource);
  }
  return getRequestStatus(null,associatedResources);
}
