{
  AlertHistoryEntity history=new AlertHistoryEntity();
  history.setAlertDefinition(definition);
  history.setAlertInstance(alert.getInstance());
  history.setAlertLabel(alert.getLabel());
  history.setAlertState(alert.getState());
  history.setAlertText(alert.getText());
  history.setAlertTimestamp(Long.valueOf(alert.getTimestamp()));
  history.setClusterId(Long.valueOf(clusterId));
  history.setComponentName(alert.getComponent());
  history.setServiceName(alert.getService());
  if (definition.isHostIgnored()) {
    history.setHostName(null);
  }
 else {
    history.setHostName(alert.getHost());
  }
  return history;
}
