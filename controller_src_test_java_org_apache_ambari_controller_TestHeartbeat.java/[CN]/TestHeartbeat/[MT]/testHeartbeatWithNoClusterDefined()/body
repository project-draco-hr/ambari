{
  Clusters clusters=mock(Clusters.class);
  when(clusters.getClusterByName("cluster1")).thenReturn(null);
  Nodes nodes=mock(Nodes.class);
  clusters=mock(Clusters.class);
  Node node=new Node();
  node.setName("localhost");
  NodeState nodeState=new NodeState();
  nodeState.setClusterName(null);
  node.setNodeState(nodeState);
  when(nodes.getNode("localhost")).thenReturn(node);
  when(nodes.getNodeRoles("localhost")).thenReturn(Arrays.asList(roles));
  HeartbeatHandler handler=new HeartbeatHandler(clusters,nodes,driver,invoker);
  ControllerResponse response=handler.processHeartBeat(heartbeat);
  assert(response.getActions().size() == 0);
}
