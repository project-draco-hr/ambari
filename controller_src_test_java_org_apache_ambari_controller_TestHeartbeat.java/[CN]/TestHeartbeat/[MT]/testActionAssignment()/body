{
  when(nodes.getHeathOfNode("localhost")).thenReturn(NodeState.HEALTHY);
  HeartbeatHandler handler=new HeartbeatHandler(clusters,nodes,driver,invoker);
  ControllerResponse resp=handler.processHeartBeat(heartbeat);
  List<Action> actions=resp.getActions();
  assert(actions.size() > 0);
  when(nodes.getHeathOfNode("localhost")).thenReturn(NodeState.UNHEALTHY);
  handler=new HeartbeatHandler(clusters,nodes,driver,invoker);
  resp=handler.processHeartBeat(heartbeat);
  actions=resp.getActions();
  assert(actions.size() == 0);
}
