{
  List<StageWrapper> results=new ArrayList<StageWrapper>();
  if (LOG.isDebugEnabled()) {
    LOG.debug("RU initial: {}",initialBatch);
    LOG.debug("RU final: {}",finalBatches);
  }
  results.addAll(fromProxies(ctx.getDirection(),initialBatch));
  ManualTask task=new ManualTask();
  task.summary=m_batch.summary;
  task.message=m_batch.message;
  StageWrapper wrapper=new StageWrapper(StageWrapper.Type.SERVER_SIDE_ACTION,"Validate Partial " + (Direction.UPGRADE == ctx.getDirection() ? "Upgrade" : "Downgrade"),new TaskWrapper(null,null,Collections.<String>emptySet(),task));
  results.add(wrapper);
  results.addAll(fromProxies(ctx.getDirection(),finalBatches));
  return results;
}
