{
  List<StageWrapper> results=new ArrayList<StageWrapper>();
  for (  Entry<String,List<TaskProxy>> entry : wrappers.entrySet()) {
    StageWrapper wrapper=null;
    StageWrapper execwrapper=null;
    for (    TaskProxy t : entry.getValue()) {
      if (!t.restart) {
        if (null == wrapper) {
          wrapper=new StageWrapper(t.message,t.tasks);
        }
      }
 else {
        if (null == execwrapper) {
          execwrapper=new StageWrapper(t.message,t.tasks);
        }
      }
    }
    if (null != wrapper) {
      results.add(wrapper);
    }
    if (null != execwrapper) {
      results.add(execwrapper);
    }
  }
  return results;
}
