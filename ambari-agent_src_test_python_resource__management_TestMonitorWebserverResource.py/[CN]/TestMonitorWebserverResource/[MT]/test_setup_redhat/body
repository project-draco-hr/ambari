@patch.object(System, 'os_family', new='redhat')
def test_setup_redhat(self):
    with Environment(test_mode=True) as env:
        MonitorWebserverProvider(MonitorWebserver('start')).action_start()
    defined_resources = env.resource_list
    expected_resources = '[u"MonitorWebserver[\'start\']", u"Execute[\'grep -E \'KeepAlive (On|Off)\' /etc/httpd/conf/httpd.conf && ambari-sudo.sh [RMF_ENV_PLACEHOLDER] -H -E sed -i \'s/KeepAlive Off/KeepAlive On/\' /etc/httpd/conf/httpd.conf || echo \'KeepAlive On\' | ambari-sudo.sh [RMF_ENV_PLACEHOLDER] -H -E tee --append /etc/httpd/conf/httpd.conf > /dev/null\']", u"Execute[\'(\'/etc/init.d/httpd\', \'start\')\']"]'
    self.assertEqual(str(defined_resources), expected_resources)
