@patch.object(System, 'platform', new='suse')
def test_setup_suse(self):
    with Environment(test_mode=True) as env:
        MonitorWebserverProvider(MonitorWebserver('start')).action_start()
    defined_resources = env.resource_list
    expected_resources = "[MonitorWebserver['start'], Execute['grep -E 'KeepAlive (On|Off)' /etc/apache2/httpd.conf && sed -i 's/KeepAlive Off/KeepAlive On/' /etc/apache2/httpd.conf || echo 'KeepAlive On' >> /etc/apache2/httpd.conf'], Execute['/etc/init.d/apache2 start']]"
    self.assertEqual(str(defined_resources), expected_resources)
