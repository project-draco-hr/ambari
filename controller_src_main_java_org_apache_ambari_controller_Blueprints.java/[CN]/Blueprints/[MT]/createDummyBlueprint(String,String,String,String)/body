{
  Blueprint bp=new Blueprint();
  bp.setName(name);
  bp.setParentName(siteName);
  bp.setRevision(revision);
  bp.setParentRevision(siteVersion);
  Component hdfsC=new Component();
  hdfsC.setName("hdfs");
  hdfsC.setArchitecture("x86_64");
  hdfsC.setVersion("0.20.205.0");
  Component mapredC=new Component();
  mapredC.setName("mapred");
  mapredC.setVersion("0.20.205.1");
  List<Component> compList=new ArrayList<Component>();
  compList.add(mapredC);
  compList.add(hdfsC);
  bp.setComponents(compList);
  List<RepositoryKind> prList=new ArrayList<RepositoryKind>();
  RepositoryKind pr=new RepositoryKind();
  ArrayList<String> list=new ArrayList<String>();
  list.add("http://localhost/~vgogate/ambari");
  pr.setUrls(list);
  pr.setKind("RPM");
  bp.setPackageRepositories(prList);
  Configuration bpDefaultCfg=new Configuration();
  ConfigurationCategory hdfs_site=new ConfigurationCategory();
  hdfs_site.setName("hdfs-site");
  ConfigurationCategory mapred_site=new ConfigurationCategory();
  mapred_site.setName("mapred-site");
  hdfs_site.getProperty().add(getProperty("dfs.name.dir","/tmp/namenode"));
  hdfs_site.getProperty().add(getProperty("dfs.data.dir","/tmp/datanode"));
  mapred_site.getProperty().add(getProperty("mapred.system.dir","/mapred/mapredsystem"));
  mapred_site.getProperty().add(getProperty("mapred.local.dir","/tmp/mapred"));
  bpDefaultCfg.getCategory().add(mapred_site);
  bpDefaultCfg.getCategory().add(hdfs_site);
  bp.setConfiguration(bpDefaultCfg);
  List<Role> roleList=new ArrayList<Role>();
  Role hdfs_nn_role=new Role();
  hdfs_nn_role.setName("hdfs-NN");
  hdfs_nn_role.setConfiguration(bpDefaultCfg);
  Role mapred_jt_role=new Role();
  mapred_jt_role.setName("mapred-JT");
  mapred_jt_role.setConfiguration(bpDefaultCfg);
  Role slaves_role=new Role();
  slaves_role.setName("slaves");
  slaves_role.setConfiguration(bpDefaultCfg);
  roleList.add(hdfs_nn_role);
  roleList.add(mapred_jt_role);
  roleList.add(slaves_role);
  mapredC.setRoles(roleList);
  try {
    addBlueprint(bp);
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
