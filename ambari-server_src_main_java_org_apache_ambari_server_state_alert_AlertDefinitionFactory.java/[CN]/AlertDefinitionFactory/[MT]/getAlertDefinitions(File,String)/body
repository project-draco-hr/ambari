{
  Map<String,List<AlertDefinition>> definitionMap=null;
  try {
    Type type=new TypeToken<Map<String,List<AlertDefinition>>>(){
    }
.getType();
    definitionMap=m_gson.fromJson(new FileReader(alertDefinitionFile),type);
  }
 catch (  Exception e) {
    LOG.error("Could not read the alert definition file",e);
    throw new AmbariException("Could not read alert definition file",e);
  }
  Set<AlertDefinition> definitions=new HashSet<AlertDefinition>();
  for (  Entry<String,List<AlertDefinition>> entry : definitionMap.entrySet()) {
    for (    AlertDefinition ad : entry.getValue()) {
      ad.setServiceName(serviceName);
      if (!entry.getKey().equals("service")) {
        ad.setComponentName(entry.getKey());
      }
    }
    definitions.addAll(entry.getValue());
  }
  return definitions;
}
