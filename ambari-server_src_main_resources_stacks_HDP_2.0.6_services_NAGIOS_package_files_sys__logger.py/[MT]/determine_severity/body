def determine_severity(state, service):
    if severities.has_key(state):
        severity = severities[state]
    else:
        severity = 'Warning'
    if ((severity == 'Warning') and (service in degraded_alert_services)):
        severity = 'Degraded'
    elif ((severity != 'OK') and (service in fatal_alert_services)):
        severity = 'Fatal'
    return severity
