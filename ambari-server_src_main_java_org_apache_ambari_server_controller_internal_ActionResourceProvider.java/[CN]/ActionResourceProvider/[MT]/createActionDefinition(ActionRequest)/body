{
  if (request.getActionName() == null || request.getActionName().isEmpty()) {
    throw new IllegalArgumentException("Action name should be provided");
  }
  LOG.info("Received a createActionDefinition request = " + request.toString());
  if (request.getTargetType() == null || request.getActionType() == null) {
    throw new AmbariException("Both target_type and action_type must be specified.");
  }
  TargetHostType targetType=TargetHostType.valueOf(request.getTargetType());
  ActionType actionType=ActionType.valueOf(request.getActionType());
  Short defaultTimeout=CustomActionDBAccessorImpl.MIN_TIMEOUT;
  if (request.getDefaultTimeout() != null && !request.getDefaultTimeout().isEmpty()) {
    defaultTimeout=Short.parseShort(request.getDefaultTimeout());
  }
  getActionManager().createActionDefinition(request.getActionName(),actionType,request.getInputs(),request.getDescription(),request.getTargetService(),request.getTargetComponent(),targetType,defaultTimeout);
}
