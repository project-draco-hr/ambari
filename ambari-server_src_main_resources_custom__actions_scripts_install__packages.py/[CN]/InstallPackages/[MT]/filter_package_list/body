def filter_package_list(self, package_list):
    '\n    Here we filter packages that are managed with custom logic in package\n    scripts. Usually this packages come from system repositories, and either\n     are not available when we restrict repository list, or should not be\n    installed on host at all.\n    :param package_list: original list\n    :return: filtered package_list\n    '
    filtered_package_list = []
    for package in package_list:
        skip_package = False
        if package['name'].startswith('mysql'):
            skip_package = True
        if package['name'].startswith('ambari-metrics'):
            skip_package = True
        io_compression_codecs = default('/configurations/core-site/io.compression.codecs', None)
        if ((not io_compression_codecs) or ('com.hadoop.compression.lzo' not in io_compression_codecs)):
            lzo_packages = ['hadoop-lzo', 'lzo', 'hadoop-lzo-native', 'liblzo2-2', 'hadooplzo']
            for lzo_package in lzo_packages:
                if package['name'].startswith(lzo_package):
                    skip_package = True
                    break
        if (not skip_package):
            filtered_package_list.append(package)
    return filtered_package_list
