def filter_package_list(self, package_list):
    '\n    Note: that we have skipUpgrade option in metainfo.xml to filter packages,\n    so use this method only if, for some reason the metainfo option cannot be used.\n    \n    Here we filter packages that are managed with custom logic in package\n    scripts. Usually this packages come from system repositories, and either\n     are not available when we restrict repository list, or should not be\n    installed on host at all.\n    :param package_list: original list\n    :return: filtered package_list\n    '
    filtered_package_list = []
    for package in package_list:
        skip_package = False
        io_compression_codecs = default('/configurations/core-site/io.compression.codecs', None)
        if ((not io_compression_codecs) or ('com.hadoop.compression.lzo' not in io_compression_codecs)):
            skip_package = package['name'].startswith('hadooplzo')
        if (not skip_package):
            filtered_package_list.append(package)
    return filtered_package_list
