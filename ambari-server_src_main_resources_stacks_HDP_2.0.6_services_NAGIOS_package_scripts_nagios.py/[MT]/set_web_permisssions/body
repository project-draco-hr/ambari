def set_web_permisssions():
    import params
    cmd = format('{htpasswd_cmd} -c -b  {conf_dir}/htpasswd.users {nagios_web_login} {nagios_web_password!p}')
    test = format('grep {nagios_web_login} {conf_dir}/htpasswd.users')
    Execute(cmd, not_if=test)
    File(format('{conf_dir}/htpasswd.users'), owner=params.nagios_user, group=params.nagios_group, mode=416)
    if (System.get_instance().os_family == 'suse'):
        command = format('usermod -G {nagios_group} wwwrun')
    elif (System.get_instance().os_family == 'ubuntu'):
        command = format('usermod -G {nagios_group} www-data')
    elif (System.get_instance().os_family == 'redhat'):
        command = format('usermod -a -G {nagios_group} apache')
    Execute(command)
