{
  Set<ClusterResponse> response=new HashSet<ClusterResponse>();
  if (request.getClusterName() != null) {
    Cluster c=clusters.getCluster(request.getClusterName());
    response.add(c.convertToResponse());
    return response;
  }
  Map<String,Cluster> allClusters=clusters.getClusters();
  for (  Cluster c : allClusters.values()) {
    if (request.getStackVersion() != null && !request.getStackVersion().isEmpty()) {
      if (!request.getStackVersion().equals(c.getDesiredStackVersion().getStackVersion())) {
        continue;
      }
    }
    response.add(c.convertToResponse());
  }
  return response;
}
