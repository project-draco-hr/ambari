{
  if (request.getClusterName() == null || request.getClusterName().isEmpty() || request.getServiceName() == null || request.getServiceName().isEmpty() || request.getComponentName() == null || request.getComponentName().isEmpty()) {
    throw new AmbariException("Invalid arguments");
  }
  final Cluster cluster=clusters.getCluster(request.getClusterName());
  final Service s=cluster.getService(request.getServiceName());
  final ServiceComponent sc=s.getServiceComponent(request.getComponentName());
  Set<ServiceComponentHostResponse> response=new HashSet<ServiceComponentHostResponse>();
  if (request.getHostname() != null) {
    ServiceComponentHost sch=sc.getServiceComponentHost(request.getHostname());
    ServiceComponentHostResponse r=sch.convertToResponse();
    response.add(r);
    return response;
  }
  Map<String,ServiceComponentHost> allSch=sc.getServiceComponentHosts();
  for (  ServiceComponentHost sch : allSch.values()) {
    ServiceComponentHostResponse r=sch.convertToResponse();
    response.add(r);
  }
  return response;
}
