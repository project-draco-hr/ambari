{
  Set<StackConfigurationResponse> response;
  String stackName=request.getStackName();
  String stackVersion=request.getStackVersion();
  String serviceName=request.getServiceName();
  String propertyName=request.getPropertyName();
  if (propertyName != null) {
    PropertyInfo property=this.ambariMetaInfo.getProperty(stackName,stackVersion,serviceName,propertyName);
    response=Collections.singleton(property.convertToResponse());
  }
 else {
    Set<PropertyInfo> properties=this.ambariMetaInfo.getProperties(stackName,stackVersion,serviceName);
    response=new HashSet<StackConfigurationResponse>();
    for (    PropertyInfo property : properties) {
      response.add(property.convertToResponse());
    }
  }
  return response;
}
