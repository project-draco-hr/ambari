{
  if (currentDesiredState == State.STARTED) {
    throw new AmbariException("Changing of configs not supported" + " in STARTED state" + ", clusterName=" + sc.getClusterName() + ", serviceName="+ sc.getServiceName()+ ", componentName="+ sc.getName()+ ", currentDesiredState="+ currentDesiredState+ ", newDesiredState="+ newDesiredState);
  }
  if (newDesiredState != null) {
    if (!(newDesiredState == State.INIT || newDesiredState == State.INSTALLED || newDesiredState == State.STARTED)) {
      throw new AmbariException("Changing of configs not supported" + " for this transition" + ", clusterName=" + sc.getClusterName() + ", serviceName="+ sc.getServiceName()+ ", componentName="+ sc.getName()+ ", currentDesiredState="+ currentDesiredState+ ", newDesiredState="+ newDesiredState);
    }
  }
  for (  ServiceComponentHost sch : sc.getServiceComponentHosts().values()) {
    safeToUpdateConfigsForServiceComponentHost(sch,sch.getState(),newDesiredState);
  }
}
