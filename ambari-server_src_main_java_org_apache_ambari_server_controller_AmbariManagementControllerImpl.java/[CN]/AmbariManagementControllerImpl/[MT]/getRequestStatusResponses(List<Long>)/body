{
  List<HostRoleCommand> hostRoleCommands=actionManager.getAllTasksByRequestIds(requestIds);
  Map<Long,String> requestContexts=actionManager.getRequestContext(requestIds);
  Map<Long,RequestStatusResponse> responseMap=new HashMap<Long,RequestStatusResponse>();
  for (  HostRoleCommand hostRoleCommand : hostRoleCommands) {
    Long requestId=hostRoleCommand.getRequestId();
    RequestStatusResponse response=responseMap.get(requestId);
    if (response == null) {
      response=new RequestStatusResponse(requestId);
      response.setRequestContext(requestContexts.get(requestId));
      response.setTasks(new ArrayList<ShortTaskStatus>());
      responseMap.put(requestId,response);
    }
    response.getTasks().add(new ShortTaskStatus(hostRoleCommand));
  }
  return responseMap.values();
}
