{
  Set<RequestStatusResponse> response=new HashSet<RequestStatusResponse>();
  Long requestId=request.getRequestId();
  if (requestId == null) {
    RequestStatus requestStatus=null;
    if (request.getRequestStatus() != null) {
      requestStatus=RequestStatus.valueOf(request.getRequestStatus());
    }
    if (LOG.isDebugEnabled()) {
      LOG.debug("Received a Get Request Status request" + ", requestId=null" + ", requestStatus="+ requestStatus);
    }
    response.addAll(getRequestStatusResponsesWithoutTasks(actionManager.getRequestsByStatus(requestStatus)));
  }
 else {
    Collection<RequestStatusResponse> responses=getRequestStatusResponsesWithoutTasks(Collections.singletonList(requestId.longValue()));
    if (responses.isEmpty()) {
      throw new ObjectNotFoundException("Request resource doesn't exist.");
    }
    response.addAll(responses);
  }
  return response;
}
