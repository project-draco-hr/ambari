{
  Collection<Long> requestIds=new ArrayList<Long>();
  Collection<Long> taskIds=new ArrayList<Long>();
  for (  TaskStatusRequest request : requests) {
    if (request.getTaskId() != null) {
      taskIds.add(request.getTaskId());
    }
    if (request.getRequestId() != null) {
      requestIds.add(request.getRequestId());
    }
  }
  Set<TaskStatusResponse> responses=new HashSet<TaskStatusResponse>();
  for (  HostRoleCommand command : actionManager.getTasksByRequestAndTaskIds(requestIds,taskIds)) {
    TaskStatusResponse taskStatusResponse=new TaskStatusResponse(command);
    responses.add(taskStatusResponse);
  }
  if (responses.size() == 0) {
    throw new ObjectNotFoundException("Task resource doesn't exist.");
  }
  return responses;
}
