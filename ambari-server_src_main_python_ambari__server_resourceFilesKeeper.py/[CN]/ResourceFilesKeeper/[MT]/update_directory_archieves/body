def update_directory_archieves(self):
    '\n    Please see AMBARI-4481 for more details\n    '
    stacks_root = os.path.join(self.resources_dir, self.STACKS_DIR)
    self.dbg_out('Updating archives for stack dirs at {0}...'.format(stacks_root))
    valid_stacks = self.list_stacks(stacks_root)
    self.dbg_out('Stacks: {0}'.format(pprint.pformat(valid_stacks)))
    for stack_dir in valid_stacks:
        for (root, dirs, _) in os.walk(stack_dir):
            for d in dirs:
                if (d in self.ARCHIVABLE_DIRS):
                    full_path = os.path.abspath(os.path.join(root, d))
                    self.update_directory_archive(full_path)
    common_services_root = os.path.join(self.resources_dir, self.COMMON_SERVICES_DIR)
    self.dbg_out('Updating archives for common services dirs at {0}...'.format(common_services_root))
    valid_common_services = self.list_common_services(common_services_root)
    self.dbg_out('Common Services: {0}'.format(pprint.pformat(valid_common_services)))
    for common_service_dir in valid_common_services:
        for (root, dirs, _) in os.walk(common_service_dir):
            for d in dirs:
                if (d in self.ARCHIVABLE_DIRS):
                    full_path = os.path.abspath(os.path.join(root, d))
                    self.update_directory_archive(full_path)
    custom_actions_root = os.path.join(self.resources_dir, self.CUSTOM_ACTIONS_DIR)
    self.dbg_out('Updating archive for {0} dir at {1}...'.format(self.CUSTOM_ACTIONS_DIR, custom_actions_root))
    host_scripts_root = os.path.join(self.resources_dir, self.HOST_SCRIPTS_DIR)
    self.dbg_out('Updating archive for {0} dir at {1}...'.format(self.HOST_SCRIPTS_DIR, host_scripts_root))
    self.update_directory_archive(custom_actions_root)
    self.update_directory_archive(host_scripts_root)
