{
  service.getStateMachine().setCurrentState(startState);
  for (int i=0; i < serviceEvents.length; i++) {
    ServiceEventType rEvent=serviceEvents[i];
    service.handle(new ServiceEvent(rEvent,service));
    ServiceState expectedRState=serviceStates[i];
    assertEquals(service.getServiceState(),expectedRState);
  }
}
