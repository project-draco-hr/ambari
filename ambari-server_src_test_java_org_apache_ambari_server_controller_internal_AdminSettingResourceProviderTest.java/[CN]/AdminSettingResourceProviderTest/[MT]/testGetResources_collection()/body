{
  AdminSettingEntity entity1=newEntity("motd");
  AdminSettingEntity entity2=newEntity("ldap");
  Request request=PropertyHelper.getReadRequest(ADMINSETTING_NAME_PROPERTY_ID,ADMINSETTING_CONTENT_PROPERTY_ID,ADMINSETTING_SETTING_TYPE_PROPERTY_ID,ADMINSETTING_UPDATED_BY_PROPERTY_ID,ADMINSETTING_UPDATE_TIMESTAMP_PROPERTY_ID);
  expect(dao.findAll()).andReturn(Lists.newArrayList(entity1,entity2));
  mockControl.replay();
  Set<Resource> response=resourceProvider.getResources(request,null);
  assertEquals(2,response.size());
  Map<Object,Resource> resourceMap=new HashMap<>();
  Iterator<Resource> resourceIterator=response.iterator();
  Resource nextResource=resourceIterator.next();
  resourceMap.put(nextResource.getPropertyValue(ADMINSETTING_NAME_PROPERTY_ID),nextResource);
  nextResource=resourceIterator.next();
  resourceMap.put(nextResource.getPropertyValue(ADMINSETTING_NAME_PROPERTY_ID),nextResource);
  assertEqualsEntityAndResource(entity1,resourceMap.get(entity1.getName()));
  assertEqualsEntityAndResource(entity2,resourceMap.get(entity2.getName()));
}
