{
  AdminSettingEntity entity=newEntity("motd");
  Map<String,Object> properties=new HashMap<>();
  properties.put(ADMINSETTING_NAME_PROPERTY_ID,entity.getName());
  properties.put(ADMINSETTING_CONTENT_PROPERTY_ID,entity.getContent());
  properties.put(ADMINSETTING_UPDATED_BY_PROPERTY_ID,entity.getUpdatedBy());
  properties.put(ADMINSETTING_SETTING_TYPE_PROPERTY_ID,entity.getSettingType());
  Capture<AdminSettingEntity> entityCapture=Capture.newInstance();
  Request request=PropertyHelper.getCreateRequest(Collections.singleton(properties),null);
  dao.create(capture(entityCapture));
  mockControl.replay();
  RequestStatus response=resourceProvider.createResources(request);
  AdminSettingEntity capturedEntity=entityCapture.getValue();
  assertEquals(RequestStatus.Status.Complete,response.getStatus());
  Set<Resource> associatedResources=response.getAssociatedResources();
  assertEquals(1,associatedResources.size());
  assertEquals(entity.getName(),capturedEntity.getName());
  assertEquals(entity.getContent(),capturedEntity.getContent());
  assertEquals(entity.getSettingType(),capturedEntity.getSettingType());
  assertEquals(entity.getUpdatedBy(),capturedEntity.getUpdatedBy());
}
