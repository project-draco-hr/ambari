{
  InstanceConfig instanceConfig=InstanceConfigTest.getInstanceConfigs().get(0);
  ViewDefinition viewDefinition=ViewDefinitionTest.getViewDefinition();
  ViewInstanceDefinition viewInstanceDefinition=new ViewInstanceDefinition(viewDefinition,instanceConfig);
  ResourceProvider provider=createNiceMock(ResourceProvider.class);
  Resource.Type type=new Resource.Type("MY_VIEW/myType");
  viewInstanceDefinition.addResourceProvider(type,provider);
  ViewContextImpl viewContext=new ViewContextImpl(viewInstanceDefinition);
  Assert.assertNotNull(viewContext.getURLStreamProvider());
}
