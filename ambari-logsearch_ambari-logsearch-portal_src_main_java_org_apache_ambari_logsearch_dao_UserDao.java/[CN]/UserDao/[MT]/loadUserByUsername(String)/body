{
  logger.debug(" loadUserByUsername username" + username);
  HashMap<String,Object> userInfo=this.findByusername(username);
  User user=new User();
  if (userInfo != null) {
    user.setFirstName(userInfo.get(UserInfoAttributes.NAME) != null ? (String)userInfo.get(UserInfoAttributes.NAME) : "Unknown");
    user.setLastName(userInfo.get(UserInfoAttributes.NAME) != null ? (String)userInfo.get(UserInfoAttributes.NAME) : "Unknown");
    user.setUsername(userInfo.get(UserInfoAttributes.USER_NAME) != null ? (String)userInfo.get(UserInfoAttributes.USER_NAME) : "");
    user.setPassword(userInfo.get(UserInfoAttributes.ENC_PASSWORD) != null ? (String)userInfo.get(UserInfoAttributes.ENC_PASSWORD) : "");
  }
  Role r=new Role();
  r.setName("ROLE_USER");
  Privilege priv=new Privilege();
  priv.setName("READ_PRIVILEGE");
  ArrayList<Privilege> plist=new ArrayList<Privilege>();
  plist.add(priv);
  r.setPrivileges(plist);
  List<GrantedAuthority> roles=new ArrayList<GrantedAuthority>();
  roles.add(r);
  user.setAuthorities(roles);
  return user;
}
