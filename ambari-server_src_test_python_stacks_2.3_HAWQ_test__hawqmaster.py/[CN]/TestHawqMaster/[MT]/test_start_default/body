@patch('hawqmaster.common.__set_osparams')
def test_start_default(self, set_osparams_mock):
    self.executeScript((self.COMMON_SERVICES_PACKAGE_DIR + '/scripts/hawqmaster.py'), classname='HawqMaster', command='start', config_file='hawq_default.json', stack_version=self.STACK_VERSION, target=RMFTestCase.TARGET_COMMON_SERVICES)
    self.__asserts_for_configure()
    self.assertResourceCalled('Execute', 'source /usr/local/hawq/greenplum_path.sh && hawq ssh-exkeys -f /usr/local/hawq/etc/hawq_hosts -p gpadmin', logoutput=True, not_if=None, only_if=None, user=self.GPADMIN, timeout=900)
    self.assertResourceCalled('HdfsResource', '/hawq_default', immutable_paths=self.DEFAULT_IMMUTABLE_PATHS, default_fs=u'hdfs://c6401.ambari.apache.org:8020', hdfs_site=self.getConfig()['configurations']['hdfs-site'], type='directory', action=['create_on_execute'], owner=self.GPADMIN, group=self.GPADMIN, user=u'hdfs', mode=493, security_enabled=False, kinit_path_local='/usr/bin/kinit', recursive_chown=True, keytab=UnknownConfigurationMock(), principal_name=UnknownConfigurationMock())
    self.assertResourceCalled('HdfsResource', None, immutable_paths=self.DEFAULT_IMMUTABLE_PATHS, default_fs=u'hdfs://c6401.ambari.apache.org:8020', hdfs_site=self.getConfig()['configurations']['hdfs-site'], action=['execute'], user=u'hdfs', security_enabled=False, kinit_path_local='/usr/bin/kinit', keytab=UnknownConfigurationMock(), principal_name=UnknownConfigurationMock())
    self.assertResourceCalled('Execute', 'source /usr/local/hawq/greenplum_path.sh && hawq init master -a -v', logoutput=True, not_if=None, only_if=None, user=self.GPADMIN, timeout=900)
    self.assertNoMoreResources()
