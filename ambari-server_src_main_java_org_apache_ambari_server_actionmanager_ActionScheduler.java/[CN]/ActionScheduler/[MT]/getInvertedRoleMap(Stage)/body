{
  Map<Role,Map<String,HostRoleCommand>> roleToHrcMap=new TreeMap<Role,Map<String,HostRoleCommand>>();
  Map<String,HostAction> hostActions=s.getHostActions();
  for (  String h : hostActions.keySet()) {
    HostAction ha=hostActions.get(h);
    List<HostRoleCommand> roleCommands=ha.getRoleCommands();
    for (    HostRoleCommand hrc : roleCommands) {
      Map<String,HostRoleCommand> hrcMap=roleToHrcMap.get(hrc.getRole());
      if (hrcMap == null) {
        hrcMap=new TreeMap<String,HostRoleCommand>();
        roleToHrcMap.put(hrc.getRole(),hrcMap);
      }
      hrcMap.put(h,hrc);
    }
  }
  return roleToHrcMap;
}
