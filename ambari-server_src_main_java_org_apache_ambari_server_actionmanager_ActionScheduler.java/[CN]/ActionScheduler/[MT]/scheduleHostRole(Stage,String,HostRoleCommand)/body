{
  LOG.info("Host:" + hostname + ", role:"+ hrc.getRole()+ ", actionId:"+ s.getActionId()+ " being scheduled");
  long now=System.currentTimeMillis();
  if (s.getStartTime(hostname) < 0) {
    try {
      Cluster c=fsmObject.getCluster(s.getClusterName());
      Service svc=c.getService("");
      ServiceComponent svcComp=svc.getServiceComponent("");
      ServiceComponentHost svcCompHost=svcComp.getServiceComponentHost(hostname);
      svcCompHost.handleEvent(hrc.getEvent());
    }
 catch (    InvalidStateTransitonException e) {
      LOG.info("Transition failed for host: " + hostname + ", role: "+ hrc.getRole(),e);
      throw e;
    }
catch (    AmbariException e) {
      LOG.info("Exception in fsm: " + hostname + ", role: "+ hrc.getRole(),e);
      throw e;
    }
  }
  s.setLastAttemptTime(hostname,now);
  s.incrementAttemptCount(hostname);
  actionQueue.enqueue(hostname,s.getExecutionCommand(hostname));
}
