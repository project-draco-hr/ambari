{
  UserEntity userEntity=new UserEntity();
  userEntity.setUserName(userName);
  userEntity.setUserPassword(passwordEncoder.encode(password));
  userEntity.setRoleEntities(new HashSet<RoleEntity>());
  RoleEntity roleEntity=roleDAO.findByName(getUserRole());
  if (roleEntity == null) {
    createRole(getUserRole());
  }
  userEntity.getRoleEntities().add(roleDAO.findByName(getUserRole()));
  userDAO.create(userEntity);
}
