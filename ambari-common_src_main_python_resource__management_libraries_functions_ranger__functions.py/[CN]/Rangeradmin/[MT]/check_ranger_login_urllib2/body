def check_ranger_login_urllib2(self, url, usernamepassword):
    try:
        request = urllib2.Request(url)
        base64string = base64.encodestring(usernamepassword).replace('\n', '')
        request.add_header('Content-Type', 'application/json')
        request.add_header('Accept', 'application/json')
        request.add_header('Authorization', 'Basic {0}'.format(base64string))
        result = urllib2.urlopen(request)
        response = result.read()
        response_code = result.getcode()
        return (response_code, response)
    except urllib2.URLError as e:
        if isinstance(e, urllib2.HTTPError):
            Logger.error('HTTP Code: {0}'.format(e.code))
            Logger.error('HTTP Data: {0}'.format(e.read()))
        else:
            Logger.error('Error : {0}'.format(e.reason))
        return (None, None)
    except httplib.BadStatusLine as e:
        Logger.error('Ranger Admin service is not reachable, please restart the service and then try again')
        return (None, None)
