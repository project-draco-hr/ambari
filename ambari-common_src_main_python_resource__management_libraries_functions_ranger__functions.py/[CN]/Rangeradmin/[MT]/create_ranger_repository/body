def create_ranger_repository(self, component, repo_name, repo_properties, ambari_ranger_admin, ambari_ranger_password, admin_uname, admin_password, policy_user):
    (response_code, response_recieved) = self.check_ranger_login_urllib2(self.urlLogin, 'test:test')
    repo_data = json.dumps(repo_properties)
    if ((response_code is not None) and (response_code == 200)):
        (ambari_ranger_admin, ambari_ranger_password) = self.create_ambari_admin_user(ambari_ranger_admin, ambari_ranger_password, format('{admin_uname}:{admin_password}'))
        ambari_username_password_for_ranger = ((ambari_ranger_admin + ':') + ambari_ranger_password)
        if ((ambari_ranger_admin != '') and (ambari_ranger_password != '')):
            repo = self.get_repository_by_name_urllib2(repo_name, component, 'true', ambari_username_password_for_ranger)
            if (repo and (repo['name'] == repo_name)):
                Logger.info('{0} Repository exist'.format(component.title()))
            else:
                response = self.create_repository_urllib2(repo_data, ambari_username_password_for_ranger, policy_user)
                if (response is not None):
                    Logger.info('{0} Repository created in Ranger admin'.format(component.title()))
                else:
                    raise Fail('{0} Repository creation failed in Ranger admin'.format(component.title()))
        else:
            raise Fail('Ambari admin username and password are blank ')
