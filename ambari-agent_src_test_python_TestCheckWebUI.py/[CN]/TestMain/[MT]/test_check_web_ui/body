@patch('optparse.OptionParser.parse_args')
@patch('urllib.urlopen')
def test_check_web_ui(self, urlopen_mock, parse_args_mock):
    options = MagicMock()
    options.hosts = 'host1,host2'
    options.port = '10000'
    get_code_mock = MagicMock()
    get_code_mock.getcode.return_value = 200
    urlopen_mock.return_value = get_code_mock
    parse_args_mock.return_value = (options, MagicMock)
    checkWebUI.main()
    options = MagicMock()
    options.hosts = 'host1,host2'
    options.port = '10000'
    get_code_mock = MagicMock()
    get_code_mock.getcode.return_value = 404
    urlopen_mock.return_value = get_code_mock
    parse_args_mock.return_value = (options, MagicMock)
    try:
        checkWebUI.main()
    except SystemExit as e:
        self.assertEqual(e.code, 1)
