{
  String aliasNameIn=solrAuditLogPropsConfig.getAliasNameIn();
  String rangerAuditCollection=solrAuditLogPropsConfig.getRangerCollection();
  try {
    solrCollectionDao.checkSolrStatus(getSolrClient());
    boolean createAlias=(aliasNameIn != null && !StringUtils.isBlank(rangerAuditCollection));
    solrCollectionDao.setupCollections(getSolrClient(),solrAuditLogPropsConfig);
    if (createAlias) {
      solrAliasDao.setupAlias(solrSchemaFieldDao,getSolrClient(),solrAuditLogPropsConfig,this);
    }
 else {
      solrSchemaFieldDao.populateSchemaFields(getSolrClient(),solrAuditLogPropsConfig,this);
    }
  }
 catch (  Exception e) {
    LOG.error("Error while connecting to Solr for audit logs : solrUrl=" + solrAuditLogPropsConfig.getSolrUrl() + ", zkConnectString="+ solrAuditLogPropsConfig.getZkConnectString()+ ", collection="+ solrAuditLogPropsConfig.getCollection(),e);
  }
}
