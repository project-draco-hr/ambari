@patch.object(HostInfo, 'register')
def test_heartbeat_no_host_check_cmd_in_queue(self, register_mock):
    actionQueue = ActionQueue(AmbariConfig.AmbariConfig().getConfig(), 'dummy_controller')
    statusCommand = {'serviceName': 'HDFS', 'commandType': 'STATUS_COMMAND', 'clusterName': 'c1', 'componentName': 'DATANODE', 'configurations': {'global': {}, }, }
    actionQueue.put([statusCommand])
    heartbeat = Heartbeat(actionQueue)
    heartbeat.build(12, 6)
    self.assertTrue(register_mock.called)
    (args, kwargs) = register_mock.call_args_list[0]
    self.assertTrue(args[2])
    self.assertFalse(args[1])
