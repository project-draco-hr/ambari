def get_hadoop_conf_dir():
    '\n  Gets the shared hadoop conf directory using:\n  1.  Start with /etc/hadoop/conf\n  2.  When the stack is greater than HDP-2.2, use /usr/hdp/current/hadoop-client/conf\n  3.  Only when doing a RU and HDP-2.3 or higher, use the value as computed\n      by conf-select.  This is in the form /usr/hdp/VERSION/hadoop/conf to make sure\n      the configs are written in the correct place\n  '
    config = Script.get_config()
    hadoop_conf_dir = '/etc/hadoop/conf'
    if Script.is_hdp_stack_greater_or_equal('2.2'):
        from resource_management.libraries.functions.default import default
        hadoop_conf_dir = '/usr/hdp/current/hadoop-client/conf'
        direction = default('/commandParams/upgrade_direction', None)
        ver = default('/commandParams/version', None)
        stack_name = default('/hostLevelParams/stack_name', None)
        if (direction and ver and stack_name and Script.is_hdp_stack_greater_or_equal('2.3')):
            select(stack_name, 'hadoop', ver)
            hadoop_conf_dir = '/usr/hdp/{0}/hadoop/conf'.format(ver)
    return hadoop_conf_dir
