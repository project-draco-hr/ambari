def get_hadoop_conf_dir():
    '\n  Gets the shared hadoop conf directory using:\n  1.  Start with /etc/hadoop/conf\n  2.  When the stack is greater than HDP-2.2, use /usr/hdp/current/hadoop-client/conf\n  3.  Only when doing a RU and HDP-2.3 or higher, use the value as computed\n      by conf-select.  This is in the form /usr/hdp/VERSION/hadoop/conf to make sure\n      the configs are written in the correct place\n  '
    hadoop_conf_dir = '/etc/hadoop/conf'
    if Script.is_hdp_stack_greater_or_equal('2.2'):
        hadoop_conf_dir = '/usr/hdp/current/hadoop-client/conf'
        stack_info = _get_upgrade_stack()
        if ((stack_info is not None) and Script.is_hdp_stack_greater_or_equal('2.3')):
            stack_name = stack_info[0]
            stack_version = stack_info[1]
            select(stack_name, 'hadoop', stack_version)
            hadoop_conf_dir = '/usr/hdp/{0}/hadoop/conf'.format(stack_version)
    return hadoop_conf_dir
