{
  Map<String,Long> memoryData=new HashMap<>();
  ObjectName objectName=new ObjectName("java.lang:type=Memory");
  MemoryMXBean mxBean=JMX.newMXBeanProxy(conn,objectName,MemoryMXBean.class);
  memoryData.put("heapMemoryUsed",mxBean.getHeapMemoryUsage().getUsed());
  memoryData.put("heapMemoryCommitted",mxBean.getHeapMemoryUsage().getCommitted());
  memoryData.put("heapMemoryMax",mxBean.getHeapMemoryUsage().getMax());
  memoryData.put("nonHeapMemoryUsed",mxBean.getNonHeapMemoryUsage().getUsed());
  memoryData.put("nonHeapMemoryCommitted",mxBean.getNonHeapMemoryUsage().getCommitted());
  memoryData.put("nonHeapMemoryMax",mxBean.getNonHeapMemoryUsage().getMax());
  return memoryData;
}
