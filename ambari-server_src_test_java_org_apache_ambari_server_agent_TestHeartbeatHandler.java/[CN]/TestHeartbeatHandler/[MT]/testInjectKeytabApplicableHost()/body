{
  List<Map<String,String>> kcp=testInjectKeytab("c6403.ambari.apache.org");
  Assert.assertNotNull(kcp);
  Assert.assertEquals(1,kcp.size());
  Assert.assertEquals("c6403.ambari.apache.org",kcp.get(0).get(KerberosActionDataFile.HOSTNAME));
  Assert.assertEquals("HDFS",kcp.get(0).get(KerberosActionDataFile.SERVICE));
  Assert.assertEquals("DATANODE",kcp.get(0).get(KerberosActionDataFile.COMPONENT));
  Assert.assertEquals("dn/_HOST@_REALM",kcp.get(0).get(KerberosActionDataFile.PRINCIPAL));
  Assert.assertEquals("hdfs-site/dfs.namenode.kerberos.principal",kcp.get(0).get(KerberosActionDataFile.PRINCIPAL_CONFIGURATION));
  Assert.assertEquals("/etc/security/keytabs/dn.service.keytab",kcp.get(0).get(KerberosActionDataFile.KEYTAB_FILE_PATH));
  Assert.assertEquals("hdfs",kcp.get(0).get(KerberosActionDataFile.KEYTAB_FILE_OWNER_NAME));
  Assert.assertEquals("r",kcp.get(0).get(KerberosActionDataFile.KEYTAB_FILE_OWNER_ACCESS));
  Assert.assertEquals("hadoop",kcp.get(0).get(KerberosActionDataFile.KEYTAB_FILE_GROUP_NAME));
  Assert.assertEquals("",kcp.get(0).get(KerberosActionDataFile.KEYTAB_FILE_GROUP_ACCESS));
  Assert.assertEquals("hdfs-site/dfs.namenode.keytab.file",kcp.get(0).get(KerberosActionDataFile.KEYTAB_FILE_CONFIGURATION));
  Assert.assertEquals(Base64.encodeBase64String("hello".getBytes()),kcp.get(0).get(KerberosServerAction.KEYTAB_CONTENT_BASE64));
}
