def bootstrap_standby_namenode(params):
    try:
        iterations = 50
        bootstrap_cmd = 'hdfs namenode -bootstrapStandby -nonInteractive'
        if (params.command_phase == 'INITIAL_START'):
            bootstrap_cmd = 'hdfs namenode -bootstrapStandby -nonInteractive -force'
        Logger.info(('Boostrapping standby namenode: %s' % bootstrap_cmd))
        for i in range(iterations):
            Logger.info(('Try %d out of %d' % ((i + 1), iterations)))
            (code, out) = shell.call(bootstrap_cmd, logoutput=False, user=params.hdfs_user)
            if (code == 0):
                Logger.info('Standby namenode bootstrapped successfully')
                return True
            elif (code == 5):
                Logger.info('Standby namenode already bootstrapped')
                return True
            else:
                Logger.warning(('Bootstrap standby namenode failed with %d error code. Will retry' % code))
    except Exception as ex:
        Logger.error(('Bootstrap standby namenode threw an exception. Reason %s' % str(ex)))
    return False
