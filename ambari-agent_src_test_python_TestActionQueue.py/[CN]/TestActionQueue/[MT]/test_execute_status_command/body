@patch.object(ActionQueue, 'status_update_callback')
@patch.object(StackVersionsFileHandler, 'read_stack_version')
@patch.object(ActionDependencyManager, 'read_dependencies')
@patch.object(ActionQueue, 'execute_command')
@patch.object(LiveStatus, 'build')
def test_execute_status_command(self, build_mock, execute_command_mock, read_dependencies_mock, read_stack_version_mock, status_update_callback):
    actionQueue = ActionQueue(AmbariConfig().getConfig(), 'dummy_controller')
    build_mock.return_value = 'dummy report'
    actionQueue.execute_status_command(self.status_command)
    report = actionQueue.result()
    expected = 'dummy report'
    self.assertEqual(len(report['componentStatus']), 1)
    self.assertEqual(report['componentStatus'][0], expected)
