{
  Map<String,Set<String>> metricSet=new HashMap<String,Set<String>>();
  for (int i=0; i < 2; ++i) {
    for (    PropertyHelper.MetricsVersion version : PropertyHelper.MetricsVersion.values()) {
      for (      Resource.Type type : Resource.Type.values()) {
        Map<String,Map<String,PropertyInfo>> ids=i == 0 ? PropertyHelper.getGangliaPropertyIds(type,version) : PropertyHelper.getJMXPropertyIds(type,version);
        if (ids != null) {
          for (          Map.Entry<String,Map<String,PropertyInfo>> gComponentEntry : ids.entrySet()) {
            Set<Map.Entry<String,PropertyInfo>> gComponentEntries=gComponentEntry.getValue().entrySet();
            for (            Map.Entry<String,PropertyInfo> gMetricEntry : gComponentEntries) {
              String gMetric=gMetricEntry.getKey();
              String key=gMetric.toLowerCase();
              Set<String> metrics=metricSet.get(key);
              if (metrics == null) {
                metrics=new HashSet<String>();
                metricSet.put(key,metrics);
              }
              metrics.add(gMetric);
            }
          }
        }
      }
    }
  }
  List<Set<String>> failureList=new LinkedList<Set<String>>();
  for (  Set<String> metrics : metricSet.values()) {
    if (metrics.size() > 1) {
      failureList.add(metrics);
    }
  }
  if (failureList.size() > 1) {
    System.out.println("The following metrics differ only by case.\n");
    for (    Set<String> metrics : failureList) {
      System.out.println("  " + metrics);
    }
    Assert.fail("Found metric name case differences.");
  }
}
