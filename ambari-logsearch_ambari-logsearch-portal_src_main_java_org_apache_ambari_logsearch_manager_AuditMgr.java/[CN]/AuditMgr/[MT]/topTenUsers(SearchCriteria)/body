{
  String jsonUserQuery="{Users:{type:terms, field:reqUser, facet:{ Repo:{ type:terms, field:repo, facet:{eventCount:\"sum(event_count)\"}}}}}";
  SolrQuery solrQuery=queryGenerator.commonAuditFilterQuery(searchCriteria);
  solrQuery.set("json.facet",jsonUserQuery);
  queryGenerator.setRowCount(solrQuery,0);
  try {
    QueryResponse queryResponse=auditSolrDao.process(solrQuery);
    NamedList<Object> namedList=queryResponse.getResponse();
    VBarDataList vBarDataList=new VBarDataList();
    if (namedList == null) {
      return convertObjToString(vBarDataList);
    }
    @SuppressWarnings("unchecked") SimpleOrderedMap<Object> jsonFacetResponse=(SimpleOrderedMap<Object>)namedList.get("facets");
    vBarDataList=bizUtil.buildSummaryForTopCounts(jsonFacetResponse);
    return convertObjToString(vBarDataList);
  }
 catch (  SolrServerException|SolrException|IOException e) {
    logger.error("Error during solrQuery=" + e);
    throw restErrorUtil.createRESTException(e.getMessage(),MessageEnums.ERROR_SYSTEM);
  }
}
