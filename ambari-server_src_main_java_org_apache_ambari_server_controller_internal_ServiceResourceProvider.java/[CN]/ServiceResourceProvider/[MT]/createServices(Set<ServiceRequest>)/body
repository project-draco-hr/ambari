{
  if (requests.isEmpty()) {
    LOG.warn("Received an empty requests set");
    return;
  }
  Clusters clusters=getManagementController().getClusters();
  validateCreateRequests(requests,clusters);
  ServiceFactory serviceFactory=getManagementController().getServiceFactory();
  for (  ServiceRequest request : requests) {
    Cluster cluster=clusters.getCluster(request.getClusterName());
    State state=State.INIT;
    Service s=serviceFactory.createNew(cluster,request.getServiceName());
    s.setDesiredState(state);
    s.setDesiredStackVersion(cluster.getDesiredStackVersion());
    s.persist();
    cluster.addService(s);
    getManagementController().initializeWidgetsAndLayouts(cluster,s);
  }
}
