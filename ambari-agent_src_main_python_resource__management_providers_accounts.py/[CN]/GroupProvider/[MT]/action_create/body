def action_create(self):
    group = self.group
    if (not group):
        command = ['groupadd']
        self.log.info(('Adding group %s' % self.resource))
    else:
        command = ['groupmod']
        self.log.info(('Modifying group %s to %s' % (self.resource.group_name, self.resource)))
    options = dict(gid='-g', password='-p')
    for (option_name, option_flag) in options.items():
        option_value = getattr(self.resource, option_name)
        if (option_flag and option_value):
            command += [option_flag, str(option_value)]
    command.append(self.resource.group_name)
    shell.checked_call(command)
    self.resource.updated()
    group = self.group
