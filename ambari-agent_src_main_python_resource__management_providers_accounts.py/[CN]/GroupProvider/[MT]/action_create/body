def action_create(self):
    group = self.group
    if (not group):
        command = ['groupadd']
        groupadd_options = dict(gid='-g', password='-p')
        for (option_name, option_flag) in groupadd_options.items():
            option_value = getattr(self.resource, option_name)
            if (option_flag and option_value):
                command += [option_flag, str(option_value)]
        command.append(self.resource.group_name)
        shell.checked_call(command)
        self.resource.updated()
        self.log.info(('Added group %s' % self.resource))
        group = self.group
