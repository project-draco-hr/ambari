@patch('time.sleep')
@patch.object(subprocess, 'Popen')
def test_attribute_try_sleep_tries(self, popen_mock, time_mock):
    expected_call = "call('Retrying after %d seconds. Reason: %s', 1, 'Fail')"
    subproc_mock_one = MagicMock()
    subproc_mock_one.returncode = 1
    subproc_mock_zero = MagicMock()
    subproc_mock_zero.returncode = 0
    popen_mock.side_effect = [subproc_mock_one, subproc_mock_zero]
    with Environment('/') as env:
        Execute('echo "1"', tries=2, try_sleep=10)
    pass
    time_mock.assert_called_once_with(10)
