@patch('time.sleep')
@patch.object(subprocess, 'Popen')
def test_attribute_try_sleep_tries(self, popen_mock, time_mock):
    expected_call = "call('Retrying after %d seconds. Reason: %s', 1, 'Fail')"
    subproc_mock = MagicMock()
    subproc_mock.returncode = 0
    subproc_mock.communicate.side_effect = [Fail('Fail'), ['1']]
    popen_mock.return_value = subproc_mock
    with Environment('/') as env:
        Execute('echo "1"', tries=2, try_sleep=10)
    pass
    time_mock.assert_called_once_with(10)
