@patch.object(subprocess, 'Popen')
def test_attribute_path(self, popen_mock):
    subproc_mock = MagicMock()
    subproc_mock.returncode = 0
    subproc_mock.communicate.side_effect = [['1']]
    popen_mock.return_value = subproc_mock
    with Environment('/') as env:
        execute_resource = Execute('echo "1"', path=['/test/one', 'test/two'])
    self.assertEqual(execute_resource.environment['PATH'], '/test/one:test/two')
