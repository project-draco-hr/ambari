{
  String response;
  URLStreamProviderBasicAuth urlStreamProvider=getUrlStreamProviderBasicAuth();
  try {
    String url;
    if (isLocalCluster()) {
      url=path;
    }
 else     if (isRemoteCluster()) {
      String ambariUrl=parseAmbariHostname(remoteUrlCluster);
      url=ambariUrl + path;
    }
 else {
      throw new NoClusterAssociatedException("RA060 View is not associated with any cluster. No way to request Ambari.");
    }
    InputStream inputStream=urlStreamProvider.readFrom(url,method,data,headers);
    response=IOUtils.toString(inputStream);
  }
 catch (  IOException e) {
    throw new AmbariApiException("RA050 I/O error while requesting Ambari",e);
  }
  return response;
}
