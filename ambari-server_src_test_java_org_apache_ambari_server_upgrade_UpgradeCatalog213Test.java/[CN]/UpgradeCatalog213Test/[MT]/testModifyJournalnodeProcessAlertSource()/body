{
  UpgradeCatalog213 upgradeCatalog213=new UpgradeCatalog213(injector);
  String alertSource="{\"uri\":\"{{hdfs-site/dfs.journalnode.http-address}}\",\"default_port\":8480," + "\"type\":\"PORT\",\"reporting\":{\"ok\":{\"text\":\"TCP OK - {0:.3f}s response on port {1}\"}," + "\"warning\":{\"text\":\"TCP OK - {0:.3f}s response on port {1}\",\"value\":1.5},"+ "\"critical\":{\"text\":\"Connection failed: {0} to {1}:{2}\",\"value\":5.0}}}";
  String expected="{\"reporting\":{\"ok\":{\"text\":\"HTTP {0} response in {2:.3f}s\"}," + "\"warning\":{\"text\":\"HTTP {0} response from {1} in {2:.3f}s ({3})\"}," + "\"critical\":{\"text\":\"Connection failed to {1} ({3})\"}},\"type\":\"WEB\","+ "\"uri\":{\"http\":\"{{hdfs-site/dfs.journalnode.http-address}}\","+ "\"https\":\"{{hdfs-site/dfs.journalnode.https-address}}\","+ "\"kerberos_keytab\":\"{{hdfs-site/dfs.web.authentication.kerberos.keytab}}\","+ "\"kerberos_principal\":\"{{hdfs-site/dfs.web.authentication.kerberos.principal}}\","+ "\"https_property\":\"{{hdfs-site/dfs.http.policy}}\","+ "\"https_property_value\":\"HTTPS_ONLY\",\"connection_timeout\":5.0}}";
  Assert.assertEquals(expected,upgradeCatalog213.modifyJournalnodeProcessAlertSource(alertSource));
}
