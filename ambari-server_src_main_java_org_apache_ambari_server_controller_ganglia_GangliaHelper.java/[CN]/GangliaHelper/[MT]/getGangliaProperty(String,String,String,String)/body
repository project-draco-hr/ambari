{
  String s="http://" + target + "/ganglia/graph.php"+ "?c="+ gangliaCluster+ "&h="+ (host == null ? "" : host)+ "&m="+ metric+ "&json=1";
  try {
    URLConnection connection=new URL(s).openConnection();
    connection.setDoOutput(true);
    return new ObjectMapper().readValue(connection.getInputStream(),new TypeReference<List<GangliaMetric>>(){
    }
);
  }
 catch (  IOException e) {
    throw new IllegalStateException("Can't get metric " + metric + ".",e);
  }
}
