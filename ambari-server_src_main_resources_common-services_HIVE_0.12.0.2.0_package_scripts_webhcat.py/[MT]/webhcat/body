def webhcat(env):
    import params
    Directory(params.templeton_pid_dir, owner=params.webhcat_user, mode=493, group=params.user_group, recursive=True)
    Directory(params.templeton_log_dir, owner=params.webhcat_user, mode=493, group=params.user_group, recursive=True)
    Directory(params.config_dir, recursive=True, owner=params.webhcat_user, group=params.user_group)
    if params.security_enabled:
        kinit_if_needed = format('{kinit_path_local} -kt {hdfs_user_keytab} {hdfs_principal_name};')
    else:
        kinit_if_needed = ''
    if kinit_if_needed:
        Execute(kinit_if_needed, user=params.webhcat_user, path='/bin')
    XmlConfig('webhcat-site.xml', conf_dir=params.config_dir, configurations=params.config['configurations']['webhcat-site'], configuration_attributes=params.config['configuration_attributes']['webhcat-site'], owner=params.webhcat_user, group=params.user_group)
    File(format('{config_dir}/webhcat-env.sh'), owner=params.webhcat_user, group=params.user_group, content=InlineTemplate(params.webhcat_env_sh_template))
