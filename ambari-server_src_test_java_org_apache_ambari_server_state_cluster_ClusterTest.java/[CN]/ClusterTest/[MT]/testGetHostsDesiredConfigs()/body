{
  Host host1=clusters.getHost("h1");
  Config config=configFactory.createNew(c1,"hdfs-site",new HashMap<String,String>(){
{
      put("test","test");
    }
  }
);
  config.setVersionTag("1");
  host1.addDesiredConfig(c1.getClusterId(),true,"test",config);
  Map<String,Map<String,DesiredConfig>> configs=c1.getAllHostsDesiredConfigs();
  assertTrue(configs.containsKey("h1"));
  assertEquals(1,configs.get("h1").size());
  List<String> hostnames=new ArrayList<String>();
  hostnames.add("h1");
  configs=c1.getHostsDesiredConfigs(hostnames);
  assertTrue(configs.containsKey("h1"));
  assertEquals(1,configs.get("h1").size());
}
