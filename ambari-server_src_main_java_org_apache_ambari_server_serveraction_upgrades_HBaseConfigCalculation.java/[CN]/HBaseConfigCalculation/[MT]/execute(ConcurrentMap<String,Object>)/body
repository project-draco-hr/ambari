{
  StringBuilder stdout=new StringBuilder();
  String clusterName=getExecutionCommand().getClusterName();
  Cluster cluster=clusters.getCluster(clusterName);
  Config config=cluster.getDesiredConfigByType("hbase-site");
  Map<String,String> properties=config.getProperties();
  String upperLimitStr=properties.get("hbase.regionserver.global.memstore.upperLimit");
  String lowerLimitStr=properties.get("hbase.regionserver.global.memstore.lowerLimit");
  BigDecimal upperLimit=new BigDecimal(upperLimitStr);
  BigDecimal lowerLimit=new BigDecimal(lowerLimitStr);
  if (lowerLimit.scale() < 2)   lowerLimit=lowerLimit.setScale(2,BigDecimal.ROUND_HALF_UP);
  BigDecimal lowerLimitNew=lowerLimit.divide(upperLimit,BigDecimal.ROUND_HALF_UP);
  properties.put("hbase.regionserver.global.memstore.size.lower.limit",lowerLimitNew.toString());
  stdout.append("hbase.regionserver.global.memstore.size.lower.limit was set to ").append(lowerLimitNew);
  config.setProperties(properties);
  config.persist(false);
  return createCommandReport(0,HostRoleStatus.COMPLETED,"{}",stdout.toString(),"");
}
