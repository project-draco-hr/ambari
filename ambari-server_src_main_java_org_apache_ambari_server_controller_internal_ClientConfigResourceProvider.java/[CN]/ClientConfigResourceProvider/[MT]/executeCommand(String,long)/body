{
  Runtime runtime=Runtime.getRuntime();
  Process process=runtime.exec(commandLine);
  CommandLineThread commandLineThread=new CommandLineThread(process);
  commandLineThread.start();
  try {
    commandLineThread.join(timeout);
    if (commandLineThread.exit != null)     return commandLineThread.exit;
 else     throw new TimeoutException();
  }
 catch (  InterruptedException ex) {
    commandLineThread.interrupt();
    Thread.currentThread().interrupt();
    throw ex;
  }
 finally {
    process.destroy();
  }
}
