def setUp(self):
    self.tmpdir = tempfile.mkdtemp()
    self.tmpdict = {COMPONENT_LIVE: COMPONENT_LIVE_PID, COMPONENT_DEAD: COMPONENT_DEAD_PID, }
    self.sh = shellRunner()
    p = subprocess.Popen([COMPONENT_LIVE_CMD], stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True, close_fds=True)
    live_pid_file = open(((self.tmpdir + os.sep) + COMPONENT_LIVE_PID), 'w')
    self.live_pid = p.pid
    live_pid_file.write(str(self.live_pid))
    live_pid_file.close()
    dead_pid_file = open(((self.tmpdir + os.sep) + COMPONENT_DEAD_PID), 'w')
    dead_pid_file.write(str(DEAD_PID))
    dead_pid_file.close()
    self.statusCheck = StatusCheck(self.tmpdir, self.tmpdict)
