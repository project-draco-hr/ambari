def setUp(self):
    self.tmpdir = tempfile.mkdtemp()
    self.tmpdict = tempfile.NamedTemporaryFile(dir=self.tmpdir)
    self.tmpdict = open(((self.tmpdir + os.sep) + MAPPING_FILE_NAME), 'w')
    self.sh = shellRunner()
    p = subprocess.Popen([COMPONENT_LIVE_CMD], stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=True, close_fds=True)
    self.tmpdict.write((((COMPONENT_LIVE + '=') + COMPONENT_LIVE_PID) + os.linesep))
    self.tmpdict.write((((COMPONENT_DEAD + '=') + COMPONENT_DEAD_PID) + os.linesep))
    self.tmpdict.close()
    live_pid_file = open(((self.tmpdir + os.sep) + COMPONENT_LIVE_PID), 'w')
    self.live_pid = p.pid
    live_pid_file.write(str(self.live_pid))
    live_pid_file.close()
    dead_pid_file = open(((self.tmpdir + os.sep) + COMPONENT_DEAD_PID), 'w')
    dead_pid_file.write(str(DEAD_PID))
    dead_pid_file.close()
    self.statusCheck = StatusCheck(self.tmpdir, self.tmpdict.name)
