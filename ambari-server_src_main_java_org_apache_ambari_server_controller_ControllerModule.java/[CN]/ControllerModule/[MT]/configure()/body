{
  installFactories();
  final SessionIdManager sessionIdManager=new HashSessionIdManager();
  final SessionManager sessionManager=new HashSessionManager();
  sessionManager.getSessionCookieConfig().setPath("/");
  sessionManager.setSessionIdManager(sessionIdManager);
  bind(SessionManager.class).toInstance(sessionManager);
  bind(SessionIdManager.class).toInstance(sessionIdManager);
  bind(KerberosOperationHandlerFactory.class);
  bind(KerberosDescriptorFactory.class);
  bind(KerberosServiceDescriptorFactory.class);
  bind(KerberosHelper.class).to(KerberosHelperImpl.class);
  bind(CredentialStoreService.class).to(CredentialStoreServiceImpl.class);
  bind(Configuration.class).toInstance(configuration);
  bind(OsFamily.class).toInstance(os_family);
  bind(HostsMap.class).toInstance(hostsMap);
  bind(PasswordEncoder.class).toInstance(new StandardPasswordEncoder());
  bind(DelegatingFilterProxy.class).toInstance(new DelegatingFilterProxy(){
{
      setTargetBeanName("springSecurityFilterChain");
    }
  }
);
  bind(Gson.class).annotatedWith(Names.named("prettyGson")).toInstance(prettyGson);
  install(buildJpaPersistModule());
  bind(Gson.class).in(Scopes.SINGLETON);
  bind(SecureRandom.class).in(Scopes.SINGLETON);
  bind(Clusters.class).to(ClustersImpl.class);
  bind(AmbariCustomCommandExecutionHelper.class);
  bind(ActionDBAccessor.class).to(ActionDBAccessorImpl.class);
  bindConstant().annotatedWith(Names.named("schedulerSleeptime")).to(configuration.getExecutionSchedulerWait());
  bindConstant().annotatedWith(Names.named("actionTimeout")).to(600000L);
  bindConstant().annotatedWith(Names.named("dbInitNeeded")).to(dbInitNeeded);
  bindConstant().annotatedWith(Names.named("statusCheckInterval")).to(5000L);
  bindConstant().annotatedWith(Names.named("executionCommandCacheSize")).to(configuration.getExecutionCommandsCacheSize());
  bind(AmbariManagementController.class).to(AmbariManagementControllerImpl.class);
  bind(AbstractRootServiceResponseFactory.class).to(RootServiceResponseFactory.class);
  bind(ExecutionScheduler.class).to(ExecutionSchedulerImpl.class);
  bind(DBAccessor.class).to(DBAccessorImpl.class);
  bind(ViewInstanceHandlerList.class).to(AmbariHandlerList.class);
  bind(TimelineMetricCacheProvider.class);
  bind(TimelineMetricCacheEntryFactory.class);
  bind(SecurityConfigurationFactory.class).in(Scopes.SINGLETON);
  bind(AuthenticationEntryPoint.class).to(AmbariEntryPoint.class).in(Scopes.SINGLETON);
  requestStaticInjection(ExecutionCommandWrapper.class);
  requestStaticInjection(DatabaseChecker.class);
  bindByAnnotation(null);
  bindNotificationDispatchers();
  registerUpgradeChecks();
}
