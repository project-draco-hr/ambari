@patch.object(sudo, 'unlink')
@patch.object(sudo, 'path_exists')
def test_action_delete(self, exists_mock, unlink_mock):
    exists_mock.return_value = True
    with Environment('/') as env:
        Link('/some_path', action='delete')
    unlink_mock.assert_called_with('/some_path')
