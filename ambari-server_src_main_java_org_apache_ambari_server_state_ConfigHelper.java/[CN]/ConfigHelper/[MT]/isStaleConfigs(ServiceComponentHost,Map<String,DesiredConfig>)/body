{
  Boolean stale=null;
  if (STALE_CONFIGS_CACHE_ENABLED) {
    stale=staleConfigsCache.getIfPresent(sch);
  }
  if (stale == null) {
    ReadWriteLock lock=transactionLocks.getLock(LockArea.STALE_CONFIG_CACHE);
    lock.readLock().lock();
    try {
      stale=calculateIsStaleConfigs(sch,desiredConfigs);
      staleConfigsCache.put(sch,stale);
      if (LOG.isDebugEnabled()) {
        LOG.debug("Cache configuration staleness for host {} and component {} as {}",sch.getHostName(),sch.getServiceComponentName(),stale);
      }
    }
  finally {
      lock.readLock().unlock();
    }
  }
  return stale;
}
