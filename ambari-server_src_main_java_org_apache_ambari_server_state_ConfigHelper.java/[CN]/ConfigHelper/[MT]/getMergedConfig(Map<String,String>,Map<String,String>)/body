{
  Map<String,String> finalConfig=new HashMap<String,String>(persistedClusterConfig);
  if (override != null && override.size() > 0) {
    for (    String overrideKey : override.keySet()) {
      Boolean deleted=0 == overrideKey.indexOf(DELETED);
      String nameToUse=deleted ? overrideKey.substring(DELETED.length()) : overrideKey;
      if (finalConfig.containsKey(nameToUse)) {
        finalConfig.remove(nameToUse);
      }
      if (!deleted) {
        finalConfig.put(nameToUse,override.get(overrideKey));
      }
    }
  }
  return finalConfig;
}
