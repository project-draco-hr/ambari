{
  StackId stackId=cluster.getCurrentStackVersion();
  StackInfo stack=ambariMetaInfo.getStackInfo(stackId.getStackName(),stackId.getStackVersion());
  for (  ServiceInfo serviceInfo : stack.getServices()) {
    Set<PropertyInfo> stackProperties=ambariMetaInfo.getProperties(stack.getName(),stack.getVersion(),serviceInfo.getName());
    for (    PropertyInfo stackProperty : stackProperties) {
      int extIndex=stackProperty.getFilename().indexOf(AmbariMetaInfo.SERVICE_CONFIG_FILE_NAME_POSTFIX);
      String stackPropertyConfigType=stackProperty.getFilename().substring(0,extIndex);
      if (stackProperty.getName().equals(propertyName) && stackPropertyConfigType.equals(configType)) {
        return stackProperty.getValue();
      }
    }
  }
  return null;
}
