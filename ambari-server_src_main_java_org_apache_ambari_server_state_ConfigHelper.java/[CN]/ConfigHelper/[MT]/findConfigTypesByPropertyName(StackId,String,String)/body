{
  StackInfo stack=ambariMetaInfo.getStackInfo(stackId.getStackName(),stackId.getStackVersion());
  Set<String> result=new HashSet<String>();
  for (  Service service : clusters.getCluster(clusterName).getServices().values()) {
    Set<PropertyInfo> stackProperties=ambariMetaInfo.getProperties(stack.getName(),stack.getVersion(),service.getName());
    Set<PropertyInfo> stackLevelProperties=ambariMetaInfo.getStackProperties(stack.getName(),stack.getVersion());
    stackProperties.addAll(stackLevelProperties);
    for (    PropertyInfo stackProperty : stackProperties) {
      if (stackProperty.getName().equals(propertyName)) {
        int extIndex=stackProperty.getFilename().indexOf(AmbariMetaInfo.SERVICE_CONFIG_FILE_NAME_POSTFIX);
        String configType=stackProperty.getFilename().substring(0,extIndex);
        result.add(configType);
      }
    }
  }
  return result;
}
