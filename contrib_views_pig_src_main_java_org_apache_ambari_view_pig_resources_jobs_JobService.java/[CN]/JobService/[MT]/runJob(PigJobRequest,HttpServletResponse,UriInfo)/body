{
  if (!request.validatePOST()) {
    return badRequestResponse(request.explainPOST());
  }
  try {
    getResourceManager().create(request.job);
  }
 catch (  IllegalArgumentException e) {
    return badRequestResponse(e.getMessage());
  }
catch (  WebServiceException e) {
    return serverErrorResponse(e.getMessage());
  }
  PigJob job=null;
  try {
    job=getResourceManager().read(request.job.getId());
  }
 catch (  ItemNotFound itemNotFound) {
    return Response.status(404).build();
  }
  response.setHeader("Location",String.format("%s/%s",ui.getAbsolutePath().toString(),request.job.getId()));
  JSONObject object=new JSONObject();
  object.put("job",job);
  return Response.ok(object).status(201).build();
}
