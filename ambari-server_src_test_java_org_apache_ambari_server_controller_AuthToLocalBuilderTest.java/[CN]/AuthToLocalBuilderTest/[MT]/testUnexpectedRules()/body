{
  AuthToLocalBuilder builder=new AuthToLocalBuilder();
  builder.append("nn/c6501.ambari.apache.org","hdfs");
  builder.append("nn/c6502.ambari.apache.org@EXAMPLE.COM","hdfs");
  builder.append("dn/c6501.ambari.apache.org@EXAMPLE.COM","hdfs");
  builder.append("jn/c6501.ambari.apache.org@EXAMPLE.COM","hdfs");
  builder.append("rm/c6501.ambari.apache.org@EXAMPLE.COM","yarn");
  builder.append("jhs/c6501.ambari.apache.org@EXAMPLE.COM","mapred");
  builder.append("hm/c6501.ambari.apache.org@EXAMPLE.COM","hbase");
  builder.append("rs/c6501.ambari.apache.org@EXAMPLE.COM","hbase");
  builder.append("hdfs@EXAMPLE.COM","hdfs");
  builder.append("hdfs/admin@EXAMPLE.COM","hdfs");
  builder.append("hdfs:admin@EXAMPLE.COM","hdfs");
  assertEquals("RULE:[2:$1@$0](dn@EXAMPLE.COM)s/.*/hdfs/\n" + "RULE:[2:$1@$0](hm@EXAMPLE.COM)s/.*/hbase/\n" + "RULE:[2:$1@$0](jhs@EXAMPLE.COM)s/.*/mapred/\n"+ "RULE:[2:$1@$0](jn@EXAMPLE.COM)s/.*/hdfs/\n"+ "RULE:[2:$1@$0](nn@EXAMPLE.COM)s/.*/hdfs/\n"+ "RULE:[2:$1@$0](rm@EXAMPLE.COM)s/.*/yarn/\n"+ "RULE:[2:$1@$0](rs@EXAMPLE.COM)s/.*/hbase/\n"+ "RULE:[1:$1@$0](hdfs@EXAMPLE.COM)s/.*/hdfs/\n"+ "RULE:[1:$1@$0](.*@EXAMPLE.COM)s/@.*//\n"+ "DEFAULT",builder.generate("EXAMPLE.COM"));
}
