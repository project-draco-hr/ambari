{
  boolean batchCreate=false;
  Map<String,String> queryParameters=getQueryParameters(uriInfo,body);
  if (!queryParameters.isEmpty()) {
    ResourceDefinition resourceDefinition=resource.getResourceDefinition();
    Collection<String> directives=resourceDefinition.getCreateDirectives();
    Map<String,String> requestInfoProperties=body.getRequestInfoProperties();
    for (    Map.Entry<String,String> entry : queryParameters.entrySet()) {
      if (directives.contains(entry.getKey())) {
        requestInfoProperties.put(entry.getKey(),entry.getValue());
      }
 else {
        batchCreate=true;
      }
    }
  }
  return (batchCreate) ? new QueryPostRequest(headers,body,uriInfo,resource) : new PostRequest(headers,body,uriInfo,resource);
}
