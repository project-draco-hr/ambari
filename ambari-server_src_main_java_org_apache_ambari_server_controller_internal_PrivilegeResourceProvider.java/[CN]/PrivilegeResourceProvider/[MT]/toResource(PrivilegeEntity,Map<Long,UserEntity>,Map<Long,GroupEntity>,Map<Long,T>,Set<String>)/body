{
  Resource resource=new ResourceImpl(resourceType);
  setResourceProperty(resource,PRIVILEGE_ID_PROPERTY_ID,privilegeEntity.getId(),requestedIds);
  setResourceProperty(resource,PERMISSION_NAME_PROPERTY_ID,privilegeEntity.getPermission().getPermissionName(),requestedIds);
  setResourceProperty(resource,PERMISSION_LABEL_PROPERTY_ID,privilegeEntity.getPermission().getPermissionLabel(),requestedIds);
  PrincipalEntity principal=privilegeEntity.getPrincipal();
  Long principalId=principal.getId();
  if (userEntities.containsKey(principalId)) {
    UserEntity userEntity=userEntities.get(principalId);
    setResourceProperty(resource,PRINCIPAL_NAME_PROPERTY_ID,userEntity.getUserName(),requestedIds);
  }
 else   if (groupEntities.containsKey(principalId)) {
    GroupEntity groupEntity=groupEntities.get(principalId);
    setResourceProperty(resource,PRINCIPAL_NAME_PROPERTY_ID,groupEntity.getGroupName(),requestedIds);
  }
  setResourceProperty(resource,PRINCIPAL_TYPE_PROPERTY_ID,principal.getPrincipalType().getName(),requestedIds);
  return resource;
}
