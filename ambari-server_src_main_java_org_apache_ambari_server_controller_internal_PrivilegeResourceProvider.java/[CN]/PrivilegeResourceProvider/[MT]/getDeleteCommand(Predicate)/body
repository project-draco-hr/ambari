{
  return new Command<Void>(){
    @Override public Void invoke() throws AmbariException {
      try {
        Set<Resource> resources=getResources(PropertyHelper.getReadRequest(),predicate);
        for (        Resource resource : resources) {
          PrivilegeEntity entity=privilegeDAO.findById((Integer)resource.getPropertyValue(PRIVILEGE_ID_PROPERTY_ID));
          if (entity != null) {
            privilegeDAO.remove(entity);
          }
        }
      }
 catch (      Exception e) {
        throw new AmbariException("Caught exception deleting privilege.",e);
      }
      return null;
    }
  }
;
}
