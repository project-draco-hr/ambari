def test_build(self):
    puppetexecutor = PuppetExecutor('/tmp', '/x', '/y', '/z', AmbariConfig().getConfig())
    command = puppetexecutor.puppetCommand('site.pp')
    self.assertEquals('puppet', command[0], 'puppet binary wrong')
    self.assertEquals('apply', command[1], 'local apply called')
    self.assertEquals('--confdir=/tmp', command[2], 'conf dir tmp')
    self.assertEquals('--detailed-exitcodes', command[3], 'make sure output     correct')
