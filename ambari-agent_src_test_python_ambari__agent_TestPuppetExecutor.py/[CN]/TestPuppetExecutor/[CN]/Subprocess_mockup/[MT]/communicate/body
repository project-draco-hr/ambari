def communicate(self):
    self.started_event.set()
    self.tmpout.write('Dummy output')
    self.tmpout.flush()
    self.tmperr.write('Dummy err')
    self.tmperr.flush()
    self.should_finish_event.wait()
    self.finished_event.set()
    pass
