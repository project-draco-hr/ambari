{
  SolrQuery solrQuery=queryGenerator.commonFilterQuery(searchCriteria);
  String hierarchy="host,type,level";
  try {
    queryGenerator.setMainQuery(solrQuery,null);
    queryGenerator.setFacetPivot(solrQuery,1,hierarchy);
    QueryResponse response=serviceLogsSolrDao.process(solrQuery);
    List<List<PivotField>> hirarchicalPivotField=new ArrayList<List<PivotField>>();
    List<VGraphData> dataList=new ArrayList<VGraphData>();
    NamedList<List<PivotField>> namedList=response.getFacetPivot();
    if (namedList != null) {
      hirarchicalPivotField=namedList.getAll(hierarchy);
    }
    if (!hirarchicalPivotField.isEmpty())     dataList=buidGraphData(hirarchicalPivotField.get(0));
    VGraphInfo graphInfo=new VGraphInfo();
    graphInfo.setGraphData(dataList);
    return convertObjToString(graphInfo);
  }
 catch (  SolrException|SolrServerException|IOException e) {
    logger.error("Error during solrQuery=" + solrQuery,e);
    throw restErrorUtil.createRESTException(e.getMessage(),MessageEnums.ERROR_SYSTEM);
  }
}
