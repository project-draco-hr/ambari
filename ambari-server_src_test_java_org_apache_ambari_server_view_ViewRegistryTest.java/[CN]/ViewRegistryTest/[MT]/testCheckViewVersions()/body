{
  ViewRegistry registry=ViewRegistry.getInstance();
  ViewEntity viewEntity=createNiceMock(ViewEntity.class);
  ViewConfig config=createNiceMock(ViewConfig.class);
  expect(viewEntity.getConfiguration()).andReturn(config).anyTimes();
  expect(config.getMinAmbariVersion()).andReturn(null);
  expect(config.getMaxAmbariVersion()).andReturn(null);
  expect(config.getMinAmbariVersion()).andReturn("1.0.0");
  expect(config.getMaxAmbariVersion()).andReturn("3.0.0");
  expect(config.getMinAmbariVersion()).andReturn("1.0.0");
  expect(config.getMaxAmbariVersion()).andReturn("1.5");
  expect(config.getMinAmbariVersion()).andReturn("2.5");
  expect(config.getMinAmbariVersion()).andReturn(null);
  expect(config.getMaxAmbariVersion()).andReturn("3.0.0");
  expect(config.getMinAmbariVersion()).andReturn("1.0.0");
  expect(config.getMaxAmbariVersion()).andReturn(null);
  expect(config.getMinAmbariVersion()).andReturn("1.0.0");
  expect(config.getMaxAmbariVersion()).andReturn("*");
  expect(config.getMinAmbariVersion()).andReturn("*");
  expect(config.getMaxAmbariVersion()).andReturn("3.0.0");
  expect(config.getMinAmbariVersion()).andReturn("1.0.0");
  expect(config.getMaxAmbariVersion()).andReturn("2.*");
  expect(config.getMinAmbariVersion()).andReturn("1.*");
  expect(config.getMaxAmbariVersion()).andReturn("3.0.0");
  expect(config.getMinAmbariVersion()).andReturn("1.0.0");
  expect(config.getMaxAmbariVersion()).andReturn("2.1.*");
  expect(config.getMinAmbariVersion()).andReturn("1.5.*");
  expect(config.getMaxAmbariVersion()).andReturn("3.0.0");
  expect(config.getMinAmbariVersion()).andReturn("1.0.0");
  expect(config.getMaxAmbariVersion()).andReturn("1.9.9.*");
  expect(config.getMinAmbariVersion()).andReturn("2.0.0.1.*");
  replay(viewEntity,config);
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertFalse(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertFalse(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertTrue(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertFalse(registry.checkViewVersions(viewEntity,"2.0.0"));
  Assert.assertFalse(registry.checkViewVersions(viewEntity,"2.0.0"));
  verify(viewEntity,config);
}
