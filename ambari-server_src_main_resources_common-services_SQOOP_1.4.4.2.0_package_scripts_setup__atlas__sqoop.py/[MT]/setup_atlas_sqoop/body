def setup_atlas_sqoop():
    import params
    if params.has_atlas:
        if (not params.host_sys_prepped):
            Package((params.atlas_ubuntu_plugin_package if OSCheck.is_ubuntu_family() else params.atlas_plugin_package), retry_on_repo_unavailability=params.agent_stack_retry_on_unavailability, retry_count=params.agent_stack_retry_count)
        PropertiesFile(format('{sqoop_conf_dir}/{atlas_conf_file}'), properties=params.atlas_props, owner=params.sqoop_user, group=params.user_group, mode=420)
        atlas_sqoop_hook_dir = os.path.join(params.atlas_home_dir, 'hook', 'sqoop')
        if os.path.exists(atlas_sqoop_hook_dir):
            src_files = os.listdir(atlas_sqoop_hook_dir)
            for file_name in src_files:
                atlas_sqoop_hook_file_name = os.path.join(atlas_sqoop_hook_dir, file_name)
                sqoop_lib_file_name = os.path.join(params.sqoop_lib, file_name)
                if os.path.isfile(atlas_sqoop_hook_file_name):
                    Link(sqoop_lib_file_name, to=atlas_sqoop_hook_file_name)
