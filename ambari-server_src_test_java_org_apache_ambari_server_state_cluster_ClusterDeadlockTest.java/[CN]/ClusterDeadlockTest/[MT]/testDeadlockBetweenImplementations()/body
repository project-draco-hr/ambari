{
  Cluster cluster=clusters.getCluster("c1");
  Service service=cluster.getService("HDFS");
  ServiceComponent namenodeComponent=service.getServiceComponent("NAMENODE");
  ServiceComponent hdfsClientComponent=service.getServiceComponent("HDFS_CLIENT");
  ServiceComponentHost namenodeSCH=createNewServiceComponentHost("HDFS","NAMENODE","c64-0",false);
  ServiceComponentHost hdfsClientSCH=createNewServiceComponentHost("HDFS","HDFS_CLIENT","c64-0",true);
  List<Thread> threads=new ArrayList<Thread>();
  for (int i=0; i < 3; i++) {
    DeadlockExerciserThread thread=new DeadlockExerciserThread();
    thread.setCluster(cluster);
    thread.setService(service);
    thread.setHdfsClientComponent(hdfsClientComponent);
    thread.setNamenodeComponent(namenodeComponent);
    thread.setNamenodeSCH(namenodeSCH);
    thread.setHdfsClientSCH(hdfsClientSCH);
    thread.start();
    threads.add(thread);
  }
  for (  Thread thread : threads) {
    thread.join();
  }
}
