{
  ViewContext viewContext=createNiceMock(ViewContext.class);
  Map<String,String> instanceProperties=new HashMap<String,String>();
  instanceProperties.put(AmbariApi.AMBARI_SERVER_URL_INSTANCE_PROPERTY,AMBARI_CLUSTER_REST_URL);
  expect(viewContext.getProperties()).andReturn(instanceProperties).anyTimes();
  replay(viewContext);
  thrown.expect(AmbariApiException.class);
  AmbariApi ambariApi=new AmbariApi(viewContext);
  Cluster cluster=ambariApi.getRemoteCluster();
}
