{
  SolrInputDocument solrInputDoc=new SolrInputDocument();
  if (!isValid(vHistory)) {
    throw restErrorUtil.createRESTException("No FilterName Specified",MessageEnums.INVALID_INPUT_DATA);
  }
  if (isNotUnique(vHistory) && !vHistory.isOverwrite()) {
    throw restErrorUtil.createRESTException("Name '" + vHistory.getFilterName() + "' already exists",MessageEnums.INVALID_INPUT_DATA);
  }
  solrInputDoc.addField(LogSearchConstants.ID,vHistory.getId());
  solrInputDoc.addField(LogSearchConstants.USER_NAME,vHistory.getUserName());
  solrInputDoc.addField(LogSearchConstants.VALUES,vHistory.getValues());
  solrInputDoc.addField(LogSearchConstants.FILTER_NAME,vHistory.getFilterName());
  solrInputDoc.addField(LogSearchConstants.ROW_TYPE,vHistory.getRowType());
  List<String> shareNameList=vHistory.getShareNameList();
  if (shareNameList != null && !shareNameList.isEmpty()) {
    solrInputDoc.addField(LogSearchConstants.SHARE_NAME_LIST,shareNameList);
  }
  solrInputDoc.addField(LogSearchConstants.COMPOSITE_KEY,vHistory.getFilterName() + "-" + vHistory.getUserName());
  try {
    userConfigSolrDao.addDocs(solrInputDoc);
    return convertObjToString(solrInputDoc);
  }
 catch (  SolrException|SolrServerException|IOException e) {
    logger.error("Error saving user config. solrDoc=" + solrInputDoc,e);
    throw restErrorUtil.createRESTException(MessageEnums.SOLR_ERROR.getMessage().getMessage(),MessageEnums.ERROR_SYSTEM);
  }
}
