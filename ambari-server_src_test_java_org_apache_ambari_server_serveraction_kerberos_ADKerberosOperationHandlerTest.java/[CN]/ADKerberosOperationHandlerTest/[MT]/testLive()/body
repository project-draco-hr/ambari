{
  ADKerberosOperationHandler handler=new ADKerberosOperationHandler();
  String principal=System.getProperty("principal");
  String password=System.getProperty("password");
  String realm=System.getProperty("realm");
  String ldapUrl=System.getProperty("ldap_url");
  String containerDN=System.getProperty("container_dn");
  if (principal == null) {
    principal=DEFAULT_ADMIN_PRINCIPAL;
  }
  if (password == null) {
    password=DEFAULT_ADMIN_PASSWORD;
  }
  if (realm == null) {
    realm=DEFAULT_REALM;
  }
  if (ldapUrl == null) {
    ldapUrl=DEFAULT_LDAP_URL;
  }
  if (containerDN == null) {
    containerDN=DEFAULT_PRINCIPAL_CONTAINER_DN;
  }
  KerberosCredential credentials=new KerberosCredential(principal,password,null);
  handler.open(credentials,realm,ldapUrl,containerDN);
  System.out.println("Test Admin Credentials: " + handler.testAdministratorCredentials());
  System.out.println("Principal exists: " + handler.principalExists("nn/c1508.ambari.apache.org"));
  handler.createPrincipal("nn/c1508.ambari.apache.org@" + DEFAULT_REALM.toLowerCase(),handler.createSecurePassword(),true);
  handler.createPrincipal("nn/c1508.ambari.apache.org",handler.createSecurePassword(),true);
  handler.setPrincipalPassword("nn/c1508.ambari.apache.org",handler.createSecurePassword());
  handler.close();
}
