def webhcat():
    import params
    Directory(params.templeton_pid_dir, owner=params.webhcat_user, mode=493, group=params.user_group, recursive=True)
    Directory(params.templeton_log_dir, owner=params.webhcat_user, mode=493, group=params.user_group, recursive=True)
    Directory(params.config_dir, owner=params.webhcat_user, group=params.user_group)
    XmlConfig('webhcat-site.xml', conf_dir=params.config_dir, configurations=params.config['configurations']['webhcat-site'], owner=params.webhcat_user, group=params.user_group)
    File(format('{config_dir}/webhcat-env.sh'), owner=params.webhcat_user, group=params.user_group, content=Template('webhcat-env.sh.j2'))
    if params.security_enabled:
        kinit_if_needed = format('{kinit_path_local} -kt {smoke_user_keytab} {smokeuser};')
    else:
        kinit_if_needed = ''
    if kinit_if_needed:
        Execute(kinit_if_needed, user=params.webhcat_user, path='/bin')
    copyFromLocal(path='/usr/lib/hadoop-mapreduce/hadoop-streaming*.jar', owner=params.webhcat_user, mode=493, dest_dir=format('{webhcat_apps_dir}/hadoop-streaming.jar'), kinnit_if_needed=kinit_if_needed)
    copyFromLocal(path='/usr/share/HDP-webhcat/pig.tar.gz', owner=params.webhcat_user, mode=493, dest_dir=format('{webhcat_apps_dir}/pig.tar.gz'))
    copyFromLocal(path='/usr/share/HDP-webhcat/hive.tar.gz', owner=params.webhcat_user, mode=493, dest_dir=format('{webhcat_apps_dir}/hive.tar.gz'))
