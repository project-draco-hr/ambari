{
  final Cluster cluster=Mockito.mock(Cluster.class);
  Mockito.when(cluster.getClusterId()).thenReturn(1L);
  Mockito.when(clusters.getCluster("cluster")).thenReturn(cluster);
  final Service service=Mockito.mock(Service.class);
  Mockito.when(cluster.getService("OOZIE")).thenReturn(service);
  Assert.assertTrue(servicesOozieDistributedCacheCheck.isApplicable(new PrereqCheckRequest("cluster")));
  Mockito.when(cluster.getService("OOZIE")).thenThrow(new ServiceNotFoundException("no","service"));
  Assert.assertFalse(servicesOozieDistributedCacheCheck.isApplicable(new PrereqCheckRequest("cluster")));
}
