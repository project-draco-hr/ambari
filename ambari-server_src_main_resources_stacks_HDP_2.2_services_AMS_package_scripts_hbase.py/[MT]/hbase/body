def hbase(name=None):
    import params
    Directory(params.hbase_conf_dir, owner=params.hbase_user, group=params.user_group, recursive=True)
    Directory(params.hbase_tmp_dir, owner=params.hbase_user, recursive=True)
    Directory(os.path.join(params.local_dir, 'jars'), owner=params.hbase_user, group=params.user_group, mode=509, recursive=True)
    XmlConfig('hbase-site.xml', conf_dir=params.hbase_conf_dir, configurations=params.config['configurations']['ams-hbase-site'], configuration_attributes=params.config['configuration_attributes']['ams-hbase-site'], owner=params.hbase_user, group=params.user_group)
    if ('ams-hbase-policy' in params.config['configurations']):
        XmlConfig('hbase-policy.xml', conf_dir=params.hbase_conf_dir, configurations=params.config['configurations']['ams-hbase-policy'], configuration_attributes=params.config['configuration_attributes']['ams-hbase-policy'], owner=params.hbase_user, group=params.user_group)
    else:
        File(format('{params.hbase_conf_dir}/hbase-policy.xml'), owner=params.hbase_user, group=params.user_group)
    File(format('{hbase_conf_dir}/hbase-env.sh'), owner=params.hbase_user, content=InlineTemplate(params.hbase_env_sh_template))
    File(os.path.join(params.hbase_conf_dir, 'hadoop-metrics2-hbase.properties'), owner=params.hbase_user, group=params.user_group, content=Template('hadoop-metrics2-hbase.properties.j2'))
    hbase_TemplateConfig('regionservers')
    if params.security_enabled:
        hbase_TemplateConfig(format('hbase_{name}_jaas.conf'))
    if (name != 'client'):
        Directory(params.hbase_pid_dir, owner=params.hbase_user, recursive=True)
        Directory(params.hbase_log_dir, owner=params.hbase_user, recursive=True)
    if (params.hbase_log4j_props != None):
        File(format('{params.hbase_conf_dir}/log4j.properties'), mode=420, group=params.user_group, owner=params.hbase_user, content=params.hbase_log4j_props)
    elif os.path.exists(format('{params.hbase_conf_dir}/log4j.properties')):
        File(format('{params.hbase_conf_dir}/log4j.properties'), mode=420, group=params.user_group, owner=params.hbase_user)
