{
  users.createUser("admin","admin");
  users.createUser("admin2","admin2");
  User user=users.getLocalUser("admin");
  assertTrue(user.getRoles().contains(users.getUserRole()));
  assertFalse(user.getRoles().contains(users.getAdminRole()));
  users.promoteToAdmin(user);
  user=users.getLocalUser("admin2");
  users.promoteToAdmin(user);
  user=users.getLocalUser("admin");
  assertTrue(user.getRoles().contains(users.getAdminRole()));
  users.demoteAdmin(user);
  user=users.getLocalUser("admin");
  assertFalse(user.getRoles().contains(users.getAdminRole()));
  user=users.getLocalUser("admin2");
  users.demoteAdmin(user);
}
