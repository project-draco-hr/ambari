def __init__(self, config):
    super(ActionQueue, self).__init__()
    self.config = config
    self.sh = shellRunner()
    self._stop = threading.Event()
    self.maxRetries = config.getint('command', 'maxretries')
    self.sleepInterval = config.getint('command', 'sleepBetweenRetries')
    self.puppetExecutor = PuppetExecutor.PuppetExecutor(config.get('puppet', 'puppetmodules'), config.get('puppet', 'puppet_home'), config.get('puppet', 'facter_home'), config.get('agent', 'prefix'), config)
    self.pythonExecutor = PythonExecutor.PythonExecutor()
    self.upgradeExecutor = UpgradeExecutor.UpgradeExecutor(self.pythonExecutor, PuppetExecutor, config)
    self.tmpdir = config.get('agent', 'prefix')
    self.commandInProgress = None
