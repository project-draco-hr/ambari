def result(self):
    resultReports = []
    resultComponentStatus = []
    while (not self.resultQueue.empty()):
        res = self.resultQueue.get()
        if (res[0] == self.EXECUTION_COMMAND):
            resultReports.append(res[1])
        elif (res[0] == ActionQueue.STATUS_COMMAND):
            resultComponentStatus.append(res[1])
    if (self.commandInProgress is not None):
        try:
            tmpout = open(self.commandInProgress['tmpout'], 'r').read()
            tmperr = open(self.commandInProgress['tmperr'], 'r').read()
        except Exception as err:
            logger.warn(err)
            tmpout = '...'
            tmperr = '...'
        grep = Grep()
        output = grep.tail(tmpout, Grep.OUTPUT_LAST_LINES)
        inprogress = {'role': self.commandInProgress['role'], 'actionId': self.commandInProgress['actionId'], 'taskId': self.commandInProgress['taskId'], 'stdout': grep.filterMarkup(output), 'clusterName': self.commandInProgress['clusterName'], 'stderr': tmperr, 'exitCode': 777, 'serviceName': self.commandInProgress['serviceName'], 'status': 'IN_PROGRESS', 'roleCommand': self.commandInProgress['roleCommand'], }
        resultReports.append(inprogress)
    result = {'reports': resultReports, 'componentStatus': resultComponentStatus, }
    return result
