{
  Map<String,Map<TemporalInfo,MetricsRequest>> requestMap=getMetricsRequests(resources,request,propertyIds);
  for (  Map.Entry<String,Map<TemporalInfo,MetricsRequest>> clusterEntry : requestMap.entrySet()) {
    for (    MetricsRequest metricsRequest : clusterEntry.getValue().values()) {
      metricsRequest.populateResources();
    }
  }
  propertyIdAggregateFunctionMap.clear();
  return resources;
}
