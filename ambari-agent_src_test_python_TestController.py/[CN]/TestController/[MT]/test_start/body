@patch.object(Controller, 'Heartbeat')
@patch.object(Controller, 'Register')
@patch.object(Controller, 'ActionQueue')
def test_start(self, ActionQueue_mock, Register_mock, Heartbeat_mock):
    aq = MagicMock()
    ActionQueue_mock.return_value = aq
    self.controller.start()
    self.assertTrue(ActionQueue_mock.called)
    self.assertTrue(aq.start.called)
    self.assertTrue(Register_mock.called)
    self.assertTrue(Heartbeat_mock.called)
