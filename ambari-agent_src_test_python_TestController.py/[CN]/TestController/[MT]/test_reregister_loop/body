def test_reregister_loop(self):


    class ControllerMock(Controller):

        def __init__(self, config, range=0):
            self.repeatRegistration = False
            self.range = range
        callCounter = 0

        def registerAndHeartbeat(self):
            if (self.callCounter < 3):
                self.repeatRegistration = True
                self.callCounter += 1
            else:
                self.repeatRegistration = False
    config = ConfigParser.RawConfigParser()
    mock = ControllerMock(config)
    mock.run()
    self.assertEquals(mock.callCounter, 3)
    pass
