{
  String uri=getURI();
  int qsBegin=uri.indexOf("?");
  if (qsBegin == -1)   return null;
  String[] tokens=uri.substring(qsBegin + 1).split("&");
  Set<BasePredicate> setPredicates=new HashSet<BasePredicate>();
  for (  String outerToken : tokens) {
    if (outerToken.startsWith("_=")) {
      continue;
    }
    if (outerToken != null && !outerToken.startsWith("fields")) {
      setPredicates.add(outerToken.contains("|") ? handleOrPredicate(outerToken) : createPredicate(outerToken));
    }
  }
  if (setPredicates.size() == 1) {
    return setPredicates.iterator().next();
  }
 else   if (setPredicates.size() > 1) {
    return new AndPredicate(setPredicates.toArray(new BasePredicate[setPredicates.size()]));
  }
 else {
    return null;
  }
}
