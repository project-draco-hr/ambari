@patch('os.path.isdir')
def test_get_hook_base_dir(self, isdir_mock):
    fileCache = FileCache(self.config)
    isdir_mock.return_value = True
    base = fileCache.get_hook_base_dir('HDP', '2.0.7')
    self.assertEqual(base, '/var/lib/ambari-agent/cache/stacks/HDP/2.0.7/hooks')
    isdir_mock.return_value = False
    try:
        fileCache.get_hook_base_dir('HDP', '2.0.7')
        self.fail('Should throw an exception')
    except AgentException:
        pass
