@patch('os.path.isdir')
def test_get_hook_base_dir(self, isdir_mock):
    fileCache = FileCache(self.config)
    command = {'commandParams': {}, }
    base = fileCache.get_hook_base_dir(command)
    self.assertEqual(base, None)
    isdir_mock.return_value = True
    command = {'commandParams': {'hooks_folder': 'HDP/2.1.1/hooks', }, }
    base = fileCache.get_hook_base_dir(command)
    self.assertEqual(base, '/var/lib/ambari-agent/cache/stacks/HDP/2.1.1/hooks')
    isdir_mock.return_value = False
    try:
        fileCache.get_hook_base_dir(command)
        self.fail('Should throw an exception')
    except AgentException:
        pass
