{
  Map<String,Collection<String>> hostComponentMap=new HashMap<String,Collection<String>>();
  Set<HostRequest> pendingRequests=new HashSet<HostRequest>(requestsWithReservedHosts.values());
  pendingRequests.addAll(outstandingHostRequests);
  for (  HostRequest hostRequest : pendingRequests) {
    HostGroup hostGroup=hostRequest.getHostGroup();
    for (    String host : topology.getHostGroupInfo().get(hostGroup.getName()).getHostNames()) {
      Collection<String> hostComponents=hostComponentMap.get(host);
      if (hostComponents == null) {
        hostComponents=new HashSet<String>();
        hostComponentMap.put(host,hostComponents);
      }
      hostComponents.addAll(hostGroup.getComponents());
    }
  }
  return hostComponentMap;
}
