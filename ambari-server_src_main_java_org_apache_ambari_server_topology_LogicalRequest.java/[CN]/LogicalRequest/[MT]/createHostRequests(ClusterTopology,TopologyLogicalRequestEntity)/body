{
  for (  TopologyHostRequestEntity hostRequestEntity : requestEntity.getTopologyHostRequestEntities()) {
    Long hostRequestId=hostRequestEntity.getId();
synchronized (hostIdCounter) {
      if (hostIdCounter.get() <= hostRequestId) {
        hostIdCounter.set(hostRequestId + 1);
      }
    }
    TopologyHostGroupEntity hostGroupEntity=hostRequestEntity.getTopologyHostGroupEntity();
    String reservedHostName=hostGroupEntity.getTopologyHostInfoEntities().iterator().next().getFqdn();
    HostRequest hostRequest=new HostRequest(getRequestId(),hostRequestId,reservedHostName,topology,hostRequestEntity);
    allHostRequests.add(hostRequest);
    if (!hostRequest.isCompleted()) {
      if (reservedHostName != null) {
        requestsWithReservedHosts.put(reservedHostName,hostRequest);
        LOG.info("LogicalRequest.createHostRequests: created new request for a reserved request ID = {} for host name = {}",hostRequest.getId(),reservedHostName);
      }
 else {
        outstandingHostRequests.add(hostRequest);
        LOG.info("LogicalRequest.createHostRequests: created new outstanding host request ID = {}",hostRequest.getId());
      }
    }
  }
}
