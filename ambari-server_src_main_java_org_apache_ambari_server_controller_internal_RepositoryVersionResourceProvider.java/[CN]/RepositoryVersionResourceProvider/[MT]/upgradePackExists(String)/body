{
  Collection<StackInfo> stacks=new ArrayList<StackInfo>();
  for (  Cluster cluster : clusters.get().getClusters().values()) {
    stacks.add(ambariMetaInfo.getStack(cluster.getCurrentStackVersion().getStackName(),cluster.getCurrentStackVersion().getStackVersion()));
  }
  for (  StackInfo si : stacks) {
    Map<String,UpgradePack> upgradePacks=si.getUpgradePacks();
    if (upgradePacks != null) {
      for (      UpgradePack upgradePack : upgradePacks.values()) {
        if (upgradePack.canBeApplied(checkVersion)) {
          return true;
        }
      }
    }
  }
  return false;
}
