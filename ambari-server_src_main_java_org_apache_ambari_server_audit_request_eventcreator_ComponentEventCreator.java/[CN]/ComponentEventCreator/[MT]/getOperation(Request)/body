{
  if (request.getRequestType() == Request.Type.DELETE) {
    return "Delete component " + request.getResource().getKeyValueMap().get(Resource.Type.HostComponent);
  }
  if (request.getBody().getRequestInfoProperties().containsKey(RequestOperationLevel.OPERATION_LEVEL_ID)) {
    String operation="";
switch (request.getBody().getRequestInfoProperties().get(RequestOperationLevel.OPERATION_LEVEL_ID)) {
case "CLUSTER":
      for (      Map<String,Object> map : request.getBody().getPropertySets()) {
        if (map.containsKey(PropertyHelper.getPropertyId("HostRoles","cluster_name"))) {
          operation=String.valueOf(map.get(PropertyHelper.getPropertyId("HostRoles","state"))) + ": all services" + " on all hosts"+ (request.getBody().getQueryString().length() > 0 ? " that matches " + request.getBody().getQueryString() : "")+ " ("+ request.getBody().getRequestInfoProperties().get(RequestOperationLevel.OPERATION_CLUSTER_ID)+ ")";
          break;
        }
      }
    break;
case "HOST":
  for (  Map<String,Object> map : request.getBody().getPropertySets()) {
    if (map.containsKey(PropertyHelper.getPropertyId("HostRoles","cluster_name"))) {
      String query=request.getBody().getRequestInfoProperties().get("query");
      operation=String.valueOf(map.get(PropertyHelper.getPropertyId("HostRoles","state"))) + ": " + query.substring(query.indexOf("(") + 1,query.length() - 1)+ " on "+ request.getBody().getRequestInfoProperties().get("operation_level/host_names")+ " ("+ request.getBody().getRequestInfoProperties().get(RequestOperationLevel.OPERATION_CLUSTER_ID)+ ")";
      break;
    }
  }
break;
case "HOST_COMPONENT":
for (Map<String,Object> map : request.getBody().getPropertySets()) {
if (map.containsKey(PropertyHelper.getPropertyId("HostRoles","component_name"))) {
  operation=String.valueOf(map.get(PropertyHelper.getPropertyId("HostRoles","state"))) + ": " + String.valueOf(map.get(PropertyHelper.getPropertyId("HostRoles","component_name")))+ "/"+ request.getBody().getRequestInfoProperties().get(RequestOperationLevel.OPERATION_SERVICE_ID)+ " on "+ request.getBody().getRequestInfoProperties().get("operation_level/host_name")+ " ("+ request.getBody().getRequestInfoProperties().get(RequestOperationLevel.OPERATION_CLUSTER_ID)+ ")";
  break;
}
}
break;
}
return operation;
}
for (Map<String,Object> map : request.getBody().getPropertySets()) {
if (map.containsKey(PropertyHelper.getPropertyId("HostRoles","maintenance_state"))) {
return "Turn " + map.get(PropertyHelper.getPropertyId("HostRoles","maintenance_state")) + " Maintenance Mode for "+ map.get(PropertyHelper.getPropertyId("HostRoles","component_name"));
}
}
return null;
}
