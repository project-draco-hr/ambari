def signal_handler(signum, frame):
    if (os.getpid() != agentPid):
        os._exit(0)
    logger.info('signal received, exiting.')
    try:
        os.unlink(pidfile)
    except Exception:
        logger.warn(('Unable to remove: ' + pidfile))
        traceback.print_exc()
    tempFiles = getTempFiles()
    for tempFile in tempFiles:
        try:
            os.unlink(tempFile)
        except Exception:
            traceback.print_exc()
            logger.warn(('Unable to remove: ' + tempFile))
    os._exit(0)
