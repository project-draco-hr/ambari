def bind_signal_handlers(agentPid):
    global _handler
    if (OSCheck.get_os_family() != OSConst.WINSRV_FAMILY):
        if (os.getpid() == agentPid):
            signal.signal(signal.SIGINT, signal_handler)
            signal.signal(signal.SIGTERM, signal_handler)
            signal.signal(signal.SIGUSR2, remote_debug)
            try:
                import faulthandler
                faulthandler.enable(file=sys.stderr, all_threads=True)
                faulthandler.register(signal.SIGUSR1, file=sys.stderr, all_threads=True, chain=False)
                sys.stderr.write('Registered faulthandler\n')
            except ImportError:
                pass
        _handler = HeartbeatStopHandlersLinux()
    else:
        _handler = HeartbeatStopHandlersWindows()
    return _handler
