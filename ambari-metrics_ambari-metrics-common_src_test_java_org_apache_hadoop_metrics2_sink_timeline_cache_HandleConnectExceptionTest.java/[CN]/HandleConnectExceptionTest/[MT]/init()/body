{
  sink=new TestTimelineMetricsSink();
  OutputStream os=createNiceMock(OutputStream.class);
  HttpURLConnection connection=createNiceMock(HttpURLConnection.class);
  URL url=createNiceMock(URL.class);
  try {
    expectNew(URL.class,"collector").andReturn(url);
    expect(url.openConnection()).andReturn(connection).once();
    expect(connection.getOutputStream()).andReturn(os).once();
    expect(connection.getResponseCode()).andThrow(new IOException());
    replayAll();
  }
 catch (  Exception e) {
  }
}
