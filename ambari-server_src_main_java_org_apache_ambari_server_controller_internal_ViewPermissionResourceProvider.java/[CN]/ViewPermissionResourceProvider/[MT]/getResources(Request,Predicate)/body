{
  ViewRegistry viewRegistry=ViewRegistry.getInstance();
  Set<Resource> resources=new HashSet<Resource>();
  Set<String> requestedIds=getRequestPropertyIds(request,predicate);
  for (  PermissionEntity permissionEntity : permissionDAO.findAll()) {
    ResourceTypeEntity resourceType=permissionEntity.getResourceType();
    ViewEntity viewEntity=viewRegistry.getDefinition(resourceType);
    if (viewEntity != null) {
      resources.add(toResource(permissionEntity,resourceType,viewEntity,requestedIds));
    }
  }
  return resources;
}
