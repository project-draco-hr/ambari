def generateFiles(self):
    repoPuppetFiles = []
    for repo in self.repoInfoList:
        repoFile = open((((((self.path + os.sep) + repo['repoId']) + '-') + str(self.taskId)) + PUPPET_EXT), 'w+')
        importsfile = 'imports.txt'
        if self.config.has_option('puppet', 'imports_file'):
            importsfile = self.config.get('puppet', 'imports_file')
        writeImports(repoFile, self.modulesdir, importsfile)
        baseUrl = ''
        mirrorList = ''
        if repo.has_key('baseUrl'):
            baseUrl = repo['baseUrl']
            baseUrl = baseUrl.decode('unicode-escape').encode('utf-8')
            baseUrl = baseUrl.replace('$', '\\$')
        if repo.has_key('mirrorsList'):
            mirrorList = repo['mirrorsList']
            mirrorList = mirrorList.decode('unicode-escape').encode('utf-8')
            mirrorList = mirrorList.replace('$', '\\$')
        repoFile.write('node /default/ {')
        repoFile.write(((((((((((('class{ "hdp-repos::process_repo" : ' + ' os_type => "') + repo['osType']) + '", repo_id => "') + repo['repoId']) + '", base_url => "') + baseUrl) + '", mirror_list => "') + mirrorList) + '", repo_name => "') + repo['repoName']) + '" }'))
        repoFile.write('}')
        repoFile.close()
        repoPuppetFiles.append(repoFile.name)
    return repoPuppetFiles
