def save_passwd_for_alias(alias, passwd, masterKey=''):
    if (alias and passwd):
        jdk_path = find_jdk()
        if (jdk_path is None):
            print_error_msg(('No JDK found, please run the "setup" command to install a JDK automatically or install any JDK manually to ' + JDK_INSTALL_DIR))
            return 1
        if (masterKey is None):
            masterKey = 'None'
        command = SECURITY_PROVIDER_PUT_CMD.format(jdk_path, get_conf_dir(), get_ambari_classpath(), alias, passwd, masterKey)
        (retcode, stdout, stderr) = run_os_command(command)
        print_info_msg(('Return code from credential provider save passwd: ' + str(retcode)))
        return retcode
    else:
        print_error_msg('Alias or password is unreadable.')
