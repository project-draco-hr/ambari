def setup(args):
    print 'About to check Postgre'
    retcode = check_postgre_up()
    if (not (retcode == 0)):
        print 'Error! Unable to start postgre server'
        sys.exit(retcode)
    print 'About to setup database'
    retcode = setup_db(args)
    if (not (retcode == 0)):
        print 'Error! Running database init script was failed'
        sys.exit(retcode)
    print 'About to check SELinux down'
    retcode = check_se_down()
    if (not (retcode == 0)):
        print 'Error! SELinux is enabled, unable to proceed'
        sys.exit(retcode)
    print 'About to check iptables down'
    (retcode, out) = ip_tables_down()
    if ((not (retcode == 0)) and (out == IP_TBLS_ENABLED)):
        print 'Error! Failed to stop iptables'
        sys.exit(retcode)
    print 'About to download JDK and install it'
    retcode = download_jdk()
    if (not (retcode == 0)):
        print 'Error! Downloading or installing JDK failed'
        sys.exit(retcode)
    print 'Setup was finished sucessfully'
