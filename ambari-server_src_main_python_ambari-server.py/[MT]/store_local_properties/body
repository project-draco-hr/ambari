def store_local_properties(args):
    properties = get_ambari_properties()
    if (properties == (-1)):
        print_error_msg('Error getting ambari properties')
        return (-1)
    properties.removeOldProp(JDBC_SCHEMA_PROPERTY)
    properties.removeOldProp(JDBC_HOSTNAME_PROPERTY)
    properties.removeOldProp(JDBC_DATABASE_PROPERTY)
    properties.removeOldProp(JDBC_RCA_DRIVER_PROPERTY)
    properties.removeOldProp(JDBC_RCA_URL_PROPERTY)
    properties.removeOldProp(JDBC_PORT_PROPERTY)
    properties.removeOldProp(JDBC_PORT_PROPERTY)
    properties.removeOldProp(JDBC_DRIVER_PROPERTY)
    properties.removeOldProp(JDBC_URL_PROPERTY)
    properties.removeOldProp(JDBC_DATABASE_PROPERTY)
    properties.process_pair(PERSISTENCE_TYPE_PROPERTY, 'local')
    properties.process_pair(JDBC_USER_NAME_PROPERTY, args.database_username)
    isSecure = properties.get_property(SECURITY_IS_ENCRYPTION_ENABLED)
    if (isSecure and (isSecure.lower() == 'true')):
        properties.process_pair(JDBC_PASSWORD_PROPERTY, encrypt_password(JDBC_RCA_PASSWORD_ALIAS, args.database_password))
    else:
        properties.process_pair(JDBC_PASSWORD_PROPERTY, store_password_file(args.database_password, JDBC_PASSWORD_FILENAME))
    conf_file = properties.fileName
    try:
        properties.store(open(conf_file, 'w'))
    except Exception as e:
        print ('Could not write ambari config file "%s": %s' % (conf_file, e))
        return (-1)
    return 0
