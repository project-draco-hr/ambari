def setup_db(args):
    configure_database_username_password(args)
    dbname = args.database_name
    scriptFile = args.init_script_file
    username = args.database_username
    password = args.database_password
    command = SETUP_DB_CMD[:]
    command[(-1)] = command[(-1)].format(scriptFile, username, password, dbname)
    for i in range(SETUP_DB_CONNECT_ATTEMPTS):
        print ('Connecting to the database. Attempt %d...' % (i + 1))
        (retcode, outdata, errdata) = run_os_command(command)
        if (retcode == 0):
            return (retcode, outdata, errdata)
        time.sleep(SETUP_DB_CONNECT_TIMEOUT)
    print_error_msg(errdata)
    return (retcode, outdata, errdata)
