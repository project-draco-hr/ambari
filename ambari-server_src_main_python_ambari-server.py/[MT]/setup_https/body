def setup_https(args):
    if (not is_root()):
        err = 'Ambari-server setup-https should be run with root-level privileges'
        raise FatalException(4, err)
    if (not SILENT):
        properties = get_ambari_properties()
        try:
            security_server_keys_dir = properties.get_property(SSL_KEY_DIR)
            client_api_ssl_port = (DEFAULT_SSL_API_PORT if (properties.get_property(SSL_API_PORT) in '') else properties.get_property(SSL_API_PORT))
            api_ssl = (properties.get_property(SSL_API) in ['true'])
            cert_was_imported = False
            if api_ssl:
                if get_YN_input('Do you want to disable SSL (y/n) n? ', False):
                    properties.process_pair(SSL_API, 'false')
                else:
                    properties.process_pair(SSL_API_PORT, get_validated_string_input((('SSL port [' + str(client_api_ssl_port)) + '] ? '), str(client_api_ssl_port), '^[0-9]{1,5}$', 'Invalid port.', False))
                    import_cert_and_key_action(security_server_keys_dir, properties)
                    cert_was_imported = True
            elif get_YN_input('Do you want to configure HTTPS (y/n) y? ', True):
                properties.process_pair(SSL_API_PORT, get_validated_string_input((('SSL port [' + str(client_api_ssl_port)) + '] ? '), str(client_api_ssl_port), '^[0-9]{1,5}$', 'Invalid port.', False))
                import_cert_and_key_action(security_server_keys_dir, properties)
                cert_was_imported = True
            else:
                return
            conf_file = find_properties_file()
            f = open(conf_file, 'w')
            properties.store(f, "Changed by 'ambari-server setup-https' command")
            if is_server_runing():
                print ('NOTE: Reset Ambari Server to apply changes' + ' ("ambari-server restart|stop|start")')
        except KeyError as e:
            err = ((('Property ' + str(e)) + ' is not defined at ') + conf_file)
            raise FatalException(1, err)
    else:
        print 'setup-https is not enabled in silent mode.'
    print "Ambari Server 'HTTPS setup' completed successfully. Exiting."
