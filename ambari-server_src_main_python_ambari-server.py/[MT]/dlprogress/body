def dlprogress(base_name, count, blockSize, totalSize):
    percent = int((((count * blockSize) * 100) / totalSize))
    if (totalSize < blockSize):
        sys.stdout.write((('\r' + base_name) + ('... %d%%' % 100)))
    else:
        sys.stdout.write((('\r' + base_name) + ('... %d%% (%.1f MB of %.1f MB)' % (percent, (((count * blockSize) / 1024) / 1024.0), ((totalSize / 1024) / 1024.0)))))
    if ((percent == 100) or (totalSize < blockSize)):
        sys.stdout.write('\n')
    sys.stdout.flush()
