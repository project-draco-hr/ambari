def download_jce_policy(properties, accpeted_bcl):
    try:
        jce_url = properties['jce_policy.url']
        resources_dir = properties['resources.dir']
    except KeyError as e:
        print (('Property ' + str(e)) + ' is not defined in properties file')
        return (-1)
    dest_file = ((resources_dir + os.sep) + JCE_POLICY_FILENAME)
    if (not os.path.exists(dest_file)):
        print ((('Downloading JCE Policy archive from ' + jce_url) + ' to ') + dest_file)
        try:
            size_command = JDK_DOWNLOAD_SIZE_CMD.format(jce_url)
            (retcode, out, err) = run_os_command(size_command)
            if (out.find('Content-Length') == (-1)):
                print "Request header doesn't contain Content-Length"
                return (-1)
            start_with = int(((out.find('Content-Length') + len('Content-Length')) + 2))
            end_with = out.find('\r\n', start_with)
            src_size = int(out[start_with:end_with])
            print_info_msg((('JCE zip distribution size is ' + str(src_size)) + 'bytes'))
            file_exists = os.path.isfile(dest_file)
            file_size = (-1)
            if file_exists:
                file_size = os.stat(dest_file).st_size
            if (file_exists and (file_size == src_size)):
                print_info_msg('File already exists')
            else:
                jce_download_cmd = JCE_DOWNLOAD_CMD.format(dest_file, jce_url)
                print_info_msg(('JCE download cmd: ' + jce_download_cmd))
                if (accpeted_bcl == True):
                    (retcode, out, err) = run_os_command(jce_download_cmd)
                    if (retcode == 0):
                        print ('Successfully downloaded JCE Policy archive to ' + dest_file)
                    else:
                        return (-1)
                else:
                    ok = get_YN_input('To download the JCE Policy archive you must accept the license terms found at http://www.oracle.com/technetwork/java/javase/terms/license/index.htmlNot accepting might result in failure when setting up HDP security. \nDo you accept the Oracle Binary Code License Agreement [y/n] (y)? ', True)
                    if (ok == True):
                        (retcode, out, err) = run_os_command(jce_download_cmd)
                        if (retcode == 0):
                            print ('Successfully downloaded JCE Policy archive to ' + dest_file)
                    else:
                        return (-1)
        except Exception as e:
            print_error_msg(('Failed to download JCE Policy archive: ' + str(e)))
            return (-1)
        downloaded_size = os.stat(dest_file).st_size
        if ((downloaded_size != src_size) or (downloaded_size < JCE_MIN_FILESIZE)):
            print_error_msg((('Size of downloaded JCE Policy archive is ' + str(downloaded_size)) + ' bytes, it is probably                     damaged or incomplete'))
            return (-1)
    else:
        print ('JCE Policy archive already exists, using ' + dest_file)
