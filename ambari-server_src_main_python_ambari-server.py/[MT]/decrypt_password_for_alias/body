def decrypt_password_for_alias(alias):
    properties = get_ambari_properties()
    if (properties == (-1)):
        raise FatalException(1, None)
    isSecure = get_is_secure(properties)
    (isPersisted, masterKeyFile) = get_is_persisted(properties)
    if isSecure:
        masterKey = None
        if (not masterKeyFile):
            masterKey = get_original_master_key(properties)
        return read_passwd_for_alias(alias, masterKey)
    else:
        return alias
