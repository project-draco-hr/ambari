def main():
    parser = optparse.OptionParser(usage='usage: %prog [options] action')
    parser.add_option('-d', '--postgredbname', default='ambari', help='Database name in postgresql')
    parser.add_option('-f', '--init-script-file', default='/var/lib/ambari-server/resources/Ambari-DDL-Postgres-CREATE.sql', help='File with setup script')
    parser.add_option('-r', '--drop-script-file', default='/var/lib/ambari-server/resources/Ambari-DDL-Postgres-DROP.sql', help='File with drop script')
    parser.add_option('-j', '--java-home', default=None, help='Use specified java_home.  Must be valid on all hosts')
    parser.add_option('-v', '--verbose', action='store_true', dest='verbose', default=False, help='Print verbose status messages')
    parser.add_option('-s', '--silent', action='store_true', dest='silent', default=False, help='Silently accepts default prompt values')
    (options, args) = parser.parse_args()
    global VERBOSE
    VERBOSE = options.verbose
    global SILENT
    SILENT = options.silent
    if (not (len(args) == 1)):
        print parser.print_help()
        parser.error('Invalid number of arguments')
    action = args[0]
    if (action == SETUP_ACTION):
        setup(options)
    elif (action == START_ACTION):
        start(options)
    elif (action == STOP_ACTION):
        stop(options)
    elif (action == RESET_ACTION):
        reset(options)
    else:
        parser.error('Invalid action')
