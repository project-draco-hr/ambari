def main():
    parser = optparse.OptionParser(usage='usage: %prog [options] action')
    parser.add_option('-d', '--postgredbname', default='postgres', help='Database name in postgresql')
    parser.add_option('-f', '--init-script-file', default='setup_db.sql', help='File with setup script')
    (options, args) = parser.parse_args()
    if (not (len(args) == 1)):
        print parser.print_help()
        parser.error('Invalid number of arguments')
    action = args[0]
    if (action == SETUP_ACTION):
        setup(options)
    elif (action == START_ACTION):
        start(options)
    elif (action == STOP_ACTION):
        stop(options)
    else:
        parser.error('Invalid action')
