def read_master_key():
    passwordPattern = '.*'
    passwordDescr = 'Invalid characters in password. Use only alphanumeric or _ or - characters'
    passwordDefault = ''
    masterKey = get_validated_string_input('Please provide master key for the credential store: ', passwordDefault, passwordPattern, passwordDescr, True, True)
    if (not masterKey):
        print 'Master Key cannot be empty!'
        return read_master_key()
    masterKey2 = get_validated_string_input('Re-enter master key: ', passwordDefault, passwordPattern, passwordDescr, True, True)
    if (masterKey != masterKey2):
        print 'Master key did not match!'
        return read_master_key()
    return masterKey
