def test_writeTasks(self):
    tmpFileName = tempfile.mkstemp(dir=self.dir, text=True)[1]
    tmpFile = file(tmpFileName, 'r+')
    roles = [{'role': 'ZOOKEEPER_SERVER', 'cmd': 'NONE', 'roleParams': {'someRoleParams': '-x', }, }]
    clusterHostInfo = self.parsedJson['clusterHostInfo']
    clusterHostInfo['zookeeper_hosts'] = ['h1.hortonworks.com', 'h2.hortonworks.com']
    manifestGenerator.writeTasks(tmpFile, roles, self.config, clusterHostInfo, 'h1.hortonworks.com')
    tmpFile.seek(0)
    print tmpFile.read()
    tmpFile.close()
    os.remove(tmpFileName)
