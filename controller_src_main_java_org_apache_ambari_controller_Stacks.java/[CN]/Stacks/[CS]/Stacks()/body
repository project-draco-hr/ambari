{
  Stack x=new Stack();
  x.setName("hortonworks-1.0");
  x.setBlueprintLocationURL("http://localhost/~vgogate/ambari/hortonworks-1.0/default-blueprint.json");
  x.setDescription("Hortonworks ambari stack 1.0");
  x.setStackRevision(0);
  ConcurrentHashMap<Integer,Stack> y=new ConcurrentHashMap<Integer,Stack>();
  y.put(x.getStackRevision(),x);
  this.stacks.put(x.getName(),y);
  Blueprint bp=new Blueprint();
  bp.setName("default");
  bp.setStackName(x.getName());
  bp.setParentName("default");
  bp.setRevision(new Integer(x.getStackRevision()).toString());
  bp.setParentRevision(new Integer(x.getStackRevision()).toString());
  Component hdfsC=new Component();
  hdfsC.setName("hdfs");
  hdfsC.getProperty().add(Blueprints.getInstance().getProperty("dfs.name.dir","${HADOOP_NN_DIR}"));
  hdfsC.getProperty().add(Blueprints.getInstance().getProperty("dfs.data.dir","${HADOOP_DATA_DIR}"));
  Component mapredC=new Component();
  mapredC.setName("hdfs");
  mapredC.getProperty().add(Blueprints.getInstance().getProperty("mapred.system.dir","/mapred/mapredsystem"));
  mapredC.getProperty().add(Blueprints.getInstance().getProperty("mapred.local.dir","${HADOOP_MAPRED_DIR}"));
  List<Component> compList=new ArrayList();
  compList.add(mapredC);
  compList.add(hdfsC);
  bp.setComponents(compList);
  List<PackageRepository> prList=new ArrayList<PackageRepository>();
  PackageRepository pr=new PackageRepository();
  pr.setLocationURL("http://localhost/~vgogate/ambari");
  pr.setType("RPM");
  bp.setPackageRepositories(prList);
  Configuration bpDefaultCfg=new Configuration();
  ConfigPropertiesCategory hdfs_site=new ConfigPropertiesCategory();
  hdfs_site.setName("hdfs-site");
  ConfigPropertiesCategory mapred_site=new ConfigPropertiesCategory();
  mapred_site.setName("mapred-site");
  hdfs_site.getProperty().add(Blueprints.getInstance().getProperty("dfs.name.dir","/tmp/namenode"));
  hdfs_site.getProperty().add(Blueprints.getInstance().getProperty("dfs.data.dir","/tmp/datanode"));
  mapred_site.getProperty().add(Blueprints.getInstance().getProperty("mapred.system.dir","/mapred/mapredsystem"));
  mapred_site.getProperty().add(Blueprints.getInstance().getProperty("mapred.local.dir","/tmp/mapred"));
  bpDefaultCfg.getCategory().add(mapred_site);
  bpDefaultCfg.getCategory().add(hdfs_site);
  bp.setConfiguration(bpDefaultCfg);
  List<Role> roleList=new ArrayList<Role>();
  Role hdfs_nn_role=new Role();
  hdfs_nn_role.setName("hdfs-NN");
  hdfs_nn_role.setConfiguration(bpDefaultCfg);
  Role mapred_jt_role=new Role();
  mapred_jt_role.setName("mapred-JT");
  mapred_jt_role.setConfiguration(bpDefaultCfg);
  Role slaves_role=new Role();
  slaves_role.setName("slaves");
  slaves_role.setConfiguration(bpDefaultCfg);
  roleList.add(hdfs_nn_role);
  roleList.add(mapred_jt_role);
  roleList.add(slaves_role);
  bp.setRoles(roleList);
  this.default_blueprints.put(x.getName() + ":" + x.getStackRevision(),bp);
}
