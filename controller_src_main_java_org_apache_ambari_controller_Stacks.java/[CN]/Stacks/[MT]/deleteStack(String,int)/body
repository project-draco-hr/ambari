{
  Hashtable<String,String> clusterReferencedBPList=getClusterReferencedStacksList();
  if (clusterReferencedBPList.containsKey(stackName + "-" + revision)) {
    String msg="One or more clusters are associated with the specified stack";
    throw new WebApplicationException((new ExceptionResponse(msg,Response.Status.NOT_ACCEPTABLE)).get());
  }
  this.stacks.get(stackName).remove(revision);
  if (this.stacks.get(stackName).keySet().isEmpty()) {
    this.stacks.remove(stackName);
  }
}
