{
  VBarDataList vBarDataList=new VBarDataList();
  Collection<VBarGraphData> dataList=new ArrayList<VBarGraphData>();
  if (jsonFacetResponse == null) {
    logger.info("Solr document list in null");
    return vBarDataList;
  }
  List<Object> userList=jsonFacetResponse.getAll("x");
  if (userList.isEmpty()) {
    return vBarDataList;
  }
  SimpleOrderedMap<Map<String,Object>> userMap=(SimpleOrderedMap<Map<String,Object>>)userList.get(0);
  if (userMap == null) {
    logger.info("No top user details found");
    return vBarDataList;
  }
  List<SimpleOrderedMap> userUsageList=(List<SimpleOrderedMap>)userMap.get("buckets");
  for (  SimpleOrderedMap usageMap : userUsageList) {
    VBarGraphData vBarGraphData=new VBarGraphData();
    String userName=(String)usageMap.get("val");
    vBarGraphData.setName(userName);
    SimpleOrderedMap repoMap=(SimpleOrderedMap)usageMap.get("y");
    List<VNameValue> componetCountList=new ArrayList<VNameValue>();
    List<SimpleOrderedMap> repoUsageList=(List<SimpleOrderedMap>)repoMap.get("buckets");
    for (    SimpleOrderedMap repoUsageMap : repoUsageList) {
      VNameValue componetCount=new VNameValue();
      if (repoUsageMap.get("val") != null)       componetCount.setName(repoUsageMap.get("val").toString());
      String eventCount="";
      if (repoUsageMap.get("eventCount") != null)       eventCount=repoUsageMap.get("eventCount").toString();
      eventCount=eventCount.replace(".0","");
      eventCount=eventCount.replace(".00","");
      componetCount.setValue(eventCount);
      componetCountList.add(componetCount);
    }
    vBarGraphData.setDataCounts(componetCountList);
    dataList.add(vBarGraphData);
  }
  vBarDataList.setGraphData(dataList);
  logger.info("getting graph data");
  return vBarDataList;
}
