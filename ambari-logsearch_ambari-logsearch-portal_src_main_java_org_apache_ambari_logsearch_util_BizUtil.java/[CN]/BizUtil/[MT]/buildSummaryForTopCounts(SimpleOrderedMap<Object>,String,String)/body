{
  VBarDataList vBarDataList=new VBarDataList();
  Collection<VBarGraphData> dataList=new ArrayList<VBarGraphData>();
  if (jsonFacetResponse == null) {
    logger.info("Solr document list in null");
    return vBarDataList;
  }
  List<Object> userList=jsonFacetResponse.getAll(outerJsonKey);
  if (userList.isEmpty()) {
    return vBarDataList;
  }
  SimpleOrderedMap<Map<String,Object>> userMap=(SimpleOrderedMap<Map<String,Object>>)userList.get(0);
  if (userMap == null) {
    logger.info("No top user details found");
    return vBarDataList;
  }
  List<SimpleOrderedMap> userUsageList=(List<SimpleOrderedMap>)userMap.get("buckets");
  if (userUsageList == null) {
    return vBarDataList;
  }
  for (  SimpleOrderedMap usageMap : userUsageList) {
    if (usageMap != null) {
      VBarGraphData vBarGraphData=new VBarGraphData();
      String userName=(String)usageMap.get("val");
      if (!stringUtil.isEmpty(userName)) {
        vBarGraphData.setName(userName);
      }
      SimpleOrderedMap repoMap=(SimpleOrderedMap)usageMap.get(innerJsonKey);
      List<VNameValue> componetCountList=new ArrayList<VNameValue>();
      List<SimpleOrderedMap> repoUsageList=(List<SimpleOrderedMap>)repoMap.get("buckets");
      if (repoMap != null) {
        for (        SimpleOrderedMap repoUsageMap : repoUsageList) {
          VNameValue componetCount=new VNameValue();
          if (repoUsageMap.get("val") != null) {
            componetCount.setName(repoUsageMap.get("val").toString());
          }
          String eventCount="";
          if (repoUsageMap.get("eventCount") != null) {
            eventCount=repoUsageMap.get("eventCount").toString();
          }
          eventCount=eventCount.replace(".0","");
          eventCount=eventCount.replace(".00","");
          componetCount.setValue(eventCount);
          componetCountList.add(componetCount);
        }
        vBarGraphData.setDataCounts(componetCountList);
        dataList.add(vBarGraphData);
      }
    }
  }
  vBarDataList.setGraphData(dataList);
  logger.info("getting graph data");
  return vBarDataList;
}
