{
  BarGraphDataListResponse barGraphDataListResponse=new BarGraphDataListResponse();
  Collection<BarGraphData> dataList=new ArrayList<>();
  if (jsonFacetResponse == null) {
    logger.info("Solr document list in null");
    return barGraphDataListResponse;
  }
  List<Object> userList=jsonFacetResponse.getAll(outerJsonKey);
  if (userList.isEmpty()) {
    return barGraphDataListResponse;
  }
  SimpleOrderedMap<Map<String,Object>> userMap=(SimpleOrderedMap<Map<String,Object>>)userList.get(0);
  if (userMap == null) {
    logger.info("No top user details found");
    return barGraphDataListResponse;
  }
  List<SimpleOrderedMap> userUsageList=(List<SimpleOrderedMap>)userMap.get("buckets");
  if (userUsageList == null) {
    return barGraphDataListResponse;
  }
  for (  SimpleOrderedMap usageMap : userUsageList) {
    if (usageMap != null) {
      BarGraphData barGraphData=new BarGraphData();
      String userName=(String)usageMap.get("val");
      if (!StringUtils.isBlank(userName)) {
        barGraphData.setName(userName);
      }
      SimpleOrderedMap repoMap=(SimpleOrderedMap)usageMap.get(innerJsonKey);
      List<NameValueData> componetCountList=new ArrayList<NameValueData>();
      if (repoMap != null) {
        List<SimpleOrderedMap> repoUsageList=(List<SimpleOrderedMap>)repoMap.get("buckets");
        for (        SimpleOrderedMap repoUsageMap : repoUsageList) {
          NameValueData componetCount=new NameValueData();
          if (repoUsageMap.get("val") != null) {
            componetCount.setName(repoUsageMap.get("val").toString());
          }
          String eventCount="";
          if (repoUsageMap.get("eventCount") != null) {
            eventCount=repoUsageMap.get("eventCount").toString();
          }
          eventCount=eventCount.replace(".0","");
          eventCount=eventCount.replace(".00","");
          componetCount.setValue(eventCount);
          componetCountList.add(componetCount);
        }
        barGraphData.setDataCount(componetCountList);
        dataList.add(barGraphData);
      }
    }
  }
  barGraphDataListResponse.setGraphData(dataList);
  logger.info("getting graph data");
  return barGraphDataListResponse;
}
