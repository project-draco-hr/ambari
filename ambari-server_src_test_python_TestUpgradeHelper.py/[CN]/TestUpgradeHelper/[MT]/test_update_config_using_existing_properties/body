@patch.object(upgradeHelper, 'update_config')
def test_update_config_using_existing_properties(self, update_config_mock):
    actual_property = {'actual property': 'actual value', }
    actual_attrib = {self.catalog_cfg_type: {'attribute 1': 'attribute value 1', }, }
    catalog_factory = UpgradeCatalogFactoryMock(self.test_catalog)
    catalog = catalog_factory.get_catalog(self.catalog_from, self.catalog_to)
    upgradeHelper.update_config_using_existing_properties(self.catalog_cfg_type, catalog.get_properties(self.catalog_cfg_type), actual_property, actual_attrib, catalog)
    expected_dict = {}
    expected_dict.update(actual_property)
    expected_dict.update(catalog.get_properties_as_dict(catalog.get_properties(self.catalog_cfg_type)))
    expected_args = ((expected_dict, self.catalog_cfg_type), {'attributes': actual_attrib, })
    self.assertEqual(1, update_config_mock.call_count)
    self.assertEqual(expected_args, tuple(update_config_mock.call_args))
