def magic_curl(self, *args, **kwargs):

    def ret_object():
        return ''

    def communicate():
        return ('{}', '')
    ret_object.returncode = 0
    ret_object.communicate = communicate
    with patch('upgradeHelper.subprocess') as subprocess:
        subprocess.Popen.return_value = ret_object
        self.original_curl(*args, **kwargs)
