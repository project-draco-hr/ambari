def build(self, id='unknown'):
    global clusterId, bluePrintName, bluePrintRevision
    serverStatus = ServerStatus()
    timestamp = int((time.time() * 1000))
    heartbeat = {'responseId': id, 'timestamp': timestamp, 'clusterId': self.actionQueue.getClusterId(), 'bluePrintName': self.actionQueue.getBluePrintName(), 'bluePrintRevision': self.actionQueue.getBluePrintRevision(), 'hostname': socket.gethostname(), 'hardwareProfile': self.hardware.get(), 'actionResults': self.actionQueue.result(), 'serversStatus': serverStatus.build(), 'idle': self.actionQueue.isIdle(), }
    return heartbeat
