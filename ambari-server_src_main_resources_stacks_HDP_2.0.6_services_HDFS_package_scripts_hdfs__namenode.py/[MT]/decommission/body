def decommission():
    import params
    hdfs_user = params.hdfs_user
    conf_dir = params.hadoop_conf_dir
    user_group = params.user_group
    dn_kinit_cmd = params.dn_kinit_cmd
    File(params.exclude_file_path, content=Template('exclude_hosts_list.j2'), owner=hdfs_user, group=user_group)
    Execute(dn_kinit_cmd, user=hdfs_user)
    ExecuteHadoop(format('dfsadmin -fs hdfs://{namenode_rpc} -refreshNodes'), user=hdfs_user, conf_dir=conf_dir, kinit_override=True)
