{
  moduleState=ModuleState.VISITED;
  String parentVersion=stackInfo.getParentStackVersion();
  mergeServicesWithExplicitParent(allStacks,commonServices);
  if (parentVersion != null) {
    mergeStackWithParent(parentVersion,allStacks,commonServices);
  }
  processUpgradePacks();
  processRepositories();
  processPropertyDependencies();
  moduleState=ModuleState.RESOLVED;
}
