{
  RepositoryXml rxml=stackDirectory.getRepoFile();
  if (rxml == null) {
    return;
  }
  stackInfo.setRepositoryXml(rxml);
  LOG.debug("Adding repositories to stack" + ", stackName=" + stackInfo.getName() + ", stackVersion="+ stackInfo.getVersion()+ ", repoFolder="+ stackDirectory.getRepoDir());
  List<RepositoryInfo> repos=rxml.getRepositories();
  for (  RepositoryInfo ri : repos) {
    processRepository(ri);
  }
  stackInfo.getRepositories().addAll(repos);
  if (null != rxml.getLatestURI() && repos.size() > 0) {
    stackContext.registerRepoUpdateTask(rxml.getLatestURI(),this);
  }
}
