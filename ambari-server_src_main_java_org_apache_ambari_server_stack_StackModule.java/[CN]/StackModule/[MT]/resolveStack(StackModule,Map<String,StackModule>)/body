{
  if (stackToBeResolved.getResolutionState() == State.INIT) {
    stackToBeResolved.resolve(null,stacks);
  }
 else   if (stackToBeResolved.getResolutionState() == State.VISITED) {
    throw new AmbariException("Cycle detected while parsing stack definition");
  }
}
