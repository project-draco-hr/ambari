def test_generate_configs_default(self):
    self.executeScript((self.COMMON_SERVICES_PACKAGE_DIR + '/scripts/hdfs_client.py'), classname='HdfsClient', command='generate_configs', config_file='default.json', hdp_stack_version=self.STACK_VERSION, target=RMFTestCase.TARGET_COMMON_SERVICES)
    self.assertResourceCalled('Directory', '/tmp', recursive=True)
    self.assertResourceCalled('XmlConfig', 'hdfs-site.xml', conf_dir='/tmp/123', configuration_attributes=self.getConfig()['configuration_attributes']['hdfs-site'], configurations=self.getConfig()['configurations']['hdfs-site'])
    self.assertResourceCalled('File', '/tmp/123/hadoop-env.sh', content=InlineTemplate(self.getConfig()['configurations']['hadoop-env']['content']))
    self.assertResourceCalled('File', '/tmp/123/log4j.properties', content=InlineTemplate((self.getConfig()['configurations']['hdfs-log4j']['content'] + self.getConfig()['configurations']['yarn-log4j']['content'])))
    self.assertResourceCalled('PropertiesFile', '/tmp/123/runtime.properties', properties=UnknownConfigurationMock())
    self.assertResourceCalled('PropertiesFile', '/tmp/123/startup.properties', properties=UnknownConfigurationMock())
    self.assertResourceCalled('Directory', '/tmp/123', action=['delete'])
    self.assertNoMoreResources()
