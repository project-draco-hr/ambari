{
  if (!populateFieldsThreadActive) {
    populateFieldsThreadActive=true;
    LOG.info("Creating thread to populated fields for collection=" + solrPropsConfig.getCollection());
    Thread fieldPopulationThread=new Thread("populated_fields_" + solrPropsConfig.getCollection()){
      @Override public void run(){
        LOG.info("Started thread to get fields for collection=" + solrPropsConfig.getCollection());
        int retryCount=0;
        while (true) {
          try {
            Thread.sleep(SETUP_RETRY_SECOND * 1000);
            retryCount++;
            boolean _result=_populateSchemaFields(solrClient,solrPropsConfig,solrDao);
            if (_result) {
              LOG.info("Populate fields for collection " + solrPropsConfig.getCollection() + " is success, Update it after "+ SETUP_UPDATE_SECOND+ " sec");
              Thread.sleep(SETUP_UPDATE_SECOND * 1000);
            }
          }
 catch (          InterruptedException sleepInterrupted) {
            LOG.info("Sleep interrupted while populating fields for collection " + solrPropsConfig.getCollection());
            break;
          }
catch (          Exception ex) {
            LOG.error("Error while populating fields for collection " + solrPropsConfig.getCollection() + ", retryCount="+ retryCount);
          }
        }
        populateFieldsThreadActive=false;
        LOG.info("Exiting thread for populating fields. collection=" + solrPropsConfig.getCollection());
      }
    }
;
    fieldPopulationThread.setDaemon(true);
    fieldPopulationThread.start();
  }
}
