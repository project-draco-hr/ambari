def test_recursive_loop_bug(self):
    tpl1 = Template('\n        {% for p in foo recursive%}\n            {{p.bar}}\n            {% for f in p.fields recursive%}\n                {{f.baz}}\n                {{p.bar}}\n                {% if f.rec %}\n                    {{ loop(f.sub) }}\n                {% endif %}\n            {% endfor %}\n        {% endfor %}\n        ')
    tpl2 = Template('\n        {% for p in foo%}\n            {{p.bar}}\n            {% for f in p.fields recursive%}\n                {{f.baz}}\n                {{p.bar}}\n                {% if f.rec %}\n                    {{ loop(f.sub) }}\n                {% endif %}\n            {% endfor %}\n        {% endfor %}\n        ')
