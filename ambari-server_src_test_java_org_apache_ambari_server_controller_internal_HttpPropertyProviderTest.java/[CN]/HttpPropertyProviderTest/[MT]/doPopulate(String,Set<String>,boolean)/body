{
  HttpProxyPropertyProvider propProvider=new HttpProxyPropertyProvider(new TestStreamProvider(throwException),PROPERTY_ID_CLUSTER_NAME,PROPERTY_ID_HOST_NAME,PROPERTY_ID_COMPONENT_NAME);
  Resource resource=new ResourceImpl(Resource.Type.HostComponent);
  resource.setProperty(PROPERTY_ID_HOST_NAME,"ec2-54-234-33-50.compute-1.amazonaws.com");
  resource.setProperty(PROPERTY_ID_COMPONENT_NAME,componentName);
  Request request=PropertyHelper.getReadRequest(requestProperties);
  propProvider.populateResources(Collections.singleton(resource),request,null);
  return resource;
}
