{
  if (!this.operational_clusters.containsKey(clusterName)) {
    String msg="Cluster [" + clusterName + "] does not exits";
    throw new WebApplicationException((new ExceptionResponse(msg,Response.Status.NOT_FOUND)).get());
  }
  try {
    String clusterId=this.operational_clusters.get(clusterName).getID();
    String blueprintName=this.operational_clusters.get(clusterName).getClusterDefinition().getBlueprintName();
    String blueprintRev=this.operational_clusters.get(clusterName).getClusterDefinition().getBlueprintRevision();
    ClusterState clusterState=StateMachineInvoker.getClusterState(clusterId,blueprintName,blueprintRev);
    Cluster cluster=this.operational_clusters.get(clusterName);
    cluster.setClusterState(clusterState);
    this.operational_clusters.put(clusterName,cluster);
  }
 catch (  Exception e) {
    LOG.error(ExceptionUtil.getStackTrace(e));
  }
  return this.operational_clusters.get(clusterName).getClusterState();
}
