{
  if (roleToNodesMap == null) {
    return;
  }
  for (  RoleToNodes e : roleToNodesMap) {
    List<String> hosts=getHostnamesFromRangeExpressions(e.getNodeRangeExpressions());
    for (    String host : hosts) {
      if (Nodes.getInstance().getNodes().get(host).getNodeState().getNodeRoleNames() == null) {
        Nodes.getInstance().getNodes().get(host).getNodeState().setNodeRoleNames((new ArrayList<String>()));
      }
      Nodes.getInstance().getNodes().get(host).getNodeState().getNodeRoleNames().add(e.getRoleName());
    }
  }
  List<String> specified_node_range=new ArrayList<String>();
  specified_node_range.addAll(getHostnamesFromRangeExpressions(nodeRangeExpressions));
  for (  String host : specified_node_range) {
    if (Nodes.getInstance().getNodes().get(host).getNodeState().getNodeRoleNames() == null) {
      Nodes.getInstance().getNodes().get(host).getNodeState().setNodeRoleNames((new ArrayList<String>()));
      String cid=Nodes.getInstance().getNodes().get(host).getNodeState().getClusterID();
      Nodes.getInstance().getNodes().get(host).getNodeState().getNodeRoleNames().add(getDefaultRoleName(cid));
    }
  }
}
