{
  ClusterDefinition c=getClusterByName(clusterName).getClusterDefinition(revision);
  Stack stack=this.flattener.flattenStack(c.getStackName(),Integer.parseInt(c.getStackRevision()));
  printStack(stack,null);
  String config=getStackGlobalVariablesForPuppet(stack,c);
  config=config + getStackConfigMapForPuppet(stack);
  config=config + getRoleToNodesMapForPuppet(c,stack);
  return config;
}
