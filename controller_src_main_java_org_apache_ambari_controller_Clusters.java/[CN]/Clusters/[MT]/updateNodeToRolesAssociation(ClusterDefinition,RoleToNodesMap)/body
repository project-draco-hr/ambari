{
  if (roleToNodesMap == null) {
    return;
  }
  ConcurrentHashMap<String,List<String>> nodeToRolesHashMap=new ConcurrentHashMap<String,List<String>>();
  for (  RoleToNodesMapEntry e : roleToNodesMap.getRoleToNodesMapEntry()) {
    List<String> hosts=getHostnamesFromRangeExpressions(e.getNodeRangeExpressions());
    for (    String host : hosts) {
      if (!nodeToRolesHashMap.containsKey(host)) {
        List<String> x=new ArrayList<String>();
        x.add(e.getRoleName());
        nodeToRolesHashMap.put(host,x);
      }
 else {
        nodeToRolesHashMap.get(host).add(e.getRoleName());
      }
    }
  }
  List<String> specified_node_range=new ArrayList<String>();
  specified_node_range.addAll(getHostnamesFromRangeExpressions(c.getNodeRangeExpressions()));
  for (  String host : specified_node_range) {
    if (!nodeToRolesHashMap.containsKey(host)) {
      List<String> x=new ArrayList<String>();
      x.add(getDefaultRoleName());
      nodeToRolesHashMap.put(host,x);
    }
 else {
      nodeToRolesHashMap.get(host).add(getDefaultRoleName());
    }
  }
  cluster_to_node_to_roles_map.put(c.getName(),nodeToRolesHashMap);
}
