{
  if (!clusterExists(clusterName)) {
    String msg="Cluster [" + clusterName + "] does not exist";
    throw new WebApplicationException((new ExceptionResponse(msg,Response.Status.NOT_FOUND)).get());
  }
  if (new_name == null || new_name.equals("")) {
    String msg="New name of the cluster should be specified as query parameter, (?new_name=xxxx)";
    throw new WebApplicationException((new ExceptionResponse(msg,Response.Status.BAD_REQUEST)).get());
  }
  if (!getClusterByName(clusterName).getClusterState().getState().equals(ClusterState.CLUSTER_STATE_ATTIC)) {
    String msg="Cluster state is not ATTIC. Cluster is only allowed to be renamed in ATTIC state";
    throw new WebApplicationException((new ExceptionResponse(msg,Response.Status.NOT_ACCEPTABLE)).get());
  }
  Cluster x=this.getClusterByName(clusterName);
  ClusterDefinition cdef=x.getClusterDefinition(-1);
  cdef.setName(new_name);
  ClusterState cs=x.getClusterState();
  this.addClusterEntry(cdef,cs);
  this.purgeClusterEntry(clusterName);
}
