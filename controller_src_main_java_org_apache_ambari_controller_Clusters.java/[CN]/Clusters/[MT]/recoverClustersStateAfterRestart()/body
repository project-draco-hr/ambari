{
  for (  Cluster cls : this.getClustersList("ALL")) {
    ClusterDefinition cdef=cls.getClusterDefinition(-1);
    this.validateClusterDefinition(cdef.getName(),cdef);
    if (cdef.getNodes() != null && !cdef.getGoalState().equals(ClusterDefinition.GOAL_STATE_ATTIC)) {
      this.updateClusterNodesReservation(cls.getName(),cdef);
    }
    if (!cdef.getGoalState().equals(ClusterDefinition.GOAL_STATE_ATTIC)) {
      this.updateNodeToRolesAssociation(cdef.getNodes(),cdef.getRoleToNodesMap());
    }
  }
}
