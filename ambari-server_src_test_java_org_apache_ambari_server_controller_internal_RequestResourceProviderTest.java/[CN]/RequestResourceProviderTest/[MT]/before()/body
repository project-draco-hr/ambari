{
  requestDAO=createNiceMock(RequestDAO.class);
  hrcDAO=createNiceMock(HostRoleCommandDAO.class);
  topologyManager=createNiceMock(TopologyManager.class);
  reset(topologyManager);
  expect(topologyManager.getStageSummaries(EasyMock.<Long>anyObject())).andReturn(Collections.<Long,HostRoleCommandStatusSummaryDTO>emptyMap()).anyTimes();
  expect(topologyManager.getRequests(EasyMock.<Collection<Long>>anyObject())).andReturn(Collections.<LogicalRequest>emptyList()).anyTimes();
  replay(topologyManager);
  Field field=RequestResourceProvider.class.getDeclaredField("s_requestDAO");
  field.setAccessible(true);
  field.set(null,requestDAO);
  field=RequestResourceProvider.class.getDeclaredField("s_hostRoleCommandDAO");
  field.setAccessible(true);
  field.set(null,hrcDAO);
  field=RequestResourceProvider.class.getDeclaredField("topologyManager");
  field.setAccessible(true);
  field.set(null,topologyManager);
  AuthorizationHelperInitializer.viewInstanceDAOReturningNull();
}
