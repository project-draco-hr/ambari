def _collect(self):
    urivalue = self._lookup_property_value(self.uri)
    port = self.port
    host = BaseAlert.get_host_from_url(urivalue)
    if (host is None):
        host = self.host_name
    try:
        port = int(get_port_from_url(urivalue))
    except:
        pass
    if logger.isEnabledFor(logging.DEBUG):
        logger.debug('checking {0} listening on port {1}'.format(host, str(port)))
    try:
        try:
            s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
            s.settimeout(1.5)
            t = time.time()
            s.connect((host, port))
            millis = (time.time() - t)
            return (self.RESULT_OK, [(millis / 1000), port])
        except Exception as e:
            return (self.RESULT_CRITICAL, [str(e), host, port])
    finally:
        if (s is not None):
            try:
                s.close()
            except:
                pass
