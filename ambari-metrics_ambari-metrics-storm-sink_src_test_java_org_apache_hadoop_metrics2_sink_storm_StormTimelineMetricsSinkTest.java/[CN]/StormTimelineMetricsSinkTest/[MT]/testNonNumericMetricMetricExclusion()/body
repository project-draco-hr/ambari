{
  StormTimelineMetricsSink stormTimelineMetricsSink=new StormTimelineMetricsSink();
  TimelineMetricsCache timelineMetricsCache=createNiceMock(TimelineMetricsCache.class);
  stormTimelineMetricsSink.setMetricsCache(timelineMetricsCache);
  HttpClient httpClient=createNiceMock(HttpClient.class);
  stormTimelineMetricsSink.setHttpClient(httpClient);
  replay(timelineMetricsCache,httpClient);
  stormTimelineMetricsSink.handleDataPoints(new IMetricsConsumer.TaskInfo("localhost",1234,"testComponent",42,20000L,60),Collections.singleton(new IMetricsConsumer.DataPoint("key1","value1")));
  verify(timelineMetricsCache,httpClient);
}
