{
  AmbariJpaLocalTxnInterceptor ambariJPAInterceptor=PowerMock.createNiceMock(AmbariJpaLocalTxnInterceptor.class);
  TransactionalLockInterceptor lockInterceptor=PowerMock.createNiceMock(TransactionalLockInterceptor.class);
  PowerMockito.whenNew(AmbariJpaLocalTxnInterceptor.class).withAnyArguments().thenReturn(ambariJPAInterceptor);
  PowerMockito.whenNew(TransactionalLockInterceptor.class).withAnyArguments().thenReturn(lockInterceptor);
  Object object=new Object();
  EasyMock.expect(lockInterceptor.invoke(EasyMock.anyObject(MethodInvocation.class))).andReturn(object).once();
  EasyMock.expect(ambariJPAInterceptor.invoke(EasyMock.anyObject(MethodInvocation.class))).andReturn(object).once();
  EasyMock.replay(ambariJPAInterceptor,lockInterceptor);
  Injector injector=Guice.createInjector(new InMemoryDefaultTestModule());
  HostRoleCommandDAO hostRoleCommandDAO=injector.getInstance(HostRoleCommandDAO.class);
  hostRoleCommandDAO.create(new HostRoleCommandEntity());
  EasyMock.verify(lockInterceptor);
}
