{
  String clusterName=topology.getClusterName();
  Cluster cluster;
  try {
    cluster=getController().getClusters().getCluster(clusterName);
  }
 catch (  AmbariException e) {
    throw new RuntimeException("Parent Cluster resource doesn't exist.  clusterName= " + clusterName);
  }
  if (cluster.getSecurityType() == SecurityType.KERBEROS) {
    for (    HostGroup group : topology.getBlueprint().getHostGroups().values()) {
      group.addComponent("KERBEROS_CLIENT");
    }
  }
}
