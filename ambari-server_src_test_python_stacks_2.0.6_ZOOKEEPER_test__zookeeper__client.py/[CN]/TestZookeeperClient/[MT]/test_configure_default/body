def test_configure_default(self):
    self.executeScript((self.COMMON_SERVICES_PACKAGE_DIR + '/scripts/zookeeper_client.py'), classname='ZookeeperClient', command='configure', config_file='default.json', hdp_stack_version=self.STACK_VERSION, target=RMFTestCase.TARGET_COMMON_SERVICES)
    self.assertResourceCalled('Directory', '/etc/zookeeper/conf', owner='zookeeper', group='hadoop', recursive=True)
    self.assertResourceCalled('File', '/etc/zookeeper/conf/zookeeper-env.sh', owner='zookeeper', content=InlineTemplate(self.getConfig()['configurations']['zookeeper-env']['content']), group='hadoop')
    self.assertResourceCalled('File', '/etc/zookeeper/conf/zoo.cfg', owner='zookeeper', content=Template('zoo.cfg.j2'), group='hadoop', mode=None)
    self.assertResourceCalled('File', '/etc/zookeeper/conf/configuration.xsl', owner='zookeeper', content=Template('configuration.xsl.j2'), group='hadoop', mode=None)
    self.assertResourceCalled('Directory', '/var/run/zookeeper', owner='zookeeper', group='hadoop', recursive=True)
    self.assertResourceCalled('Directory', '/var/log/zookeeper', owner='zookeeper', group='hadoop', recursive=True)
    self.assertResourceCalled('Directory', '/hadoop/zookeeper', owner='zookeeper', group='hadoop', recursive=True, cd_access='a')
    self.assertResourceCalled('File', '/etc/zookeeper/conf/log4j.properties', content='log4jproperties\nline2', mode=420, group='hadoop', owner='zookeeper')
    self.assertResourceCalled('File', '/etc/zookeeper/conf/zoo_sample.cfg', owner='zookeeper', group='hadoop')
    self.assertNoMoreResources()
