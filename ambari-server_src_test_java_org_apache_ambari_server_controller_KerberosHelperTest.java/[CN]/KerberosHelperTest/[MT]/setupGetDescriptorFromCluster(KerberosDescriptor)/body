{
  mockStatic(KerberosDescriptor.class);
  ResourceProvider resourceProvider=createStrictMock(ResourceProvider.class);
  expect(clusterController.ensureResourceProvider(Resource.Type.Artifact)).andReturn(resourceProvider).once();
  Resource resource=createStrictMock(Resource.class);
  Set<Resource> result=Collections.singleton(resource);
  Capture<Predicate> predicateCapture=new Capture<Predicate>();
  Capture<Request> requestCapture=new Capture<Request>();
  expect(resourceProvider.getResources(capture(requestCapture),capture(predicateCapture))).andReturn(result).once();
  String artifactData="kerberos descriptor json";
  expect(resource.getPropertyValue(ArtifactResourceProvider.ARTIFACT_DATA_PROPERTY)).andReturn(artifactData).once();
  expect(KerberosDescriptor.fromJSON(artifactData)).andReturn(kerberosDescriptor).once();
}
