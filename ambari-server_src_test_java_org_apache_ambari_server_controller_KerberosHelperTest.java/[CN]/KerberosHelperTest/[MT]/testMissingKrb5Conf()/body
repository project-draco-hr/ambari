{
  KerberosHelper kerberosHelper=injector.getInstance(KerberosHelper.class);
  final Map<String,String> kerberosEnvProperties=createNiceMock(Map.class);
  expect(kerberosEnvProperties.get("ldap_url")).andReturn("").once();
  expect(kerberosEnvProperties.get("container_dn")).andReturn("").once();
  final Config kerberosEnvConfig=createNiceMock(Config.class);
  expect(kerberosEnvConfig.getProperties()).andReturn(kerberosEnvProperties).once();
  final Cluster cluster=createNiceMock(Cluster.class);
  expect(cluster.getDesiredConfigByType("kerberos-env")).andReturn(kerberosEnvConfig).once();
  final KerberosDescriptor kerberosDescriptor=createNiceMock(KerberosDescriptor.class);
  replayAll();
  kerberosHelper.toggleKerberos(cluster,SecurityType.KERBEROS,kerberosDescriptor,null);
  verifyAll();
}
