{
  TestClassLoader parentClassLoader=createMock(TestClassLoader.class);
  Class parentClass=Object.class;
  expect(parentClassLoader.getPackage("org.apache.ambari.server.view")).andReturn(null).anyTimes();
  expect(parentClassLoader.loadClass("java.lang.Object")).andReturn(parentClass).anyTimes();
  expect(parentClassLoader.loadClass("ParentClass")).andReturn(parentClass).once();
  expect(parentClassLoader.loadClass("javax.xml.parsers.SAXParserFactory")).andReturn(parentClass).once();
  expect(parentClassLoader.loadClass("com.google.inject.AbstractModule")).andReturn(parentClass).once();
  replay(parentClassLoader);
  File file=new File("./target/test-classes");
  URL testURL=file.toURI().toURL();
  URL[] urls=new URL[]{testURL};
  ViewClassLoader classLoader=new ViewClassLoader(parentClassLoader,urls);
  Class clazz=classLoader.loadClass("org.apache.ambari.server.view.ViewClassLoaderTest");
  Assert.assertNotNull(clazz);
  clazz=classLoader.loadClass("ParentClass");
  Assert.assertNotNull(clazz);
  Assert.assertSame(parentClass,clazz);
  clazz=classLoader.loadClass("javax.xml.parsers.SAXParserFactory");
  Assert.assertNotNull(clazz);
  Assert.assertSame(parentClass,clazz);
  clazz=classLoader.loadClass("com.google.inject.AbstractModule");
  Assert.assertNotNull(clazz);
  Assert.assertSame(parentClass,clazz);
  verify(parentClassLoader);
}
