{
  Map<PropertyId,Object> properties=new HashMap<PropertyId,Object>();
  Map<String,Map<String,Object>> categories=resource.getPropertiesMap();
  for (  Map.Entry<String,Map<String,Object>> categoryEntry : categories.entrySet()) {
    for (    Map.Entry<String,Object> propertyEntry : categoryEntry.getValue().entrySet()) {
      properties.put(PropertyHelper.getPropertyId(propertyEntry.getKey(),categoryEntry.getKey()),propertyEntry.getValue());
    }
  }
  return properties;
}
