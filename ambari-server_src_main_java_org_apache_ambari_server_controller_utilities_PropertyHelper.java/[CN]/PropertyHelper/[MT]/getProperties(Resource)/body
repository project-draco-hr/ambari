{
  Map<PropertyId,String> properties=new HashMap<PropertyId,String>();
  Map<String,Map<String,String>> categories=resource.getCategories();
  for (  Map.Entry<String,Map<String,String>> categoryEntry : categories.entrySet()) {
    for (    Map.Entry<String,String> propertyEntry : categoryEntry.getValue().entrySet()) {
      properties.put(PropertyHelper.getPropertyId(propertyEntry.getKey(),categoryEntry.getKey()),propertyEntry.getValue());
    }
  }
  return properties;
}
