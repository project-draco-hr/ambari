def main(argv=None):
    scriptDir = os.path.realpath(os.path.dirname(argv[0]))
    onlyargs = argv[1:]
    if (len(onlyargs) < 3):
        sys.stderr.write('Usage: <comma separated hosts> <tmpdir for storage> <sshkeyFile> <agent setup script> <ambari-server name>\n')
        sys.exit(2)
        pass
    hostList = onlyargs[0].split(',')
    bootdir = onlyargs[1]
    sshKeyFile = onlyargs[2]
    setupAgentFile = onlyargs[3]
    ambariServer = onlyargs[4]
    stat = subprocess.Popen(['chmod', '600', sshKeyFile], stdout=subprocess.PIPE)
    logging.info(((((((((('BootStrapping hosts ' + pprint.pformat(hostList)) + 'using ') + scriptDir) + ' with sshKey File ') + sshKeyFile) + ' using tmp dir ') + bootdir) + ' ambari: ') + ambariServer))
    bootstrap = BootStrap(hostList, sshKeyFile, scriptDir, bootdir, setupAgentFile, ambariServer)
    ret = bootstrap.run()
    return 0
