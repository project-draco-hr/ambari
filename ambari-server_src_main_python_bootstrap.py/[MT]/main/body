def main(argv=None):
    scriptDir = os.path.realpath(os.path.dirname(argv[0]))
    onlyargs = argv[1:]
    if (len(onlyargs) < 3):
        sys.stderr.write('Usage: <comma separated hosts> <tmpdir for storage> <user> <sshkeyFile> <agent setup script> <ambari-server name> <cluster os type> <ambari version> <ambari port> <passwordFile>\n')
        sys.exit(2)
        pass
    hostList = onlyargs[0].split(',')
    bootdir = onlyargs[1]
    user = onlyargs[2]
    sshKeyFile = onlyargs[3]
    setupAgentFile = onlyargs[4]
    ambariServer = onlyargs[5]
    cluster_os_type = onlyargs[6]
    ambariVersion = onlyargs[7]
    server_port = onlyargs[8]
    passwordFile = onlyargs[9]
    stat = subprocess.Popen(['chmod', '600', sshKeyFile], stdout=subprocess.PIPE)
    if ((passwordFile != None) and (passwordFile != 'null')):
        stat = subprocess.Popen(['chmod', '600', passwordFile], stdout=subprocess.PIPE)
    logging.info(((((((((((((((((((('BootStrapping hosts ' + pprint.pformat(hostList)) + 'using ') + scriptDir) + ' cluster primary OS: ') + cluster_os_type) + " with user '") + user) + "' sshKey File ") + sshKeyFile) + ' password File ') + passwordFile) + ' using tmp dir ') + bootdir) + ' ambari: ') + ambariServer) + '; server_port: ') + server_port) + '; ambari version: ') + ambariVersion))
    bootstrap = BootStrap(hostList, user, sshKeyFile, scriptDir, bootdir, setupAgentFile, ambariServer, cluster_os_type, ambariVersion, server_port, passwordFile)
    ret = bootstrap.run()
    return 0
