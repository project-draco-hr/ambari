def runSetupAgent(self):
    logging.info('Running setup agent...')
    command = self.getRunSetupCommand()
    pssh = PSSH(self.successive_hostlist, self.user, self.sshkeyFile, command, self.bootdir)
    pssh.run()
    out = pssh.getstatus()
    failed_current = get_difference(self.successive_hostlist, skip_failed_hosts(out))
    self.successive_hostlist = skip_failed_hosts(out)
    failed = get_difference(self.hostlist, self.successive_hostlist)
    logging.info(((('Parallel ssh returns for setup agent. All failed hosts are: ' + str(failed)) + '. Failed on last step: ') + str(failed_current)))
    self.statuses = unite_statuses(self.statuses, out)
    if (not failed):
        retstatus = 0
    else:
        retstatus = 1
    pass
