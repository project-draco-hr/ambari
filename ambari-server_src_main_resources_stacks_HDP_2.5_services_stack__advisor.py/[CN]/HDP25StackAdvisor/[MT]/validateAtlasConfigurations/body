def validateAtlasConfigurations(self, properties, recommendedDefaults, configurations, services, hosts):
    application_properties = getSiteProperties(configurations, 'application-properties')
    validationItems = []
    if ((application_properties['atlas.graph.index.search.backend'] == 'solr5') and (not application_properties['atlas.graph.index.search.solr.zookeeper-url'])):
        validationItems.append({'config-name': 'atlas.graph.index.search.solr.zookeeper-url', 'item': self.getErrorItem('If LOGSEARCH is not installed then the SOLR zookeeper url configuration must be specified.'), })
    if (not application_properties['atlas.kafka.bootstrap.servers']):
        validationItems.append({'config-name': 'atlas.kafka.bootstrap.servers', 'item': self.getErrorItem('If KAFKA is not installed then the Kafka bootstrap servers configuration must be specified.'), })
    if (not application_properties['atlas.kafka.zookeeper.connect']):
        validationItems.append({'config-name': 'atlas.kafka.zookeeper.connect', 'item': self.getErrorItem('If KAFKA is not installed then the Kafka zookeeper quorum configuration must be specified.'), })
    if ((application_properties['atlas.graph.storage.backend'] == 'hbase') and ('hbase-site' in services['configurations'])):
        hbase_zookeeper_quorum = services['configurations']['hbase-site']['properties']['hbase.zookeeper.quorum']
        if (not application_properties['atlas.graph.storage.hostname']):
            validationItems.append({'config-name': 'atlas.graph.storage.hostname', 'item': self.getErrorItem('If HBASE is not installed then the hbase zookeeper quorum configuration must be specified.'), })
        elif (application_properties['atlas.graph.storage.hostname'] == hbase_zookeeper_quorum):
            validationItems.append({'config-name': 'atlas.graph.storage.hostname', 'item': self.getWarnItem('Atlas is configured to use the HBase installed in this cluster. If you would like Atlas to use another HBase instance, please configure this property and HBASE_CONF_DIR variable in atlas-env appropriately.'), })
        if (not application_properties['atlas.audit.hbase.zookeeper.quorum']):
            validationItems.append({'config-name': 'atlas.audit.hbase.zookeeper.quorum', 'item': self.getErrorItem('If HBASE is not installed then the audit hbase zookeeper quorum configuration must be specified.'), })
    validationProblems = self.toConfigurationValidationProblems(validationItems, 'application-properties')
    return validationProblems
