{
  histogramData.setName(level);
  Collection<VNameValue> levelCounts=new ArrayList<VNameValue>();
  histogramData.setDataCounts(levelCounts);
  boolean zeroFlag=true;
  if (jsonFacetResponse.get(level).toString().equals("{count=0}")) {
    if (counts != null) {
      for (      RangeFacet.Count date : counts) {
        VNameValue nameValue=new VNameValue();
        nameValue.setName(date.getValue());
        nameValue.setValue("0");
        levelCounts.add(nameValue);
      }
    }
    return false;
  }
  NamedList<Object> levelList=(NamedList<Object>)jsonFacetResponse.get(level);
  if (levelList != null && counts != null && levelList.size() > 1) {
    NamedList<Object> levelValues=(NamedList<Object>)levelList.getVal(1);
    if (levelValues != null) {
      ArrayList<Object> bucketList=(ArrayList<Object>)levelValues.get(BUCKETS);
      int i=0;
      for (      RangeFacet.Count date : counts) {
        SimpleOrderedMap<Object> valueCount=(SimpleOrderedMap<Object>)bucketList.get(i);
        if (valueCount != null) {
          Double count=(Double)valueCount.getVal(1);
          if (count != null && !count.equals(0D)) {
            zeroFlag=false;
          }
          String name=date.getValue();
          String value=count != null ? "" + count.longValue() : "0";
          VNameValue nameValue=new VNameValue(name,value);
          levelCounts.add(nameValue);
        }
        i++;
      }
    }
  }
  return zeroFlag;
}
