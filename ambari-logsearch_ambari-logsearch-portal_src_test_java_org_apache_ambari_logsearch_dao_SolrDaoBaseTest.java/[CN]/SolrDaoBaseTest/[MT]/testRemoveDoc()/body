{
  SolrClient mockSolrClient=EasyMock.strictMock(SolrClient.class);
  UpdateResponse updateResponse=new UpdateResponse();
  NamedList<Object> response=new NamedList<Object>();
  NamedList<Object> header=new NamedList<Object>();
  header.add("QTime",1);
  response.add("responseHeader",header);
  updateResponse.setResponse(response);
  EasyMock.expect(mockSolrClient.deleteByQuery(EasyMock.anyString())).andReturn(updateResponse);
  EasyMock.expect(mockSolrClient.commit()).andReturn(updateResponse);
  EasyMock.replay(mockSolrClient);
  dao.solrClient=mockSolrClient;
  dao.removeDoc("query");
  EasyMock.verify(mockSolrClient);
}
