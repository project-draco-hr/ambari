{
  Request request=createNiceMock(Request.class);
  ResourceInstance resource=createNiceMock(ResourceInstance.class);
  Exception e=new InvalidQueryException("test exception");
  expect(request.getResource()).andReturn(resource);
  expect(request.getQueryPredicate()).andThrow(e);
  replay(request,resource);
  Result result=new CreateHandler().handleRequest(request);
  assertEquals(ResultStatus.STATUS.BAD_REQUEST,result.getStatus().getStatus());
  assertTrue(result.getStatus().getMessage().contains(e.getMessage()));
  verify(request,resource);
}
