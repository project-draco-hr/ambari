{
  for (  Entry<String,Config> entry : configs.entrySet()) {
    ComponentConfigMappingEntity newEntity=new ComponentConfigMappingEntity();
    newEntity.setClusterId(desiredStateEntity.getClusterId());
    newEntity.setServiceName(desiredStateEntity.getServiceName());
    newEntity.setComponentName(desiredStateEntity.getComponentName());
    newEntity.setConfigType(entry.getKey());
    newEntity.setVersionTag(entry.getValue().getVersionTag());
    newEntity.setTimestamp(Long.valueOf(new java.util.Date().getTime()));
    if (!desiredStateEntity.getComponentConfigMappingEntities().contains(newEntity)) {
      newEntity.setServiceComponentDesiredStateEntity(desiredStateEntity);
      desiredStateEntity.getComponentConfigMappingEntities().add(newEntity);
    }
 else {
      for (      ComponentConfigMappingEntity entity : desiredStateEntity.getComponentConfigMappingEntities()) {
        if (entity.equals(newEntity)) {
          entity.setVersionTag(newEntity.getVersionTag());
          entity.setTimestamp(newEntity.getTimestamp());
        }
      }
    }
    this.desiredConfigs.put(entry.getKey(),entry.getValue().getVersionTag());
  }
}
