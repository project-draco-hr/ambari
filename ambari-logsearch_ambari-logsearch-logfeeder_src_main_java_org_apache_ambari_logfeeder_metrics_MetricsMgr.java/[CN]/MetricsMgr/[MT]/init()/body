{
  logger.info("Initializing MetricsMgr()");
  amsClient=new LogFeederAMSClient();
  if (amsClient.getCollectorUri(null) != null) {
    nodeHostName=LogFeederUtil.getStringProperty("node.hostname");
    if (nodeHostName == null) {
      try {
        nodeHostName=InetAddress.getLocalHost().getHostName();
      }
 catch (      Throwable e) {
        logger.warn("Error getting hostname using InetAddress.getLocalHost().getHostName()",e);
      }
      if (nodeHostName == null) {
        try {
          nodeHostName=InetAddress.getLocalHost().getCanonicalHostName();
        }
 catch (        Throwable e) {
          logger.warn("Error getting hostname using InetAddress.getLocalHost().getCanonicalHostName()",e);
        }
      }
    }
    if (nodeHostName == null) {
      isMetricsEnabled=false;
      logger.error("Failed getting hostname for node. Disabling publishing LogFeeder metrics");
    }
 else {
      isMetricsEnabled=true;
      logger.info("LogFeeder Metrics is enabled. Metrics host=" + amsClient.getCollectorUri(null));
    }
  }
 else {
    logger.info("LogFeeder Metrics publish is disabled");
  }
}
