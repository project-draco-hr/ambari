def getNetmask(self):
    primary_ip = self.getIpAddress().strip()
    interface_pattern = '(\\w+)(?:.*Link encap:)'
    if OSCheck.is_redhat7():
        interface_pattern = '(\\w+)(?:.*flags=)'
    for i in re.findall(interface_pattern, self.DATA_IFCONFIG_OUTPUT):
        if (primary_ip == self.get_ip_address_by_ifname(i.strip()).strip()):
            return socket.inet_ntoa(fcntl.ioctl(socket.socket(socket.AF_INET, socket.SOCK_DGRAM), 35099, struct.pack('256s', i))[20:24])
