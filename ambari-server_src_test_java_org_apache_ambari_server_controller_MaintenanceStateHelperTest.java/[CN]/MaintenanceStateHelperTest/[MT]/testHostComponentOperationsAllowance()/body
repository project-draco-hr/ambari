{
  Injector injector=createStrictMock(Injector.class);
  Method getEffectiveState=MaintenanceStateHelper.class.getMethod("getEffectiveState",new Class[]{ServiceComponentHost.class});
  MaintenanceStateHelper maintenanceStateHelper=createMockBuilder(MaintenanceStateHelper.class).withConstructor(injector).addMockedMethod(getEffectiveState).createNiceMock();
  ServiceComponentHost sch=createMock(ServiceComponentHost.class);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.ON);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE_AND_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.OFF);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.ON);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE_AND_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.OFF);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.ON);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE_AND_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.OFF);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.ON);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.IMPLIED_FROM_SERVICE_AND_HOST);
  expect(maintenanceStateHelper.getEffectiveState(anyObject(ServiceComponentHost.class))).andReturn(MaintenanceState.OFF);
  replay(maintenanceStateHelper,sch);
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Cluster,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Cluster,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Cluster,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Cluster,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.Cluster,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Service,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Service,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.Service,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Service,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.Service,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Host,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.Host,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Host,sch));
  Assert.assertEquals(false,maintenanceStateHelper.isOperationAllowed(Resource.Type.Host,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.Host,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.HostComponent,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.HostComponent,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.HostComponent,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.HostComponent,sch));
  Assert.assertEquals(true,maintenanceStateHelper.isOperationAllowed(Resource.Type.HostComponent,sch));
  verify(maintenanceStateHelper,sch);
}
