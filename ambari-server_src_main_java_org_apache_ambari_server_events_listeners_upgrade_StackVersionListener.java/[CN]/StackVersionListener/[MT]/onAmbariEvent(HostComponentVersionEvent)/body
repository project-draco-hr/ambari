{
  LOG.debug("Received event {}",event);
  Cluster cluster=event.getCluster();
  ServiceComponentHost sch=event.getServiceComponentHost();
  m_stackVersionLock.lock();
  try {
    RepositoryVersionEntity repoVersion=sch.recalculateHostVersionState();
    if (null != repoVersion) {
      cluster.recalculateClusterVersionState(repoVersion);
    }
  }
 catch (  Exception e) {
    LOG.error("Unable to propagate version for ServiceHostComponent on component: {}, host: {}. Error: {}",sch.getServiceComponentName(),sch.getHostName(),e.getMessage());
  }
 finally {
    m_stackVersionLock.unlock();
  }
}
