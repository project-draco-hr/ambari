def _get_single_version_from_hdp_select():
    '\n  Call "hdp-select versions" and return the version string if only one version is available.\n  :return: Returns a version string if successful, and None otherwise.\n  '
    tmpfile = tempfile.NamedTemporaryFile()
    tmp_dir = Script.get_tmp_dir()
    tmp_file = os.path.join(tmp_dir, 'copy_tarball_out.txt')
    hdp_version = None
    out = None
    get_hdp_versions_cmd = '/usr/bin/hdp-select versions > {0}'.format(tmp_file)
    try:
        try:
            (code, stdoutdata) = shell.call(get_hdp_versions_cmd, logoutput=True)
            with open(tmp_file, 'r+') as file:
                out = file.read()
        except:
            pass
    finally:
        try:
            if os.path.exists(tmp_file):
                os.remove(tmp_file)
        except:
            pass
    if ((code != 0) or (out is None) or (out == '')):
        Logger.error("Could not verify HDP version by calling '{0}'. Return Code: {1}, Output: {2}.".format(get_hdp_versions_cmd, str(code), str(out)))
        return None
    matches = re.findall('([\\d\\.]+\\-\\d+)', out)
    if (matches and (len(matches) == 1)):
        hdp_version = matches[0]
    elif (matches and (len(matches) > 1)):
        Logger.error('Found multiple matches for HDP version, cannot identify the correct one from: {0}'.format(', '.join(matches)))
    return hdp_version
