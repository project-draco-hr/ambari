{
  ServiceComponentHostImpl impl=createNewServiceComponentHost(1,"svc","svcComp","h1",true);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_INSTALL,DeployState.INIT,DeployState.INSTALLING,DeployState.INSTALL_FAILED,DeployState.INSTALLED);
  boolean exceptionThrown=false;
  try {
    runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_START,DeployState.INSTALLED,DeployState.STARTING,DeployState.START_FAILED,DeployState.STARTED);
  }
 catch (  Exception e) {
    exceptionThrown=true;
  }
  Assert.assertTrue("Exception not thrown on invalid event",exceptionThrown);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_UNINSTALL,DeployState.INSTALLED,DeployState.UNINSTALLING,DeployState.UNINSTALL_FAILED,DeployState.UNINSTALLED);
  runStateChanges(impl,ServiceComponentHostEventType.HOST_SVCCOMP_WIPEOUT,DeployState.UNINSTALLED,DeployState.WIPING_OUT,DeployState.WIPEOUT_FAILED,DeployState.INIT);
}
