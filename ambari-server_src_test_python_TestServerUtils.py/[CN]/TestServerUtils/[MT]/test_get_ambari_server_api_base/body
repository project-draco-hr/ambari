def test_get_ambari_server_api_base(self):
    properties = FakeProperties({SSL_API: 'false', CLIENT_API_PORT_PROPERTY: None, })
    result = get_ambari_server_api_base(properties)
    self.assertEquals(result, 'http://127.0.0.1:8080/api/v1/')
    properties = FakeProperties({SSL_API: 'false', CLIENT_API_PORT_PROPERTY: '8033', })
    result = get_ambari_server_api_base(properties)
    self.assertEquals(result, 'http://127.0.0.1:8033/api/v1/')
    properties = FakeProperties({SSL_API: 'true', SSL_API_PORT: '8443', CLIENT_API_PORT_PROPERTY: None, })
    result = get_ambari_server_api_base(properties)
    self.assertEquals(result, 'https://127.0.0.1:8443/api/v1/')
