def config(self, env):
    import params
    ganglia.groups_and_users()
    ganglia.config()
    if params.has_namenodes:
        generate_daemon('gmond', name='HDPNameNode', role='server', owner='root', group=params.user_group)
    if params.has_jobtracker:
        generate_daemon('gmond', name='HDPJobTracker', role='server', owner='root', group=params.user_group)
    if params.has_hbase_masters:
        generate_daemon('gmond', name='HDPHBaseMaster', role='server', owner='root', group=params.user_group)
    if params.has_resourcemanager:
        generate_daemon('gmond', name='HDPResourceManager', role='server', owner='root', group=params.user_group)
    if params.has_histroryserver:
        generate_daemon('gmond', name='HDPHistoryServer', role='server', owner='root', group=params.user_group)
    generate_daemon('gmond', name='HDPSlaves', role='server', owner='root', group=params.user_group)
    generate_daemon('gmond', name='gmetad', role='server', owner='root', group=params.user_group)
    change_permission()
    server_files()
    File(path.join(params.ganglia_dir, 'gmetad.conf'), owner='root', group=params.user_group)
