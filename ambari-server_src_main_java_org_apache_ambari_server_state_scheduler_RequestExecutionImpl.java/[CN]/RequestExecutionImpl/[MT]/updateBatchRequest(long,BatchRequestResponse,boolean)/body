{
  long executionId=requestScheduleEntity.getScheduleId();
  RequestScheduleBatchRequestEntityPK batchRequestEntityPK=new RequestScheduleBatchRequestEntityPK();
  batchRequestEntityPK.setScheduleId(executionId);
  batchRequestEntityPK.setBatchId(batchId);
  RequestScheduleBatchRequestEntity batchRequestEntity=batchRequestDAO.findByPk(batchRequestEntityPK);
  batchRequestEntity.setRequestStatus(batchRequestResponse.getStatus());
  if (!statusOnly) {
    batchRequestEntity.setReturnCode(batchRequestResponse.getReturnCode());
    batchRequestEntity.setRequestId(batchRequestResponse.getRequestId());
    batchRequestEntity.setReturnMessage(batchRequestResponse.getReturnMessage());
  }
  batchRequestDAO.merge(batchRequestEntity);
  BatchRequest batchRequest=getBatchRequest(batchId);
  batchRequest.setStatus(batchRequestResponse.getStatus());
  if (!statusOnly) {
    batchRequest.setReturnCode(batchRequestResponse.getReturnCode());
    batchRequest.setResponseMsg(batchRequestResponse.getReturnMessage());
  }
  setLastExecutionStatus(batchRequestResponse.getStatus());
}
