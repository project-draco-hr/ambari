{
  final long currentTimeMillis=System.currentTimeMillis();
  final Snapshot snapshot=timer.getSnapshot();
  final String sanitizedName=sanitizeName(name);
  final String timerMinName=sanitizedName + MIN_SUFIX;
  final TimelineMetric minMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerMinName,timer.min());
  final String timerMaxName=sanitizedName + MAX_SUFIX;
  final TimelineMetric maxMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerMaxName,timer.max());
  final String timerMeanName=sanitizedName + MEAN_SUFIX;
  final TimelineMetric meanMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerMeanName,timer.mean());
  final String timerMedianName=sanitizedName + MEDIAN_SUFIX;
  final TimelineMetric medianMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerMedianName,snapshot.getMedian());
  final String timerStdDevName=sanitizedName + STD_DEV_SUFIX;
  final TimelineMetric stdDevMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerStdDevName,timer.stdDev());
  final String timerSeventyFifthPercentileName=sanitizedName + SEVENTY_FIFTH_PERCENTILE_SUFIX;
  final TimelineMetric seventyFifthPercentileMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerSeventyFifthPercentileName,snapshot.get75thPercentile());
  final String timerNinetyFifthPercentileName=sanitizedName + NINETY_FIFTH_PERCENTILE_SUFIX;
  final TimelineMetric nintyFifthPercentileMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerNinetyFifthPercentileName,snapshot.get95thPercentile());
  final String timerNinetyEighthPercentileName=sanitizedName + NINETY_EIGHTH_PERCENTILE_SUFIX;
  final TimelineMetric nintyEighthPercentileMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerNinetyEighthPercentileName,snapshot.get98thPercentile());
  final String timerNinetyNinthPercentileName=sanitizedName + NINETY_NINTH_PERCENTILE_SUFIX;
  final TimelineMetric nintyNinthPercentileMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerNinetyNinthPercentileName,snapshot.get99thPercentile());
  final String timerNinetyNinePointNinePercentileName=sanitizedName + NINETY_NINE_POINT_NINE_PERCENTILE_SUFIX;
  final TimelineMetric nintyNinthPointNinePercentileMetric=createTimelineMetric(currentTimeMillis,APP_ID,timerNinetyNinePointNinePercentileName,snapshot.get999thPercentile());
  metricsCache.putTimelineMetric(minMetric);
  metricsCache.putTimelineMetric(maxMetric);
  metricsCache.putTimelineMetric(meanMetric);
  metricsCache.putTimelineMetric(medianMetric);
  metricsCache.putTimelineMetric(stdDevMetric);
  metricsCache.putTimelineMetric(seventyFifthPercentileMetric);
  metricsCache.putTimelineMetric(nintyFifthPercentileMetric);
  metricsCache.putTimelineMetric(nintyEighthPercentileMetric);
  metricsCache.putTimelineMetric(nintyNinthPercentileMetric);
  metricsCache.putTimelineMetric(nintyNinthPointNinePercentileMetric);
  String[] metricNames=new String[]{timerMaxName,timerMeanName,timerMedianName,timerMinName,timerNinetyEighthPercentileName,timerNinetyFifthPercentileName,timerNinetyNinePointNinePercentileName,timerNinetyNinthPercentileName,timerSeventyFifthPercentileName,timerStdDevName};
  populateMetricsList(context,metricNames);
}
