{
  if (file.exists()) {
    if (!file.setReadable(false,false) || !file.setReadable(true,true)) {
      LOG.warn(String.format("Failed to set %s readable only by Ambari",file.getAbsolutePath()));
    }
    if (!file.setWritable(false,false) || !file.setWritable(true,true)) {
      LOG.warn(String.format("Failed to set %s writable only by Ambari",file.getAbsolutePath()));
    }
    if (file.isDirectory()) {
      if (!file.setExecutable(false,false) && !file.setExecutable(true,true)) {
        LOG.warn(String.format("Failed to set %s executable by Ambari",file.getAbsolutePath()));
      }
    }
 else {
      if (!file.setExecutable(false,false)) {
        LOG.warn(String.format("Failed to set %s not executable",file.getAbsolutePath()));
      }
    }
  }
}
