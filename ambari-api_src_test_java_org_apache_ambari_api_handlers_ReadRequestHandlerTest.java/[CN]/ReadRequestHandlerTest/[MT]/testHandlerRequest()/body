{
  Request request=createStrictMock(Request.class);
  ResourceDefinition resourceDefinition=createStrictMock(ResourceDefinition.class);
  Query query=createStrictMock(Query.class);
  Result result=createStrictMock(Result.class);
  expect(request.getResource()).andReturn(resourceDefinition);
  expect(resourceDefinition.getQuery()).andReturn(query);
  expect(query.execute()).andReturn(result);
  replay(request,resourceDefinition,query,result);
  ReadRequestHandler handler=new ReadRequestHandler();
  assertSame(result,handler.handleRequest(request));
  verify(request,resourceDefinition,query,result);
}
