{
  if (type.isInternalType()) {
switch (type.getInternalType()) {
case Host:
      if (metricsService.equals(TIMELINE_METRICS)) {
        return new AMSHostPropertyProvider(componentPropertyInfoMap,streamProvider,configuration,hostProvider,clusterNamePropertyId,hostNamePropertyId);
      }
 else {
        return new GangliaHostPropertyProvider(componentPropertyInfoMap,streamProvider,configuration,hostProvider,clusterNamePropertyId,hostNamePropertyId);
      }
case HostComponent:
    if (metricsService.equals(TIMELINE_METRICS)) {
      return new AMSHostComponentPropertyProvider(componentPropertyInfoMap,streamProvider,configuration,hostProvider,clusterNamePropertyId,hostNamePropertyId,componentNamePropertyId);
    }
 else {
      return new GangliaHostComponentPropertyProvider(componentPropertyInfoMap,streamProvider,configuration,hostProvider,clusterNamePropertyId,hostNamePropertyId,componentNamePropertyId);
    }
case Component:
  if (metricsService.equals(TIMELINE_METRICS)) {
    return new AMSComponentPropertyProvider(componentPropertyInfoMap,streamProvider,configuration,hostProvider,clusterNamePropertyId,componentNamePropertyId);
  }
 else {
    return new GangliaComponentPropertyProvider(componentPropertyInfoMap,streamProvider,configuration,hostProvider,clusterNamePropertyId,componentNamePropertyId);
  }
default :
break;
}
}
return null;
}
