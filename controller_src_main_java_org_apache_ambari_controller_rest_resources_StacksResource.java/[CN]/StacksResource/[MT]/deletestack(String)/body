{
  try {
    if (clusters.isStackUsed(stackName)) {
      throw new WebApplicationException(new ExceptionResponse(stackName + " is still used by one or more clusters.",Response.Status.BAD_REQUEST).get());
    }
    stacks.deleteStack(stackName);
    return Response.ok().build();
  }
 catch (  WebApplicationException we) {
    throw we;
  }
catch (  Exception e) {
    throw new WebApplicationException((new ExceptionResponse(e)).get());
  }
}
