{
  CommandReport commandReport=null;
  if (record != null) {
    String principal=record.get(KerberosIdentityDataFileReader.PRINCIPAL);
    String host=record.get(KerberosIdentityDataFileReader.HOSTNAME);
    if (principal != null) {
      String evaluatedPrincipal=principal.replace("_HOST",host).replace("_REALM",defaultRealm);
      commandReport=processIdentity(record,evaluatedPrincipal,operationHandler,kerberosConfiguration,requestSharedDataContext);
    }
  }
  return commandReport;
}
