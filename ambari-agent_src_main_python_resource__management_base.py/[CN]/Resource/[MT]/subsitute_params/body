@staticmethod
def subsitute_params(val):
    env = Environment.get_instance()
    if (env.config.params and isinstance(val, str)):
        try:
            result = Template(val).substitute(env.config.params)
            if ('$' in val):
                Resource.log.debug('%s after substitution is %s', val, result)
            return result
        except KeyError as ex:
            key_name = ('$' + str(ex).strip("'"))
            raise Fail(('Configuration %s not found' % key_name))
    return val
