{
  if (!isOpen()) {
    throw new KerberosOperationException("This operation handler has not be opened");
  }
  if (principal == null) {
    return false;
  }
 else {
    String query=String.format("get_principal %s",principal);
    ShellCommandUtil.Result result;
    try {
      result=invokeKAdmin(query);
    }
 catch (    KerberosOperationException e) {
      LOG.error(String.format("Failed to query for principal %s",principal),e);
      throw e;
    }
    String stdOut=result.getStdout();
    return (stdOut != null) && stdOut.contains(String.format("Principal: %s",principal));
  }
}
