{
  UpgradeCatalog240 upgradeCatalog240=new UpgradeCatalog240(injector);
  String inputSource="{ \"path\" : \"test_path\", \"type\" : \"SCRIPT\"}";
  List<String> params=Arrays.asList("connection.timeout","checkpoint.time.warning.threshold","checkpoint.time.critical.threshold");
  String expectedSource="{\"path\":\"test_path\",\"type\":\"SCRIPT\",\"parameters\":[{\"name\":\"connection.timeout\",\"display_name\":\"Connection Timeout\",\"value\":5.0,\"type\":\"NUMERIC\",\"description\":\"The maximum time before this alert is considered to be CRITICAL\",\"units\":\"seconds\",\"threshold\":\"CRITICAL\"},{\"name\":\"checkpoint.time.warning.threshold\",\"display_name\":\"Checkpoint Warning\",\"value\":2.0,\"type\":\"PERCENT\",\"description\":\"The percentage of the last checkpoint time greater than the interval in order to trigger a warning alert.\",\"units\":\"%\",\"threshold\":\"WARNING\"},{\"name\":\"checkpoint.time.critical.threshold\",\"display_name\":\"Checkpoint Critical\",\"value\":4.0,\"type\":\"PERCENT\",\"description\":\"The percentage of the last checkpoint time greater than the interval in order to trigger a critical alert.\",\"units\":\"%\",\"threshold\":\"CRITICAL\"}]}";
  String result=upgradeCatalog240.addParam(inputSource,params);
  Assert.assertEquals(result,expectedSource);
}
