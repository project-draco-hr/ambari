@patch.object(RecoveryManager, 'update_desired_status')
def test_process_commands(self, mock_uds):
    rm = RecoveryManager(tempfile.mktemp(), True)
    rm.process_status_commands(None)
    self.assertFalse(mock_uds.called)
    rm.process_status_commands([])
    self.assertFalse(mock_uds.called)
    rm.process_status_commands([self.command])
    mock_uds.assert_has_calls([call('NODEMANAGER', 'STARTED')])
    mock_uds.reset_mock()
    rm.process_status_commands([self.command, self.exec_command1, self.command])
    mock_uds.assert_has_calls([call('NODEMANAGER', 'STARTED')], [call('NODEMANAGER', 'STARTED')])
    mock_uds.reset_mock()
    rm.process_execution_commands([self.exec_command1, self.exec_command2, self.exec_command3])
    mock_uds.assert_has_calls([call('NODEMANAGER', 'INSTALLED')], [call('NODEMANAGER', 'STARTED')])
    mock_uds.reset_mock()
    rm.process_execution_commands([self.exec_command1, self.command])
    mock_uds.assert_has_calls([call('NODEMANAGER', 'INSTALLED')])
    rm.process_execution_commands([self.exec_command4])
    mock_uds.assert_has_calls([call('NODEMANAGER', 'STARTED')])
    pass
