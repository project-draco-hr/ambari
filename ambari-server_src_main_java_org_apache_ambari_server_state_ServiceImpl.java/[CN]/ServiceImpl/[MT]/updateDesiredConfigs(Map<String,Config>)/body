{
  for (  Entry<String,Config> entry : configs.entrySet()) {
    ServiceConfigMappingEntity newEntity=new ServiceConfigMappingEntity();
    newEntity.setClusterId(serviceEntity.getClusterId());
    newEntity.setConfigType(entry.getKey());
    newEntity.setServiceName(getName());
    newEntity.setVersionTag(entry.getValue().getVersionTag());
    newEntity.setTimestamp(Long.valueOf(new java.util.Date().getTime()));
    if (!serviceEntity.getServiceConfigMappings().contains(newEntity)) {
      newEntity.setServiceConfigEntity(serviceEntity);
      serviceEntity.getServiceConfigMappings().add(newEntity);
    }
 else {
      for (      ServiceConfigMappingEntity entity : serviceEntity.getServiceConfigMappings()) {
        if (entity.equals(newEntity)) {
          entity.setVersionTag(newEntity.getVersionTag());
          entity.setTimestamp(newEntity.getTimestamp());
        }
      }
    }
    this.desiredConfigs.put(entry.getKey(),entry.getValue().getVersionTag());
  }
}
