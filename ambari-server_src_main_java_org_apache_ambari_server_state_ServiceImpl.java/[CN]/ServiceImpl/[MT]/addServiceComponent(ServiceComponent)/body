{
  readWriteLock.writeLock().lock();
  try {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Adding a ServiceComponent to Service" + ", clusterName=" + cluster.getClusterName() + ", clusterId="+ cluster.getClusterId()+ ", serviceName="+ getName()+ ", serviceComponentName="+ component.getName());
    }
    if (components.containsKey(component.getName())) {
      throw new AmbariException("Cannot add duplicate ServiceComponent" + ", clusterName=" + cluster.getClusterName() + ", clusterId="+ cluster.getClusterId()+ ", serviceName="+ getName()+ ", serviceComponentName="+ component.getName());
    }
    this.components.put(component.getName(),component);
  }
  finally {
    readWriteLock.writeLock().unlock();
  }
}
