{
  JsonObject resourcesObj=new JsonObject();
  resourcesObj.addProperty("schema","http://example.org/specification/v2.0.0");
  resourcesObj.add("metadata",new JsonObject());
  resourcesObj.add("global",new JsonObject());
  JsonObject componentsObj=new JsonObject();
  if (componentsArray != null) {
    for (int i=0; i < componentsArray.size(); i++) {
      JsonObject inputComponent=componentsArray.get(i).getAsJsonObject();
      if (inputComponent.has("id")) {
        JsonObject componentValue=new JsonObject();
        componentValue.addProperty("yarn.role.priority",inputComponent.get("priority").getAsString());
        componentValue.addProperty("yarn.component.instances",inputComponent.get("instanceCount").getAsString());
        componentsObj.add(inputComponent.get("id").getAsString(),componentValue);
      }
    }
  }
  resourcesObj.add("components",componentsObj);
  String jsonString=new Gson().toJson(resourcesObj);
  FileOutputStream fos=null;
  try {
    fos=new FileOutputStream(resourcesJsonFile);
    IOUtils.write(jsonString,fos);
  }
  finally {
    if (fos != null) {
      fos.close();
    }
  }
}
