{
  int targetCount=dao.findAllTargets().size();
  AlertGroupEntity group=helper.createAlertGroup(clusterId,null);
  AlertTargetEntity target=helper.createAlertTarget();
  assertEquals(targetCount + 1,dao.findAllTargets().size());
  Set<AlertTargetEntity> targets=new HashSet<AlertTargetEntity>();
  targets.add(target);
  group=dao.findGroupById(group.getGroupId());
  assertNotNull(group);
  assertNotNull(group.getAlertTargets());
  assertEquals(0,group.getAlertTargets().size());
  group.setAlertTargets(targets);
  dao.merge(group);
  group=dao.findGroupById(group.getGroupId());
  assertNotNull(group);
  assertNotNull(group.getAlertTargets());
  assertEquals(1,group.getAlertTargets().size());
  dao.remove(group);
  group=dao.findGroupById(group.getGroupId());
  assertNull(group);
  target=dao.findTargetById(target.getTargetId());
  assertNotNull(target);
  assertEquals(targetCount + 1,dao.findAllTargets().size());
}
