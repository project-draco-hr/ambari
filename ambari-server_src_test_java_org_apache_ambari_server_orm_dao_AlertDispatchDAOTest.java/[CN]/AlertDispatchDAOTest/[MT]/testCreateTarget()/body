{
  int targetCount=dao.findAllTargets().size();
  AlertTargetEntity target=helper.createAlertTarget();
  Set<AlertTargetEntity> targets=new HashSet<AlertTargetEntity>();
  targets.add(target);
  AlertGroupEntity group=helper.createAlertGroup(clusterId,targets);
  AlertTargetEntity actual=dao.findTargetById(target.getTargetId());
  assertNotNull(actual);
  assertEquals(target.getTargetName(),actual.getTargetName());
  assertEquals(target.getDescription(),actual.getDescription());
  assertEquals(target.getNotificationType(),actual.getNotificationType());
  assertEquals(target.getProperties(),actual.getProperties());
  assertNotNull(actual.getAlertGroups());
  Iterator<AlertGroupEntity> iterator=actual.getAlertGroups().iterator();
  AlertGroupEntity actualGroup=iterator.next();
  assertEquals(group,actualGroup);
  assertEquals(targetCount + 1,dao.findAllTargets().size());
}
