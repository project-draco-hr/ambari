{
  AlertTargetEntity target=helper.createAlertTarget();
  Set<AlertTargetEntity> targets=new HashSet<AlertTargetEntity>();
  targets.add(target);
  String groupName="Group Name " + System.currentTimeMillis();
  AlertGroupEntity group=helper.createAlertGroup(clusterId,null);
  group=dao.findGroupById(group.getGroupId());
  group.setGroupName(groupName + "FOO");
  group.setDefault(true);
  dao.merge(group);
  group=dao.findGroupById(group.getGroupId());
  assertEquals(groupName + "FOO",group.getGroupName());
  assertEquals(true,group.isDefault());
  assertEquals(0,group.getAlertDefinitions().size());
  assertEquals(0,group.getAlertTargets().size());
  group.addAlertTarget(target);
  dao.merge(group);
  group=dao.findGroupById(group.getGroupId());
  assertEquals(targets,group.getAlertTargets());
}
