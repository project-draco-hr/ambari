{
  AlertTargetEntity target=helper.createAlertTarget();
  Set<AlertTargetEntity> targets=new HashSet<AlertTargetEntity>();
  targets.add(target);
  AlertGroupEntity group=helper.createAlertGroup(clusterId,targets);
  assertEquals(1,group.getAlertTargets().size());
  target=dao.findTargetById(target.getTargetId());
  dao.refresh(target);
  assertNotNull(target);
  assertEquals(1,target.getAlertGroups().size());
  dao.remove(target);
  target=dao.findTargetById(target.getTargetId());
  assertNull(target);
  group=dao.findGroupById(group.getGroupId());
  assertNotNull(group);
  assertEquals(0,group.getAlertTargets().size());
}
