@lazy_property
def lsb(self):
    if os.path.exists('/etc/lsb-release'):
        with open('/etc/lsb-release', 'rb') as fp:
            lsb = (x.split('=') for x in fp.read().strip().split('\n'))
        return dict(((k.split('_', 1)[(-1)].lower(), self.unquote(v)) for (k, v) in lsb))
    elif os.path.exists('/usr/bin/lsb_release'):
        p = Popen(['/usr/bin/lsb_release', '-a'], stdout=PIPE, stderr=PIPE)
        lsb = {}
        for l in p.communicate()[0].split('\n'):
            v = l.split(':', 1)
            if (len(v) != 2):
                continue
            lsb[v[0].strip().lower()] = self.unquote(v[1].strip().lower())
        lsb['id'] = lsb.pop('distributor id')
        return lsb
