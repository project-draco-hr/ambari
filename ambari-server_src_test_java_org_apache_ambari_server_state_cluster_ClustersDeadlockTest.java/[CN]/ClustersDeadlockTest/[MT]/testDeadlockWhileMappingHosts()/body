{
  List<Thread> threads=new ArrayList<Thread>();
  for (int i=0; i < NUMBER_OF_THREADS; i++) {
    ClusterReaderThread readerThread=new ClusterReaderThread();
    ClustersHostMapperThread writerThread=new ClustersHostMapperThread();
    threads.add(readerThread);
    threads.add(writerThread);
    readerThread.start();
    writerThread.start();
  }
  for (  Thread thread : threads) {
    thread.join();
  }
  Assert.assertEquals(NUMBER_OF_THREADS * NUMBER_OF_HOSTS,clusters.getHostsForCluster(CLUSTER_NAME).size());
}
