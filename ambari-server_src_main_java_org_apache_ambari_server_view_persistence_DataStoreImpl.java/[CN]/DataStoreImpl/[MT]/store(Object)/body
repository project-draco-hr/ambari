{
  checkInitialize();
  EntityManager em=getEntityManager();
  try {
    em.getTransaction().begin();
    try {
      persistEntity(entity,em,new HashSet<DynamicEntity>());
      em.getTransaction().commit();
    }
 catch (    Exception e) {
      rollbackTransaction(em.getTransaction());
      throwPersistenceException("Caught exception trying to store view entity " + entity,e);
    }
  }
  finally {
    em.close();
  }
}
