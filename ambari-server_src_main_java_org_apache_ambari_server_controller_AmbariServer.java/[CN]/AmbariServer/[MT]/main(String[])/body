{
  Injector injector=Guice.createInjector(new ControllerModule());
  try {
    LOG.info("Getting the controller");
    injector.getInstance(GuiceJpaInitializer.class);
    AmbariServer server=injector.getInstance(AmbariServer.class);
    CertificateManager certMan=injector.getInstance(CertificateManager.class);
    certMan.initRootCert();
    if (server != null) {
      server.run();
    }
  }
 catch (  Throwable t) {
    LOG.error("Failed to run the Ambari Server",t);
  }
}
