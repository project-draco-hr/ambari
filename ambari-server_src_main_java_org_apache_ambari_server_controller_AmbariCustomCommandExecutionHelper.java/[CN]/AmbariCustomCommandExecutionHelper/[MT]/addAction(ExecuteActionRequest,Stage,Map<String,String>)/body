{
  if (actionRequest.getCommandName().contains("SERVICE_CHECK")) {
    findHostAndAddServiceCheckAction(actionRequest,stage,hostLevelParams);
  }
 else   if (actionRequest.getCommandName().equals("DECOMMISSION")) {
    addDecommissionAction(actionRequest,stage,hostLevelParams);
  }
 else   if (isValidCustomCommand(actionRequest)) {
    String commandDetail=getReadableCustomCommandDetail(actionRequest);
    addCustomCommandAction(actionRequest,stage,hostLevelParams,null,commandDetail);
  }
 else {
    throw new AmbariException("Unsupported action " + actionRequest.getCommandName());
  }
}
