def runCommand(self, command, tmpoutfile, tmperrfile):
    java64_home = str(command['configurations']['global']['java64_home']).strip()
    if ((command['roleCommand'] != 'INSTALL') and (not self.isJavaAvailable(java64_home))):
        errMsg = JAVANOTVALID_MSG.format(java64_home)
        return {'stdout': '', 'stderr': errMsg, 'exitcode': 1, }
    taskId = 0
    if command.has_key('taskId'):
        taskId = command['taskId']
    siteppFileName = os.path.join(self.tmpDir, (('site-' + str(taskId)) + '.pp'))
    generateManifest(command, siteppFileName, self.modulesdir, self.config)
    result = self.run_manifest(command, siteppFileName, tmpoutfile, tmperrfile)
    return result
