def runCommand(self, command, tmpoutfile, tmperrfile):
    if (command['roleCommand'] != 'INSTALL'):
        java64_home = None
        if (('hostLevelParams' in command) and ('java_home' in command['hostLevelParams'])):
            java64_home = str(command['hostLevelParams']['java_home']).strip()
        if ((java64_home is None) or (not self.isJavaAvailable(java64_home))):
            if (java64_home is None):
                errMsg = 'Cannot access JDK! Make sure java_home is specified in hostLevelParams'
            else:
                errMsg = JAVANOTVALID_MSG.format(java64_home)
            return {'stdout': '', 'stderr': errMsg, 'exitcode': 1, }
        pass
    pass
    taskId = 0
    if command.has_key('taskId'):
        taskId = command['taskId']
    siteppFileName = os.path.join(self.tmpDir, (('site-' + str(taskId)) + '.pp'))
    errMsg = manifestGenerator.generateManifest(command, siteppFileName, self.modulesdir, self.config)
    if (not errMsg):
        result = self.run_manifest(command, siteppFileName, tmpoutfile, tmperrfile)
    else:
        result = {'stdout': '', 'stderr': errMsg, 'exitcode': 1, }
    return result
