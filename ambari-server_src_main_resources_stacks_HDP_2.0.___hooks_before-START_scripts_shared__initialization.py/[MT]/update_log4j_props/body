def update_log4j_props(file):
    import params
    property_map = {'ambari.jobhistory.database': params.ambari_db_rca_url, 'ambari.jobhistory.driver': params.ambari_db_rca_driver, 'ambari.jobhistory.user': params.ambari_db_rca_username, 'ambari.jobhistory.password': params.ambari_db_rca_password, 'ambari.jobhistory.logger': 'DEBUG,JHA', 'log4j.appender.JHA': 'org.apache.ambari.log4j.hadoop.mapreduce.jobhistory.JobHistoryAppender', 'log4j.appender.JHA.database': '${ambari.jobhistory.database}', 'log4j.appender.JHA.driver': '${ambari.jobhistory.driver}', 'log4j.appender.JHA.user': '${ambari.jobhistory.user}', 'log4j.appender.JHA.password': '${ambari.jobhistory.password}', 'log4j.logger.org.apache.hadoop.mapred.JobHistory$JobHistoryLogger': '${ambari.jobhistory.logger}', 'log4j.additivity.org.apache.hadoop.mapred.JobHistory$JobHistoryLogger': 'true', }
    for key in property_map:
        value = property_map[key]
        Execute(format("sed -i 's~\\({rca_disabled_prefix}\\)\\?{key}=.*~{rca_prefix}{key}={value}~' {file}"))
