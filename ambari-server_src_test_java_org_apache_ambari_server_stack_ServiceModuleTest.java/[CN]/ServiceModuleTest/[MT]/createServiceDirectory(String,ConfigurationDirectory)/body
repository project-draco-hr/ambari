{
  ServiceDirectory serviceDirectory=createNiceMock(ServiceDirectory.class);
  expect(serviceDirectory.getConfigurationDirectory(dir)).andReturn(configDir).anyTimes();
  expect(serviceDirectory.getMetricsFile()).andReturn(new File("testMetricsFile")).anyTimes();
  expect(serviceDirectory.getAlertsFile()).andReturn(new File("testAlertsFile")).anyTimes();
  expect(serviceDirectory.getKerberosDescriptorFile()).andReturn(new File("testKerberosDescriptorFile")).anyTimes();
  expect(serviceDirectory.getPackageDir()).andReturn("packageDir").anyTimes();
  replay(serviceDirectory);
  return serviceDirectory;
}
