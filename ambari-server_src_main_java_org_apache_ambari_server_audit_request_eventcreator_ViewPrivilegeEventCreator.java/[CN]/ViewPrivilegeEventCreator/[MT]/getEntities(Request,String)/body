{
  Map<String,List<String>> entities=new HashMap<String,List<String>>();
  for (  Map<String,Object> propertyMap : request.getBody().getPropertySets()) {
    String ptype=String.valueOf(propertyMap.get(PropertyHelper.getPropertyId("PrivilegeInfo","principal_type")));
    if (type.equals(ptype)) {
      String role=String.valueOf(propertyMap.get(PropertyHelper.getPropertyId("PrivilegeInfo","permission_name")));
      String name=String.valueOf(propertyMap.get(PropertyHelper.getPropertyId("PrivilegeInfo","principal_name")));
      if (!entities.containsKey(role)) {
        entities.put(role,new LinkedList<String>());
      }
      entities.get(role).add(name);
    }
  }
  return entities;
}
