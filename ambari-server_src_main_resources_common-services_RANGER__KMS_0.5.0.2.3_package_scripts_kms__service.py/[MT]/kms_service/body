def kms_service(action='start'):
    import params
    if (action == 'start'):
        no_op_test = format('ps -ef | grep proc_rangerkms | grep -v grep')
        cmd = format('{kms_home}/ranger-kms-services.sh start')
        Execute(cmd, not_if=no_op_test)
    elif (action == 'stop'):
        ps_cmd = "ps -ef | grep proc_rangerkms | grep -v grep | awk '{print $2}'"
        (return_code, output) = shell.call(ps_cmd, timeout=20)
        pid = output.strip()
        cmd = format('kill -9 {pid}')
        Execute(cmd)
    elif (action == 'status'):
        cmd = 'ps -ef | grep proc_rangerkms | grep -v grep'
        (code, output) = shell.call(cmd, timeout=20)
        if (code != 0):
            Logger.debug('KMS process not running')
            raise ComponentIsNotRunning()
        pass
