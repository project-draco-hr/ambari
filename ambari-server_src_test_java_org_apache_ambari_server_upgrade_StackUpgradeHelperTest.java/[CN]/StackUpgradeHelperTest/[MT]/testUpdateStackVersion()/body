{
  System.out.println("updateStackVersion");
  String repoUrl="http://foo.bar";
  String fullUrl=repoUrl + "/repodata/repomd.xml";
  URL url=PowerMock.createMockAndExpectNew(URL.class,fullUrl);
  HttpURLConnection urlConnectionMock=PowerMock.createNiceMock(HttpURLConnection.class);
  expect(url.openConnection()).andReturn(urlConnectionMock);
  expect(urlConnectionMock.getResponseCode()).andThrow(new UnknownHostException(fullUrl));
  PowerMock.replayAll();
  Map<String,String> stackInfo=new HashMap<String,String>();
  stackInfo.put("repo_url",repoUrl);
  stackInfo.put("repo_url_os","centos6");
  stackInfo.put("HDP","1.3.0");
  StackUpgradeHelper instance=new StackUpgradeHelper();
  try {
    instance.updateStackVersion(stackInfo);
  }
 catch (  Exception ex) {
    assertEquals("UnknownHostException, Responce: 0, " + "during check URL: " + fullUrl,ex.getMessage());
  }
}
