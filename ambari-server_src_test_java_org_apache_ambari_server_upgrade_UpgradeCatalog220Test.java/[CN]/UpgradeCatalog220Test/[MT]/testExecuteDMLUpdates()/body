{
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  UpgradeCatalog220 upgradeCatalog=(UpgradeCatalog220)getUpgradeCatalog(dbAccessor);
  String updateQueryPattern;
  updateQueryPattern="UPDATE adminpermission SET permission_label='%s' WHERE permission_id=%d";
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"Administrator",PermissionEntity.AMBARI_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"Cluster User",PermissionEntity.CLUSTER_USER_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"Cluster Administrator",PermissionEntity.CLUSTER_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,"View User",PermissionEntity.VIEW_USER_PERMISSION))).andReturn(1).once();
  updateQueryPattern="UPDATE adminpermission SET permission_name='%s' WHERE permission_id=%d";
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.AMBARI_ADMINISTRATOR_PERMISSION_NAME,PermissionEntity.AMBARI_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.CLUSTER_USER_PERMISSION_NAME,PermissionEntity.CLUSTER_USER_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.CLUSTER_ADMINISTRATOR_PERMISSION_NAME,PermissionEntity.CLUSTER_ADMINISTRATOR_PERMISSION))).andReturn(1).once();
  expect(dbAccessor.executeUpdate(String.format(updateQueryPattern,PermissionEntity.VIEW_USER_PERMISSION_NAME,PermissionEntity.VIEW_USER_PERMISSION))).andReturn(1).once();
  replay(dbAccessor);
  upgradeCatalog.executeDMLUpdates();
  verify(dbAccessor);
}
