def test_server_hostname(self):
    hostname.cached_server_hostname = None
    config = AmbariConfig()
    default_server_hostname = config.get('server', 'hostname')
    config.set('server', 'hostname', 'ambari-host')
    self.assertEquals('ambari-host', hostname.server_hostname(config), 'hostname should equal the socket-based hostname')
    config.set('server', 'hostname', default_server_hostname)
    pass
