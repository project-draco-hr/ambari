{
  try {
    getDispatchProperty(properties,BODY_OID_PROPERTY);
    getDispatchProperty(properties,SUBJECT_OID_PROPERTY);
    getDispatchProperty(properties,TRAP_OID_PROPERTY);
    getDispatchProperty(properties,PORT_PROPERTY);
    SnmpVersion snmpVersion=getSnmpVersion(properties);
switch (snmpVersion) {
case SNMPv3:
      getDispatchProperty(properties,SECURITY_USERNAME_PROPERTY);
    TrapSecurity securityLevel=getSecurityLevel(properties);
switch (securityLevel) {
case AUTH_PRIV:
    getDispatchProperty(properties,SECURITY_PRIV_PASSPHRASE_PROPERTY);
case AUTH_NOPRIV:
  getDispatchProperty(properties,SECURITY_AUTH_PASSPHRASE_PROPERTY);
}
break;
case SNMPv2c:
case SNMPv1:
getDispatchProperty(properties,COMMUNITY_PROPERTY);
}
}
 catch (InvalidSnmpConfigurationException ex) {
return ConfigValidationResult.invalid(ex.getMessage());
}
return ConfigValidationResult.valid();
}
