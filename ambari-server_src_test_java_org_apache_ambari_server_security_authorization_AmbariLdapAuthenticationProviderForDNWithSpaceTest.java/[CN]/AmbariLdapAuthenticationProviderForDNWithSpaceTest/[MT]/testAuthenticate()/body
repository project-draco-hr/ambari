{
  assertNull("User alread exists in DB",userDAO.findLdapUserByName("the allowedUser"));
  Authentication authentication=new UsernamePasswordAuthenticationToken("the allowedUser","password");
  Authentication result=authenticationProvider.authenticate(authentication);
  assertTrue(result.isAuthenticated());
  assertNotNull("User was not created",userDAO.findLdapUserByName("the allowedUser"));
  result=authenticationProvider.authenticate(authentication);
  assertTrue(result.isAuthenticated());
}
