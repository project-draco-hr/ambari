{
  if (!tableHasForeignKey(tableName,referenceTableName,keyColumn,referenceColumn)) {
    String query=dbmsHelper.getAddForeignKeyStatement(tableName,constraintName,Collections.singletonList(keyColumn),referenceTableName,Collections.singletonList(referenceColumn));
    try {
      executeQuery(query);
    }
 catch (    SQLException e) {
      LOG.warn("Add FK constraint failed" + ", constraintName = " + constraintName + ", tableName = "+ tableName+ ", errorCode = "+ e.getErrorCode()+ ", message = "+ e.getMessage());
      LOG.debug("Exception on add FK constraint.",e);
      if (!ignoreFailure) {
        throw e;
      }
    }
  }
}
