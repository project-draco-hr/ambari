{
  String dbUrl=configuration.getDatabaseUrl();
  if (null != dbUrl && !dbUrl.equals("")) {
    Matcher m=dbURLPattern.matcher(dbUrl.toLowerCase());
    if (m.find() && m.groupCount() == 1) {
      String type=m.group(1);
      if (type.contains(Configuration.POSTGRES_DB_NAME)) {
        return Configuration.POSTGRES_DB_NAME;
      }
 else       if (type.contains(Configuration.ORACLE_DB_NAME)) {
        return Configuration.ORACLE_DB_NAME;
      }
 else       if (type.contains(Configuration.MYSQL_DB_NAME)) {
        return Configuration.MYSQL_DB_NAME;
      }
 else       if (type.contains(Configuration.DERBY_DB_NAME)) {
        return Configuration.DERBY_DB_NAME;
      }
    }
  }
  throw new RuntimeException("Unable to determine database type.");
}
