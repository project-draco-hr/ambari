{
  TypedQuery<HostEntity> query=entityManagerProvider.get().createQuery("SELECT DISTINCT host FROM HostEntity host JOIN host.hostRoleCommandEntities command JOIN command.stage stage " + "WHERE stage=:stageEntity",HostEntity.class);
  query.setParameter("stageEntity",stageEntity);
  try {
    return query.getResultList();
  }
 catch (  NoResultException e) {
    return Collections.emptyList();
  }
}
