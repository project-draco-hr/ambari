{
  Map<Resource.Type,ResourceProvider> resourceProviders=new HashMap<Resource.Type,ResourceProvider>();
  ViewRegistry registry=ViewRegistry.getInstance();
  for (  ViewDefinition definition : registry.getDefinitions()) {
    for (    Resource.Type type : definition.getViewResourceTypes()) {
      ResourceProvider provider=definition.getResourceProvider(type);
      resourceProviders.put(type,provider);
    }
  }
  return new ViewProviderModule(module,resourceProviders);
}
