def assert_configure_secured(self):
    self.assertResourceCalled('Directory', '/var/log/zeppelin', owner='zeppelin', group='zeppelin', create_parents=True, mode=493, cd_access='a')
    self.assertResourceCalled('XmlConfig', 'zeppelin-site.xml', owner='zeppelin', group='zeppelin', conf_dir='/etc/zeppelin/conf', configurations=self.getConfig()['configurations']['zeppelin-config'])
    self.assertResourceCalled('File', '/etc/zeppelin/conf/zeppelin-env.sh', owner='zeppelin', content=InlineTemplate(self.getConfig()['configurations']['zeppelin-env']['zeppelin_env_content']), group='zeppelin')
    self.assertResourceCalled('File', '/etc/zeppelin/conf/shiro.ini', owner='zeppelin', content=InlineTemplate(self.getConfig()['configurations']['zeppelin-env']['shiro_ini_content']), group='zeppelin')
    self.assertResourceCalled('File', '/etc/zeppelin/conf/log4j.properties', owner='zeppelin', content='\nlog4j.rootLogger = INFO, dailyfile\nlog4j.appender.stdout = org.apache.log4j.ConsoleAppender\nlog4j.appender.stdout.layout = org.apache.log4j.PatternLayout\nlog4j.appender.stdout.layout.ConversionPattern=%5p [%d] ({%t} %F[%M]:%L) - %m%n\nlog4j.appender.dailyfile.DatePattern=.yyyy-MM-dd\nlog4j.appender.dailyfile.Threshold = INFO\nlog4j.appender.dailyfile = org.apache.log4j.DailyRollingFileAppender\nlog4j.appender.dailyfile.File = ${zeppelin.log.file}\nlog4j.appender.dailyfile.layout = org.apache.log4j.PatternLayout\nlog4j.appender.dailyfile.layout.ConversionPattern=%5p [%d] ({%t} %F[%M]:%L) - %m%n', group='zeppelin')
    self.assertResourceCalled('File', '/etc/zeppelin/conf/hive-site.xml', owner='zeppelin', content=StaticFile('/etc/spark/conf/hive-site.xml'), group='zeppelin')
