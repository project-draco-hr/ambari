@patch('resource_management.libraries.script.Script.put_structured_out')
@patch('glob.glob')
@patch('sys.exit')
def test_status_with_result(self, sys_exit_mock, glob_mock, structured_out_mock):
    glob_mock.return_value = ['/etc/flume/conf/a1/ambari-meta.json']
    try:
        self.executeScript('2.0.6/services/FLUME/package/scripts/flume_handler.py', classname='FlumeHandler', command='status', config_file='default.json')
    except:
        pass
    self.assertTrue(structured_out_mock.called)
    structured_out_mock.assert_called_with({'processes': [{'status': 'NOT_RUNNING', 'channels_count': 0, 'sinks_count': 0, 'name': 'a1', 'sources_count': 0, }], })
    self.assertNoMoreResources()
