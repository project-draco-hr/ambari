@patch('resource_management.libraries.script.Script.put_structured_out')
@patch('glob.glob')
def test_status_with_result(self, glob_mock, structured_out_mock):
    glob_mock.return_value = ['/var/run/flume/a1.pid']
    self.executeScript('2.0.6/services/FLUME/package/scripts/flume_handler.py', classname='FlumeHandler', command='status', config_file='default.json')
    self.assertTrue(structured_out_mock.called)
    structured_out_mock.assert_called_with({'processes': [{'status': 'NOT_RUNNING', 'channels_count': 0, 'sinks_count': 0, 'name': 'a1', 'sources_count': 0, }], })
    self.assertNoMoreResources()
