{
  HostVersionEntity hostVersionEntity1=new HostVersionEntity("test_host1","HDP","2.2.0.0-995",UpgradeState.NONE);
  hostVersionEntity1.setId(1L);
  HostVersionEntity hostVersionEntity2=new HostVersionEntity("test_host2","HDP","2.2.0.0-995",UpgradeState.NONE);
  hostVersionEntity2.setId(2L);
  HostVersionEntity hostVersionEntity3=new HostVersionEntity("test_host3","HDP","2.2.0.0-995",UpgradeState.NONE);
  hostVersionEntity3.setId(3L);
  Assert.assertEquals(hostVersionEntity1,hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","2.2.0.0-995","test_host1"));
  Assert.assertEquals(hostVersionEntity2,hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","2.2.0.0-995","test_host2"));
  Assert.assertEquals(hostVersionEntity3,hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","2.2.0.0-995","test_host3"));
  Assert.assertEquals(null,hostVersionDAO.findByClusterStackVersionAndHost("non_existent_cluster","HDP","2.2.0.0-995","test_host3"));
  Assert.assertEquals(null,hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","non_existent_stack","2.2.0.0-995","test_host3"));
  Assert.assertEquals(null,hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","non_existent_version","test_host3"));
  Assert.assertEquals(null,hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","non_existent_version","non_existent_host"));
  addMoreVersions();
  HostVersionEntity hostVersionEntity1LastExpected=new HostVersionEntity("test_host1","HDP","2.2.1.0-500",UpgradeState.PENDING);
  HostVersionEntity hostVersionEntity2LastExpected=new HostVersionEntity("test_host2","HDP","2.2.1.0-500",UpgradeState.IN_PROGRESS);
  HostVersionEntity hostVersionEntity3LastExpected=new HostVersionEntity("test_host3","HDP","2.2.1.0-500",UpgradeState.FAILED);
  HostVersionEntity hostVersionEntity1LastActual=hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","2.2.1.0-500","test_host1");
  HostVersionEntity hostVersionEntity2LastActual=hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","2.2.1.0-500","test_host2");
  HostVersionEntity hostVersionEntity3LastActual=hostVersionDAO.findByClusterStackVersionAndHost("test_cluster1","HDP","2.2.1.0-500","test_host3");
  Assert.assertEquals(hostVersionEntity1LastExpected,new HostVersionEntity(hostVersionEntity1LastActual));
  Assert.assertEquals(hostVersionEntity2LastExpected,new HostVersionEntity(hostVersionEntity2LastActual));
  Assert.assertEquals(hostVersionEntity3LastExpected,new HostVersionEntity(hostVersionEntity3LastActual));
}
