def assert_configure_secured(self):
    self.assertResourceCalled('PropertiesFile', '/usr/hdp/current/ranger-usersync/install.properties', properties=self.getConfig()['configurations']['usersync-properties'])
    self.assertResourceCalled('Execute', 'cd /usr/hdp/current/ranger-usersync && ambari-sudo.sh [RMF_ENV_PLACEHOLDER] -H -E /usr/hdp/current/ranger-usersync/setup.sh', logoutput=True, environment={'JAVA_HOME': u'/usr/jdk64/jdk1.7.0_45', })
    self.assertResourceCalled('File', '/usr/bin/ranger-usersync-start', owner='ranger')
    self.assertResourceCalled('File', '/usr/bin/ranger-usersync-stop', owner='ranger')
    self.assertResourceCalled('File', '/usr/hdp/current/ranger-usersync/ranger-usersync-services.sh', mode=493)
