{
  for (  HostGroupComponentEntity componentEntity : hostGroup.getComponents()) {
    String name=componentEntity.getName();
    components.add(name);
    String service=stack.getServiceForComponent(name);
    Set<String> serviceComponents=componentsForService.get(service);
    if (serviceComponents == null) {
      serviceComponents=new HashSet<String>();
      componentsForService.put(service,serviceComponents);
    }
    serviceComponents.add(name);
  }
}
