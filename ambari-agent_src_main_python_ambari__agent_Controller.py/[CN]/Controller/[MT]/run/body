def run(self):
    self.actionQueue = ActionQueue(self.config, controller=self)
    self.actionQueue.start()
    self.register = Register(self.config)
    self.heartbeat = Heartbeat(self.actionQueue, self.config)
    opener = urllib2.build_opener()
    urllib2.install_opener(opener)
    while True:
        self.repeatRegistration = False
        self.registerAndHeartbeat()
        if (not self.repeatRegistration):
            break
    pass
