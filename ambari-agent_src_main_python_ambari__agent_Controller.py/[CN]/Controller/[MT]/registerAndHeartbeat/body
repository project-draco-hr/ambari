def registerAndHeartbeat(self):
    registerResponse = self.registerWithServer()
    message = registerResponse['response']
    logger.info('Registration response from %s was %s', self.serverHostname, message)
    if self.isRegistered:
        logger.info('Resetting ActionQueue...')
        self.actionQueue.reset()
        for callback in self.registration_listeners:
            callback()
        time.sleep(self.netutil.HEARTBEAT_IDDLE_INTERVAL_SEC)
        self.heartbeatWithServer()
