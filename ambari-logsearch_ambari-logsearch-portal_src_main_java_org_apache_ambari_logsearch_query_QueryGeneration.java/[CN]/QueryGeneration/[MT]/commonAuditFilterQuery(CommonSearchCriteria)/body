{
  LogType logType=LogType.AUDIT;
  SolrQuery solrQuery=new SolrQuery();
  solrQuery.setQuery("*:*");
  String globalExcludeComp=(String)searchCriteria.getParamValue("gMustNot");
  String unselectedComp=(String)searchCriteria.getParamValue("unselectComp");
  String startTime=searchCriteria.getStartTime();
  String endTime=searchCriteria.getEndTime();
  String selectedComp=searchCriteria.getMustBe();
  setFilterClauseWithFieldName(solrQuery,selectedComp,LogSearchConstants.AUDIT_COMPONENT,LogSearchConstants.NO_OPERATOR,Condition.OR);
  setUserSpecificFilter(searchCriteria,solrQuery,LogSearchConstants.INCLUDE_QUERY,LogSearchConstants.INCLUDE_QUERY,logType);
  setUserSpecificFilter(searchCriteria,solrQuery,LogSearchConstants.EXCLUDE_QUERY,LogSearchConstants.EXCLUDE_QUERY,logType);
  setFilterClauseWithFieldName(solrQuery,globalExcludeComp,LogSearchConstants.AUDIT_COMPONENT,LogSearchConstants.MINUS_OPERATOR,Condition.AND);
  setFilterClauseWithFieldName(solrQuery,unselectedComp,LogSearchConstants.AUDIT_COMPONENT,LogSearchConstants.MINUS_OPERATOR,Condition.AND);
  setSingleRangeFilter(solrQuery,LogSearchConstants.AUDIT_EVTTIME,startTime,endTime);
  setPagination(solrQuery,searchCriteria);
  try {
    if (searchCriteria.getSortBy() == null || searchCriteria.getSortBy().isEmpty()) {
      searchCriteria.setSortBy(LogSearchConstants.AUDIT_EVTTIME);
      searchCriteria.setSortType(SolrQuery.ORDER.desc.toString());
    }
  }
 catch (  Exception e) {
    searchCriteria.setSortBy(LogSearchConstants.AUDIT_EVTTIME);
    searchCriteria.setSortType(SolrQuery.ORDER.desc.toString());
  }
  setSortOrderDefaultServiceLog(solrQuery,searchCriteria);
  return solrQuery;
}
