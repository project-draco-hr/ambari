{
  List<AgentRoleState> serverStates=heartbeat.getInstalledRoleStates();
  if (serverStates == null) {
    return true;
  }
  boolean stopped=true;
  for (  AgentRoleState serverState : serverStates) {
    if (serverState.getClusterId().equals(clusterIdAndRev.getClusterName()) && serverState.getClusterDefinitionRevision() == clusterIdAndRev.getRevision() && serverState.getComponentName().equals(component) && serverState.getRoleName().equals(roleName)) {
      stopped=false;
    }
  }
  return stopped;
}
