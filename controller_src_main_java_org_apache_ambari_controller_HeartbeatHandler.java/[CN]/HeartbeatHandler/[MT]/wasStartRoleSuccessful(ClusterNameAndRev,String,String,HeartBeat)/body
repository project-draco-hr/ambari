{
  List<AgentRoleState> serverStates=heartbeat.getInstalledRoleStates();
  if (serverStates == null) {
    return false;
  }
  for (  AgentRoleState serverState : serverStates) {
    if (serverState.getClusterId().equals(clusterIdAndRev.getClusterName()) && serverState.getClusterDefinitionRevision() == clusterIdAndRev.getRevision() && serverState.getComponentName().equals(component) && serverState.getRoleName().equals(roleName)) {
      return true;
    }
  }
  return false;
}
