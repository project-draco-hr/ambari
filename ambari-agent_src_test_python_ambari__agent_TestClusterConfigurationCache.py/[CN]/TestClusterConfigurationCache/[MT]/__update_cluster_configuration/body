def __update_cluster_configuration(self, cluster_configuration, configuration):
    '\n    Updates the configuration cache, using as mock file as the disk based\n    cache so that a file is not created during tests\n    :return:\n    '
    with patch('__builtin__.open') as open_mock:
        open_mock.side_effect = self.open_side_effect
        cluster_configuration._update_configurations('c1', configuration)
    return open_mock
