def install_packages(self, env, exclude_packages=[]):
    '\n    List of packages that are required by service is received from the server\n    as a command parameter. The method installs all packages\n    from this list\n    '
    config = self.get_config()
    RepoInstaller.install_repos(config)
    try:
        package_list_str = config['hostLevelParams']['package_list']
        if (isinstance(package_list_str, basestring) and (len(package_list_str) > 0)):
            package_list = json.loads(package_list_str)
            for package in package_list:
                if (not (package['name'] in exclude_packages)):
                    name = package['name']
                    Package(name)
    except KeyError:
        pass
