{
  File stackRoot=new File("src/test/resources/bad-stacks");
  File version=new File("target/version");
  if (System.getProperty("os.name").contains("Windows")) {
    stackRoot=new File(ClassLoader.getSystemClassLoader().getResource("bad-stacks").getPath());
    version=new File(new File(ClassLoader.getSystemClassLoader().getResource("").getPath()).getParent(),"version");
  }
  LOG.info("Stacks file " + stackRoot.getAbsolutePath());
  try {
    createAmbariMetaInfo(stackRoot,version,true);
    fail("Exception expected due to bad stack");
  }
 catch (  AmbariException e) {
    e.printStackTrace();
    assertTrue(e.getCause() instanceof JAXBException);
  }
}
