{
  injector.getInstance(OrmTestHelper.class).createCluster();
  Clusters clusters=injector.getInstance(Clusters.class);
  Cluster cluster=clusters.getClusterById(1);
  cluster.setDesiredStackVersion(new StackId(STACK_NAME_HDP,"2.0.6"));
  cluster.addService("HDFS");
  metaInfo.reconcileAlertDefinitions(clusters);
  AlertDefinitionDAO dao=injector.getInstance(AlertDefinitionDAO.class);
  List<AlertDefinitionEntity> definitions=dao.findAll();
  assertEquals(4,definitions.size());
  for (  AlertDefinitionEntity definition : definitions) {
    definition.setScheduleInterval(28);
    dao.merge(definition);
  }
  metaInfo.reconcileAlertDefinitions(clusters);
  definitions=dao.findAll();
  assertEquals(4,definitions.size());
  for (  AlertDefinitionEntity definition : definitions) {
    assertEquals(28,definition.getScheduleInterval().intValue());
  }
}
