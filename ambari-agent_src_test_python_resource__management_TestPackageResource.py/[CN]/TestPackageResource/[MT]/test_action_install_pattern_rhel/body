@patch.object(shell, 'call')
@patch.object(shell, 'checked_call')
@patch.object(System, 'os_family', new='redhat')
def test_action_install_pattern_rhel(self, shell_mock, call_mock):
    call_mock.side_effect = [(0, None), (1, 'Some text')]
    with Environment('/') as env:
        Package('some_package*')
    call_mock.assert_has_calls([call('installed_pkgs=`rpm -qa \'some_package*\'` ; [ ! -z "$installed_pkgs" ]'), call("! yum list available 'some_package*'")])
    shell_mock.assert_called_with(['/usr/bin/yum', '-d', '0', '-e', '0', '-y', 'install', 'some_package*'], logoutput=False, sudo=True)
