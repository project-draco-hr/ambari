@patch.object(shell, 'call')
@patch.object(shell, 'checked_call')
@patch.object(System, 'os_family', new='redhat')
def test_action_install_rhel(self, shell_mock, call_mock):
    call_mock.return_value = (1, None)
    with Environment('/') as env:
        Package('some_package')
    call_mock.assert_called_with('rpm -q --quiet some_package')
    shell_mock.assert_called_with('/usr/bin/yum -d 0 -e 0 -y install some_package')
