@patch('os.getloadavg')
@patch('psutil.cpu_times')
def testCpuTimes(self, cp_mock, avg_mock):
    cp = cp_mock.return_value
    cp.user = 'user'
    cp.system = 'system'
    cp.idle = 'idle'
    cp.nice = 'nice'
    cp.iowait = 'iowait'
    cp.irq = 'irq'
    cp.softirq = 'softirq'
    avg_mock.return_value = [13, 13, 13]
    hostinfo = HostInfo()
    cpu = hostinfo.get_cpu_times()
    self.assertEqual(cpu['cpu_user'], 'user')
    self.assertEqual(cpu['cpu_system'], 'system')
    self.assertEqual(cpu['cpu_idle'], 'idle')
    self.assertEqual(cpu['cpu_nice'], 'nice')
    self.assertEqual(cpu['cpu_wio'], 'iowait')
    self.assertEqual(cpu['cpu_intr'], 'irq')
    self.assertEqual(cpu['cpu_sintr'], 'softirq')
    self.assertEqual(cpu['load_one'], 13)
    self.assertEqual(cpu['load_five'], 13)
    self.assertEqual(cpu['load_fifteen'], 13)
