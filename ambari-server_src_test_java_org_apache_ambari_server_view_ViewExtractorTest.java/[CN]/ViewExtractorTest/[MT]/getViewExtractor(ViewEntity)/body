{
  Map<File,ViewConfig> viewConfigs=Collections.singletonMap(viewArchive,viewDefinition.getConfiguration());
  Map<String,File> files=new HashMap<String,File>();
  files.put("/var/lib/ambari-server/resources/views/work",extractedArchiveDir);
  files.put("/var/lib/ambari-server/resources/views/work/MY_VIEW{1.0.0}",archiveDir);
  files.put("/var/lib/ambari-server/resources/views/work/MY_VIEW{1.0.0}/view.xml",entryFile);
  files.put("/var/lib/ambari-server/resources/views/work/MY_VIEW{1.0.0}/WEB-INF/classes",classesDir);
  files.put("/var/lib/ambari-server/resources/views/work/MY_VIEW{1.0.0}/WEB-INF/lib",libDir);
  Map<File,FileOutputStream> outputStreams=new HashMap<File,FileOutputStream>();
  outputStreams.put(entryFile,fos);
  Map<File,JarFile> jarFiles=new HashMap<File,JarFile>();
  jarFiles.put(viewArchive,viewJarFile);
  TestViewArchiveUtility archiveUtility=new TestViewArchiveUtility(viewConfigs,files,outputStreams,jarFiles);
  ViewExtractor viewExtractor=new ViewExtractor();
  viewExtractor.archiveUtility=archiveUtility;
  return viewExtractor;
}
