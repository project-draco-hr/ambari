{
  handler=mock(HeartBeatHandler.class);
  response.setResponseStatus(RegistrationStatus.OK);
  hresponse.setResponseId(0L);
  when(handler.handleRegistration(any(Register.class))).thenReturn(response);
  when(handler.handleHeartBeat(any(HeartBeat.class))).thenReturn(hresponse);
  requestStaticInjection(AgentResource.class);
  bind(Clusters.class).to(ClustersImpl.class);
  actionManager=mock(ActionManager.class);
  bind(ActionManager.class).toInstance(actionManager);
  bind(AgentCommand.class).to(ExecutionCommand.class);
  bind(HeartBeatHandler.class).toInstance(handler);
}
