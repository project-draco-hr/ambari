{
  if (httpClient == null) {
    httpClient=new HttpClient();
  }
  if (isNeedsAuthentication()) {
    httpClient.getState().setCredentials(new AuthScope(AuthScope.ANY_HOST,AuthScope.ANY_PORT),new UsernamePasswordCredentials(getUserId(),getPassword()));
    httpClient.getParams().setAuthenticationPreemptive(true);
  }
  return httpClient;
}
