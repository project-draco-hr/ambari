{
  try {
    writeLock.lock();
    String fqdn=hostInfo.getFQDN();
    if (fqdn != null && !fqdn.isEmpty() && !fqdn.equals(getHostName())) {
      setHostName(hostInfo.getHostName());
    }
    if (hostInfo.getIPAddress() != null && !hostInfo.getIPAddress().isEmpty()) {
      setIPv4(hostInfo.getIPAddress());
      setIPv6(hostInfo.getIPAddress());
    }
    setCpuCount(hostInfo.getProcessorCount());
    setTotalMemBytes(hostInfo.getMemoryTotal());
    setAvailableMemBytes(hostInfo.getFreeMemory());
    if (hostInfo.getArchitecture() != null && !hostInfo.getArchitecture().isEmpty()) {
      setOsArch(hostInfo.getArchitecture());
    }
    if (hostInfo.getOS() != null && !hostInfo.getOS().isEmpty()) {
      String osType=hostInfo.getOS();
      if (hostInfo.getOSRelease() != null) {
        int pos=hostInfo.getOSRelease().indexOf('.');
        if (pos > 0) {
          osType+=hostInfo.getOSRelease().substring(0,pos);
        }
      }
      setOsType(osType.toLowerCase());
    }
    if (hostInfo.getMounts() != null && !hostInfo.getMounts().isEmpty()) {
      setDisksInfo(hostInfo.getMounts());
    }
    saveIfPersisted();
  }
  finally {
    writeLock.unlock();
  }
}
