{
  VBarDataList dataList=new VBarDataList();
  Collection<VBarGraphData> vBarGraphDatas=new ArrayList<VBarGraphData>();
  VBarGraphData vBarGraphData=new VBarGraphData();
  Collection<VNameValue> vNameValues=new ArrayList<VNameValue>();
  queryGenerator.setMainQuery(solrQuery,null);
  if (isTypeNumber(typeXAxis)) {
    queryGenerator.setSingleRangeFilter(solrQuery,fieldTime,from,to);
    return normalGraph(xAxisField,yAxisField,from,to,solrDaoBase,typeXAxis,fieldTime,solrQuery);
  }
 else {
    try {
      queryGenerator.setFacetRange(solrQuery,xAxisField,from,to,unit);
      QueryResponse response=solrDaoBase.process(solrQuery);
      if (response == null)       response=new QueryResponse();
      Long count=response.getResults().getNumFound();
      if (count > 0) {
        @SuppressWarnings("rawtypes") List<RangeFacet> rangeFacet=response.getFacetRanges();
        if (rangeFacet == null)         return convertObjToString(dataList);
        List<RangeFacet.Count> listCount=rangeFacet.get(0).getCounts();
        if (listCount != null) {
          for (          RangeFacet.Count cnt : listCount) {
            VNameValue vNameValue=new VNameValue();
            vNameValue.setName(cnt.getValue());
            vNameValue.setValue("" + cnt.getCount());
            vNameValues.add(vNameValue);
          }
          vBarGraphData.setDataCounts(vNameValues);
          vBarGraphDatas.add(vBarGraphData);
          vBarGraphData.setName(xAxisField);
          dataList.setGraphData(vBarGraphDatas);
        }
      }
      return convertObjToString(dataList);
    }
 catch (    SolrException|SolrServerException|IOException e) {
    }
  }
  return null;
}
