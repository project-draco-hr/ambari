{
  AlertTargetEntity alertTarget=EasyMock.createMock(AlertTargetEntity.class);
  AlertGroupEntity alertGroup=EasyMock.createMock(AlertGroupEntity.class);
  List<AlertGroupEntity> groups=new ArrayList<AlertGroupEntity>();
  Set<AlertTargetEntity> targets=new HashSet<AlertTargetEntity>();
  targets.add(alertTarget);
  groups.add(alertGroup);
  EasyMock.expect(alertGroup.getAlertTargets()).andReturn(targets).once();
  AlertDispatchDAO dispatchDao=EasyMock.createMock(AlertDispatchDAO.class);
  EasyMock.expect(dispatchDao.findGroupsByDefinition(EasyMock.anyObject(AlertDefinitionEntity.class))).andReturn(groups).once();
  dispatchDao.create(EasyMock.anyObject(AlertNoticeEntity.class));
  EasyMock.expectLastCall().once();
  binder.bind(AlertDispatchDAO.class).toInstance(dispatchDao);
  EasyMock.replay(alertTarget,alertGroup,dispatchDao);
}
