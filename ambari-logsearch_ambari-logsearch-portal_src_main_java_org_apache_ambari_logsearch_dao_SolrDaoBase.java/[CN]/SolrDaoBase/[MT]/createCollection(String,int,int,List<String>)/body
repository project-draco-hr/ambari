{
  if (allCollectionList.contains(collectionName)) {
    logger.info("Collection " + collectionName + " is already there. Won't create it");
    return true;
  }
  logger.info("Creating collection " + collectionName + ", numberOfShards="+ numberOfShards+ ", replicationFactor="+ replicationFactor+ ", solrDetail="+ solrDetail);
  CollectionAdminRequest.Create collectionCreateRequest=new CollectionAdminRequest.Create();
  collectionCreateRequest.setCollectionName(collectionName);
  collectionCreateRequest.setNumShards(numberOfShards);
  collectionCreateRequest.setReplicationFactor(replicationFactor);
  collectionCreateRequest.setConfigName(configName);
  collectionCreateRequest.setMaxShardsPerNode(replicationFactor * numberOfShards);
  CollectionAdminResponse createResponse=collectionCreateRequest.process(solrClient);
  if (createResponse.getStatus() != 0) {
    logger.error("Error creating collection. collectionName=" + collectionName + ", solrDetail="+ solrDetail+ ", response="+ createResponse);
    return false;
  }
 else {
    logger.info("Created collection " + collectionName + ", numberOfShards="+ numberOfShards+ ", replicationFactor="+ replicationFactor+ ", solrDetail="+ solrDetail);
    return true;
  }
}
