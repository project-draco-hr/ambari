{
  boolean result=false;
  try {
    List<String> allCollectionList=getCollections();
    if (splitMode.equalsIgnoreCase("none")) {
      result=createCollection(collectionName,configName,numberOfShards,replicationFactor,allCollectionList);
    }
 else {
      result=setupCollectionsWithImplicitRouting(splitMode,configName,numberOfShards,replicationFactor,allCollectionList);
    }
  }
 catch (  Exception ex) {
    logger.error("Error creating collection. collectionName=" + collectionName,ex);
  }
  return result;
}
