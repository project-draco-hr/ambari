{
  Configuration configuration=createNiceMock(Configuration.class);
  expect(configuration.getDatabaseUrl()).andReturn(Configuration.JDBC_IN_MEMORY_URL).anyTimes();
  final DBAccessor dbAccessor=createNiceMock(DBAccessor.class);
  UpgradeCatalog160 upgradeCatalog=(UpgradeCatalog160)getUpgradeCatalog(dbAccessor);
  replay(dbAccessor,configuration);
  Class<?> c=AbstractUpgradeCatalog.class;
  Field f=c.getDeclaredField("configuration");
  f.setAccessible(true);
  f.set(upgradeCatalog,configuration);
  upgradeCatalog.executeDMLUpdates();
  verify(dbAccessor,configuration);
}
