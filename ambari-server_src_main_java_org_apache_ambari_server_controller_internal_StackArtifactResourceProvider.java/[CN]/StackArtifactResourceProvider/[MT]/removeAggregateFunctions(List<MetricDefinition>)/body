{
  List<MetricDefinition> filteredComponentMetrics=null;
  if (componentMetrics != null) {
    Cloner cloner=new Cloner();
    filteredComponentMetrics=cloner.deepClone(componentMetrics);
    for (    MetricDefinition metricDefinition : filteredComponentMetrics) {
      if (metricDefinition.getType().equals("ganglia")) {
        for (        Map<String,Metric> metricByCategory : metricDefinition.getMetricsByCategory().values()) {
          Iterator<Map.Entry<String,Metric>> iterator=metricByCategory.entrySet().iterator();
          while (iterator.hasNext()) {
            Map.Entry<String,Metric> entry=iterator.next();
            String metricName=entry.getKey();
            if (PropertyHelper.hasAggregateFunctionSuffix(metricName)) {
              iterator.remove();
            }
          }
        }
      }
    }
  }
  return filteredComponentMetrics;
}
