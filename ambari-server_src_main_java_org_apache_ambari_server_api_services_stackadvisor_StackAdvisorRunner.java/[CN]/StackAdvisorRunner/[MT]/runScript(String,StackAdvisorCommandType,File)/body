{
  LOG.info(String.format("Script=%s, actionDirectory=%s, command=%s",script,actionDirectory,saCommandType));
  String outputFile=actionDirectory + File.separator + "stackadvisor.out";
  String errorFile=actionDirectory + File.separator + "stackadvisor.err";
  ProcessBuilder builder=prepareShellCommand(script,saCommandType,actionDirectory,outputFile,errorFile);
  try {
    Process process=builder.start();
    try {
      LOG.info("Stack-advisor output={}, error={}",outputFile,errorFile);
      int exitCode=process.waitFor();
      try {
        String outMessage=FileUtils.readFileToString(new File(outputFile));
        String errMessage=FileUtils.readFileToString(new File(errorFile));
        LOG.info("Stack advisor output files");
        LOG.info("    advisor script stdout: {}",outMessage);
        LOG.info("    advisor script stderr: {}",errMessage);
      }
 catch (      IOException io) {
        LOG.error("Error in reading script log files",io);
      }
      return exitCode == 0;
    }
  finally {
      process.destroy();
    }
  }
 catch (  Exception ioe) {
    LOG.error("Error executing stack advisor",ioe);
    return false;
  }
}
