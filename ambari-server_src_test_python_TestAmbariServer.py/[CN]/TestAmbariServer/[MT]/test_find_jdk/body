@patch('glob.glob')
@patch.object(ambari_server, 'get_JAVA_HOME')
@patch.object(ambari_server, 'validate_jdk')
def test_find_jdk(self, validate_jdk_mock, get_JAVA_HOME_mock, globMock):
    get_JAVA_HOME_mock.return_value = 'somewhere'
    validate_jdk_mock.return_value = True
    result = ambari_server.find_jdk()
    self.assertEqual('somewhere', result)
    get_JAVA_HOME_mock.return_value = None
    globMock.return_value = []
    result = ambari_server.find_jdk()
    self.assertEqual(None, result)
    globMock.return_value = ['one', 'two']
    result = ambari_server.find_jdk()
    self.assertNotEqual(None, result)
    globMock.return_value = ['one', 'two']
    validate_jdk_mock.side_effect = [False, True]
    result = ambari_server.find_jdk()
    self.assertEqual(result, 'two')
