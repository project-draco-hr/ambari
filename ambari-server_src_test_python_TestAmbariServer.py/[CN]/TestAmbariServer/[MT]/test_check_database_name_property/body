@patch.object(ambari_server, 'get_ambari_properties')
def test_check_database_name_property(self, get_ambari_properties_mock):
    get_ambari_properties_mock.return_value = {ambari_server.JDBC_DATABASE_PROPERTY: '', }
    try:
        result = ambari_server.check_database_name_property()
        self.fail('Should fail with exception')
    except FatalException as e:
        self.assertTrue(('DB Name property not set in config file.' in e.reason))
    dbname = 'ambari'
    get_ambari_properties_mock.reset_mock()
    get_ambari_properties_mock.return_value = {ambari_server.JDBC_DATABASE_PROPERTY: dbname, }
    try:
        result = ambari_server.check_database_name_property()
    except FatalException:
        self.fail('Setup should be successful')
