@patch('__builtin__.raw_input')
def test_get_validated_string_input(self, raw_input_mock):
    prompt = 'prompt'
    default_value = 'default'
    description = 'desc'
    validator = MagicMock()
    validator.return_value = True
    inputed_value1 = 'val1'
    inputed_value2 = 'val2'
    raw_input_mock.return_value = inputed_value1
    input = ambari_server.get_validated_string_input(prompt, default_value, None, description, False, False, validator)
    self.assertTrue(validator.called)
    self.assertEqual(inputed_value1, input)
    validator.side_effect = [False, True]
    raw_input_mock.side_effect = [inputed_value1, inputed_value2]
    input = ambari_server.get_validated_string_input(prompt, default_value, None, description, False, False, validator)
    self.assertEqual(inputed_value2, input)
