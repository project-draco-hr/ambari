@patch.object(ambari_server, 'is_server_runing')
@patch('os.remove')
@patch('os.killpg')
@patch('os.getpgid')
@patch.object(ambari_server, 'print_info_msg')
def test_stop(self, print_info_msg_mock, gpidMock, removeMock, killMock, isServerRuningMock):
    isServerRuningMock.return_value = (True, 123)
    ambari_server.stop(None)
    self.assertTrue(killMock.called)
    self.assertTrue(removeMock.called)
