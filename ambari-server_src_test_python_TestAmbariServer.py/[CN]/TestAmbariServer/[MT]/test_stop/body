@patch.object(ambari__server, 'is_server_runing')
@patch('os.remove')
@patch('os.killpg')
@patch('os.getpgid')
@patch('ambari_commons.logging_utils.print_info_msg')
def test_stop(self, print_info_msg_mock, gpidMock, removeMock, killMock, isServerRuningMock):
    isServerRuningMock.return_value = (True, 123)
    ambari__server.stop(None)
    self.assertTrue(killMock.called)
    self.assertTrue(removeMock.called)
