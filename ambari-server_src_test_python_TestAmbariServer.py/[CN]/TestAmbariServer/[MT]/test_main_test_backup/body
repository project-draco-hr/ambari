@patch.object(_ambari_server_, 'setup')
@patch.object(_ambari_server_, 'start')
@patch.object(_ambari_server_, 'stop')
@patch.object(_ambari_server_, 'reset')
@patch.object(_ambari_server_, 'backup')
@patch.object(_ambari_server_, 'restore')
@patch('optparse.OptionParser')
def test_main_test_backup(self, optionParserMock, restore_mock, backup_mock, reset_method, stop_method, start_method, setup_method):
    opm = optionParserMock.return_value
    options = MagicMock()
    args = ['backup']
    opm.parse_args.return_value = (options, args)
    options.dbms = None
    options.sid_or_sname = 'sname'
    _ambari_server_.main()
    self.assertTrue(backup_mock.called)
    self.assertFalse(restore_mock.called)
    self.assertFalse(setup_method.called)
    self.assertFalse(start_method.called)
    self.assertFalse(stop_method.called)
    self.assertFalse(reset_method.called)
    self.assertFalse(False, get_verbose())
    self.assertFalse(False, get_silent())
    pass
