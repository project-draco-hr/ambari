def setup_logging(logger, filename, verbose):
    formatter = logging.Formatter(formatstr)
    rotateLog = logging.handlers.RotatingFileHandler(filename, 'a', 10000000, 25)
    rotateLog.setFormatter(formatter)
    logger.addHandler(rotateLog)
    if verbose:
        logging.basicConfig(format=formatstr, level=logging.DEBUG, filename=filename)
        logger.setLevel(logging.DEBUG)
        logger.info('loglevel=logging.DEBUG')
    else:
        logging.basicConfig(format=formatstr, level=logging.INFO, filename=filename)
        logger.setLevel(logging.INFO)
        logger.info('loglevel=logging.INFO')
