def run_schema_upgrade():
    jdk_path = get_java_exe_path()
    if (jdk_path is None):
        print_error_msg(('No JDK found, please run the "setup" command to install a JDK automatically or install any JDK manually to ' + configDefaults.JDK_INSTALL_DIR))
        return 1
    print 'Upgrading database schema'
    command = SCHEMA_UPGRADE_HELPER_CMD.format(jdk_path, get_full_ambari_classpath())
    (retcode, stdout, stderr) = run_os_command(command)
    print_info_msg(('Return code from schema upgrade command, retcode = ' + str(retcode)))
    if (retcode > 0):
        print_error_msg('Error executing schema upgrade, please check the server logs.')
    else:
        print_info_msg('Schema upgrade completed')
    return retcode
