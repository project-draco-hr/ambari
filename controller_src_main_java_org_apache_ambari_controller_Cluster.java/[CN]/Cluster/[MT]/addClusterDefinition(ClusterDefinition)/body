{
  this.latestRevision++;
  clusterDefinitionRevisionsList.put((long)this.latestRevision,c);
  definition=c;
  Stacks context=Stacks.getInstance();
  Stack bp=context.getStack(c.getStackName(),Integer.parseInt(c.getStackRevision()));
  while (bp != null) {
    for (    Component comp : bp.getComponents()) {
      String name=comp.getName();
      if (!plugins.containsKey(name) && comp.getDefinition() != null) {
        plugins.put(name,new XmlComponentDefinition(comp.getDefinition()));
      }
    }
    if (bp.getParentName() != null) {
      bp=context.getStack(bp.getParentName(),Integer.parseInt(bp.getParentRevision()));
    }
 else {
      bp=null;
    }
  }
}
