{
  StringBuilder sb=new StringBuilder();
  boolean appendConjunction=false;
  if (getMetricNames() != null) {
    sb.append("METRIC_NAME IN ");
    sb.append(getMetricsClause());
    appendConjunction=true;
  }
  if (appendConjunction) {
    sb.append(" AND");
  }
  appendConjunction=false;
  if (getHostname() != null) {
    sb.append(" HOSTNAME = ?");
    appendConjunction=true;
  }
  if (appendConjunction) {
    sb.append(" AND");
  }
  appendConjunction=false;
  if (getAppId() != null) {
    sb.append(" APP_ID = ?");
    appendConjunction=true;
  }
  if (appendConjunction) {
    sb.append(" AND");
  }
  appendConjunction=false;
  if (getInstanceId() != null) {
    sb.append(" INSTANCE_ID = ?");
    appendConjunction=true;
  }
  if (appendConjunction) {
    sb.append(" AND");
  }
  appendConjunction=false;
  if (getStartTime() != null) {
    sb.append(" SERVER_TIME >= ?");
    appendConjunction=true;
  }
  if (appendConjunction) {
    sb.append(" AND");
  }
  if (getEndTime() != null) {
    sb.append(" SERVER_TIME < ?");
  }
  return sb.toString();
}
