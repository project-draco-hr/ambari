{
  List<AlertDefinitionEntity> entities=new ArrayList<AlertDefinitionEntity>();
  String clusterName=null;
  for (  Map<String,Object> requestMap : requestMaps) {
    entities.add(toCreateEntity(requestMap));
    if (null == clusterName) {
      clusterName=(String)requestMap.get(ALERT_DEF_CLUSTER_NAME);
    }
  }
  Set<String> invalidatedHosts=new HashSet<String>();
  for (  AlertDefinitionEntity entity : entities) {
    alertDefinitionDAO.create(entity);
    invalidatedHosts.addAll(alertDefinitionHash.invalidateHosts(entity));
  }
  enqueueAgentCommands(clusterName,invalidatedHosts);
}
