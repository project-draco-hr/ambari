def action_create(self):
    filename = self.resource.filename
    conf_dir = self.resource.conf_dir
    config_content = InlineTemplate('<!--{{time.asctime(time.localtime())}}-->\n    <configuration>\n    {% for key, value in configurations_dict.items() %}\n    <property>\n      <name>{{ key|e }}</name>\n      <value>{{ value|e }}</value>\n    </property>\n    {% endfor %}\n  </configuration>', extra_imports=[time], configurations_dict=self.resource.configurations)
    self.log.info(format('Generating config: {conf_dir}/{filename}'))
    with Environment.get_instance_copy() as env:
        File(format('{conf_dir}/{filename}'), content=config_content, owner=self.resource.owner, group=self.resource.group, mode=self.resource.mode)
