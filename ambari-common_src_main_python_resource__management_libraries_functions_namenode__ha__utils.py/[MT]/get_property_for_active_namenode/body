def get_property_for_active_namenode(hdfs_site, property_name, security_enabled, run_user):
    '\n  For dfs.namenode.rpc-address:\n    - In non-ha mode it will return hdfs_site[dfs.namenode.rpc-address]\n    - In ha-mode it will return hdfs_site[dfs.namenode.rpc-address.nnha.nn2], where nnha is the name of HA, and nn2 is id of active NN\n  '
    if is_ha_enabled(hdfs_site):
        name_service = hdfs_site['dfs.nameservices']
        active_namenodes = get_namenode_states(hdfs_site, security_enabled, run_user)[0]
        if (not len(active_namenodes)):
            raise Fail('There is no active namenodes.')
        active_namenode_id = active_namenodes[0][0]
        return hdfs_site[format('{property_name}.{name_service}.{active_namenode_id}')]
    else:
        return hdfs_site[property_name]
