{
  Query query=request.getResourceDefinition().getQuery();
  for (  String s : request.getPartialResponseFields()) {
    int i=s.lastIndexOf('/');
    if (i == -1) {
      query.addProperty(null,s);
    }
 else {
      query.addProperty(s.substring(0,i),s.substring(i + 1));
    }
  }
  try {
    return query.execute();
  }
 catch (  AmbariException e) {
    throw new RuntimeException("An exception occurred processing the request: " + e,e);
  }
}
