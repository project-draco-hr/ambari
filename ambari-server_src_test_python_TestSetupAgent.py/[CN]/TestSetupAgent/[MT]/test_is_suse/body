@patch('os.path.isfile')
@patch('__builtin__.open')
def test_is_suse(self, open_mock, isfile_mock):
    self.assertFalse(setup_agent.is_suse())
    isfile_mock.return_value = True
    f = open_mock.return_value
    f.read.return_value = ' suse '
    self.assertTrue(setup_agent.is_suse())
