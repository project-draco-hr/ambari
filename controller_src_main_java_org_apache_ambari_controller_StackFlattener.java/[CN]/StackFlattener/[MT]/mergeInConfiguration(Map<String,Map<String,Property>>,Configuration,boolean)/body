{
  if (conf != null) {
    for (    ConfigurationCategory category : conf.getCategory()) {
      if (!dropMeta || !META_CATEGORY.equals(category.getName())) {
        Map<String,Property> categoryMap=map.get(category.getName());
        if (categoryMap == null) {
          categoryMap=new TreeMap<String,Property>();
          map.put(category.getName(),categoryMap);
        }
        for (        Property prop : category.getProperty()) {
          categoryMap.put(prop.getName(),prop);
        }
      }
    }
  }
}
