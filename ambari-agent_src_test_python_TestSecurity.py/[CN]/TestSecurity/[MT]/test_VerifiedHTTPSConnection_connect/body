@patch('socket.create_connection')
@patch('ssl.wrap_socket')
def test_VerifiedHTTPSConnection_connect(self, wrap_socket_mock, create_connection_mock):
    self.config.set('security', 'keysdir', '/dummy-keysdir')
    connection = security.VerifiedHTTPSConnection('example.com')
    connection._tunnel_host = False
    connection.sock = None
    connection.connect()
    self.assertTrue(wrap_socket_mock.called)
