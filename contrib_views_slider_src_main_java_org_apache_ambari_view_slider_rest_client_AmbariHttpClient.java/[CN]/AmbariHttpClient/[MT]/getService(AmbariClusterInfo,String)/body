{
  if (clusterInfo != null) {
    try {
      JsonElement jsonElement=doGetJson("/api/v1/clusters/" + clusterInfo.getName() + "/services/"+ serviceId);
      if (jsonElement != null) {
        AmbariService service=new AmbariService();
        String serviceState=jsonElement.getAsJsonObject().get("ServiceInfo").getAsJsonObject().get("state").getAsString();
        service.setStarted("STARTED".equals(serviceState));
        return service;
      }
    }
 catch (    HttpException e) {
      logger.warn("Unable to determine Ambari service details - " + serviceId,e);
      throw new RuntimeException(e.getMessage(),e);
    }
catch (    IOException e) {
      logger.warn("Unable to determine Ambari cluster details - " + serviceId,e);
      throw new RuntimeException(e.getMessage(),e);
    }
  }
  return null;
}
