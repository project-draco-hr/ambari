{
  Properties properties=new Properties();
  String confDir=System.getProperty(AMBARI_CONF_VAR);
  if (confDir == null)   confDir=System.getenv(AMBARI_CONF_VAR);
  if (confDir == null) {
    confDir="/etc/ambari";
  }
  String filename=confDir + "/" + CONFIG_FILE;
  try {
    properties.load(new FileInputStream(filename));
  }
 catch (  FileNotFoundException fnf) {
    LOG.info("No configuration file " + filename + " found.",fnf);
  }
catch (  IOException ie) {
    throw new IllegalArgumentException("Can't read configuration file " + filename,ie);
  }
  return properties;
}
