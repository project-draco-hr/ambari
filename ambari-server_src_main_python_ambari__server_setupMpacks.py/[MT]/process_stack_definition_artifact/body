def process_stack_definition_artifact(artifact, artifact_source_dir, options):
    '\n  Process stack-definition artifact\n  :param artifact: Artifact metadata\n  :param artifact_source_dir: Location of artifact in the management pack\n  :param options: Command line options\n  '
    (stack_location, extension_location, service_definitions_location, mpacks_staging_location) = get_mpack_properties()
    stack_name = None
    if ('stack_name' in artifact):
        stack_name = artifact.stack_name
    if (not stack_name):
        print_error_msg('Must provide stack name for stack-definition artifact!')
        raise FatalException((-1), 'Must provide stack name for stack-definition artifact!')
    stack_version = None
    if ('stack_version' in artifact):
        stack_version = artifact.stack_version
    if (not stack_version):
        print_error_msg('Must provide stack version for stack-definition artifact!')
        raise FatalException((-1), 'Must provide stack version for stack-definition artifact!')
    stack_dir = os.path.join(stack_location, stack_name)
    dest_link = os.path.join(stack_dir, stack_version)
    if (not os.path.exists(stack_dir)):
        sudo.makedir(stack_dir, 493)
    if (options.force and os.path.islink(dest_link)):
        sudo.unlink(dest_link)
    sudo.symlink(artifact_source_dir, dest_link)
