{
  String queryHostComponent="";
  String selectedCompQuery="";
  if (selectedComponent != null && !selectedComponent.equals("")) {
    String[] selectedComponents=selectedComponent.split(",");
    selectedCompQuery=solrUtil.orList(LogSearchConstants.SOLR_COMPONENT,selectedComponents);
  }
  if (jsonHCNames != null && !jsonHCNames.equals("") && !jsonHCNames.equals("[]")) {
    try {
      JSONArray jarray=new JSONArray(jsonHCNames);
      int flagHost=0;
      int flagComp;
      int count;
      for (int i=0; i < jarray.length(); i++) {
        if (flagHost == 1)         queryHostComponent=queryHostComponent + " OR ";
        JSONObject jsonObject=jarray.getJSONObject(i);
        String host=jsonObject.getString("h");
        queryHostComponent=queryHostComponent + "( host:" + host;
        List<String> components=JSONUtil.JSONToList(jsonObject.getJSONArray("c"));
        if (components.isEmpty())         queryHostComponent=queryHostComponent + " AND ";
        flagComp=0;
        count=0;
        for (        String comp : components) {
          if (flagComp == 0)           queryHostComponent=queryHostComponent + " ( ";
          count+=1;
          queryHostComponent=queryHostComponent + " " + " type:"+ comp;
          if (components.size() <= count)           queryHostComponent=queryHostComponent + " ) ";
 else           queryHostComponent=queryHostComponent + " OR ";
          flagComp=1;
        }
        queryHostComponent=queryHostComponent + " ) ";
        flagHost=1;
      }
    }
 catch (    JSONException e) {
      logger.error(e);
    }
  }
  if (selectedCompQuery != null && !selectedCompQuery.equals("")) {
    if (queryHostComponent == null || queryHostComponent.equals(""))     queryHostComponent=selectedCompQuery;
 else     queryHostComponent=queryHostComponent + " OR " + selectedCompQuery;
  }
  return queryHostComponent;
}
