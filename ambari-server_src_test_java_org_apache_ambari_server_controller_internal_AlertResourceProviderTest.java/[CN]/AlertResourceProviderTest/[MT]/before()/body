{
  m_dao=EasyMock.createNiceMock(AlertsDAO.class);
  m_injector=Guice.createInjector(Modules.override(new InMemoryDefaultTestModule()).with(new MockModule()));
  m_amc=m_injector.getInstance(AmbariManagementController.class);
  Cluster cluster=EasyMock.createMock(Cluster.class);
  Clusters clusters=m_injector.getInstance(Clusters.class);
  expect(m_amc.getClusters()).andReturn(clusters).atLeastOnce();
  expect(clusters.getCluster(capture(new Capture<String>()))).andReturn(cluster).atLeastOnce();
  expect(cluster.getClusterId()).andReturn(Long.valueOf(1L));
  replay(m_amc,clusters,cluster);
}
