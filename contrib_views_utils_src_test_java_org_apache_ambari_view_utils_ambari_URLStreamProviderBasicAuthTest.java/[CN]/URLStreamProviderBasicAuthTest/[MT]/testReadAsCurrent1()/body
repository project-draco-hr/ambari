{
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readAsCurrent(anyString(),anyString(),(InputStream)anyObject(),HeadersMatcher.mapContainsAuthHeader())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readAsCurrent("http://example.com","GET",(InputStream)null,null);
  urlStreamProviderBasicAuth.readAsCurrent("http://example.com","GET",(InputStream)null,new HashMap<String,String>());
}
