{
  URLStreamProvider urlStreamProvider=createNiceMock(URLStreamProvider.class);
  expect(urlStreamProvider.readAs(anyString(),anyString(),(InputStream)anyObject(),HeadersMatcher.mapContainsAuthHeader(),anyString())).andReturn(null);
  URLStreamProviderBasicAuth urlStreamProviderBasicAuth=new URLStreamProviderBasicAuth(urlStreamProvider,"user","pass");
  replay(urlStreamProvider);
  urlStreamProviderBasicAuth.readAs("http://example.com","GET",(InputStream)null,null,"admin");
  urlStreamProviderBasicAuth.readAs("http://example.com","GET",(InputStream)null,new HashMap<String,String>(),"admin");
}
