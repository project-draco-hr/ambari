def generate_report(self):
    '\n    Generates status reports about commands that are IN_PROGRESS, COMPLETE or\n    FAILED. Statuses for COMPLETE or FAILED commands are forgotten after\n    generation\n    '
    from ActionQueue import ActionQueue
    with self.lock:
        resultReports = []
        resultComponentStatus = []
        for (key, item) in self.current_state.items():
            command = item[0]
            report = item[1]
            if (command['commandType'] == ActionQueue.EXECUTION_COMMAND):
                if (report['status'] != ActionQueue.IN_PROGRESS_STATUS):
                    resultReports.append(report)
                    del self.current_state[key]
                else:
                    in_progress_report = self.generate_in_progress_report(command, report)
                    resultReports.append(in_progress_report)
            elif (command['commandType'] == ActionQueue.STATUS_COMMAND):
                resultComponentStatus.append(report)
                del self.current_state[key]
        result = {'reports': resultReports, 'componentStatus': resultComponentStatus, }
        return result
