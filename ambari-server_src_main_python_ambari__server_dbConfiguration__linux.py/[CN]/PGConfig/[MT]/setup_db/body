def setup_db(self, args):
    self.configure_database_username_password(args)
    dbname = args.database_name
    scriptFile = args.init_script_file
    username = args.database_username
    password = args.database_password
    command = SETUP_DB_CMD[:]
    command[(-1)] = command[(-1)].format(scriptFile, username, password, dbname)
    for i in range(SETUP_DB_CONNECT_ATTEMPTS):
        sys.stdout.write('Connecting to local database...')
        (retcode, outdata, errdata) = run_os_command(command)
        if (retcode == 0):
            print 'done.'
            return (retcode, outdata, errdata)
        timeOutMsg = 'connection timed out'
        if ((i + 1) < SETUP_DB_CONNECT_ATTEMPTS):
            timeOutMsg += ('...retrying (%d)' % (i + 1))
            print timeOutMsg
            time.sleep(SETUP_DB_CONNECT_TIMEOUT)
    print 'unable to connect to database'
    utils.print_error_msg(errdata)
    return (retcode, outdata, errdata)
