def _configure_pg_hba_ambaridb_users(self):
    args = optparse.Values()
    configure_database_username_password(args)
    with open(PG_HBA_CONF_FILE, 'a') as pgHbaConf:
        pgHbaConf.write('\n')
        pgHbaConf.write((('local  all  ' + args.database_username) + ',mapred md5'))
        pgHbaConf.write('\n')
        pgHbaConf.write((('host  all   ' + args.database_username) + ',mapred 0.0.0.0/0  md5'))
        pgHbaConf.write('\n')
        pgHbaConf.write((('host  all   ' + args.database_username) + ',mapred ::/0 md5'))
        pgHbaConf.write('\n')
    (retcode, out, err) = run_os_command(PG_HBA_RELOAD_CMD)
    if (not (retcode == 0)):
        raise FatalException(retcode, err)
