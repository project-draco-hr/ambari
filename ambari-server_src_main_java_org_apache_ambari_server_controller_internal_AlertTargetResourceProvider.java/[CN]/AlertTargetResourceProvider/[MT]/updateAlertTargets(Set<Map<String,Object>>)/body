{
  for (  Map<String,Object> requestMap : requestMaps) {
    String stringId=(String)requestMap.get(ALERT_TARGET_ID);
    if (StringUtils.isEmpty(stringId)) {
      throw new IllegalArgumentException("The ID of the alert target is required when updating an existing target");
    }
    long id=Long.parseLong(stringId);
    AlertTargetEntity entity=s_dao.findTargetById(id);
    if (null == entity) {
      String message=MessageFormat.format("The alert target with ID {0} could not be found",id);
      throw new AmbariException(message);
    }
    String name=(String)requestMap.get(ALERT_TARGET_NAME);
    String description=(String)requestMap.get(ALERT_TARGET_DESCRIPTION);
    String notificationType=(String)requestMap.get(ALERT_TARGET_NOTIFICATION_TYPE);
    if (!StringUtils.isBlank(name)) {
      entity.setTargetName(name);
    }
    if (null != description) {
      entity.setDescription(description);
    }
    if (!StringUtils.isBlank(notificationType)) {
      entity.setNotificationType(notificationType);
    }
    String properties=extractProperties(requestMap);
    if (!StringUtils.isEmpty(properties)) {
      entity.setProperties(properties);
    }
    s_dao.merge(entity);
  }
}
