def as_sudo(command, env=SUDO_ENVIRONMENT_PLACEHOLDER):
    '\n  command - list or tuple of arguments.\n  env - when run as part of Execute resource, this SHOULD NOT be used.\n  It automatically gets replaced later by call, checked_call. This should be used in not_if, only_if\n  '
    if isinstance(command, (list, tuple)):
        command = string_cmd_from_args_list(command)
    else:
        err_msg = Logger.get_protected_text(("String command '%s' cannot be run as sudo. Please supply the command as a tuple/list of arguments" % command))
        raise Fail(err_msg)
    if (env != SUDO_ENVIRONMENT_PLACEHOLDER):
        env = reduce((lambda str, x: '{0} {1}={2}'.format(str, x, quote_bash_args(env[x]))), env, '')
    return '/usr/bin/sudo {0} -Hi {1}'.format(env, command)
