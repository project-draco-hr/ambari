{
  Resource r=resultNode.getObject();
  TreeNode<Resource> parent=resultNode.getParent();
  if (parent.getName() != null) {
    String parentName=parent.getName();
    Schema schema=getClusterController().getSchema(r.getType());
    String id=r.getPropertyValue(schema.getKeyPropertyId(r.getType()));
    int i=href.indexOf("?");
    if (i != -1) {
      href=href.substring(0,i);
    }
    if (!href.endsWith("/")) {
      href=href + '/';
    }
    String isCollectionResource=parent.getProperty("isCollection");
    href="true".equals(isCollectionResource) ? href + id : href + parentName + '/'+ id;
  }
  resultNode.setProperty("href",href);
}
