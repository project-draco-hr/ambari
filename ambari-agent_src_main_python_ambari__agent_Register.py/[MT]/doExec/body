def doExec(vals, key, command, preLF=False):
    template = '{0}: {1} {2}'
    try:
        osStat = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        (out, err) = osStat.communicate()
        if ((0 != osStat.returncode) or (0 == len(out.strip()))):
            print template.format(key, 'UNAVAILABLE', '')
        elif preLF:
            print template.format(key, 'ok,\n', out.strip())
        else:
            print template.format(key, 'ok,', out.strip())
    except:
        print template.format(key, 'UNAVAILABLE', '')
