def build(self, id='-1'):
    global clusterId, clusterDefinitionRevision, firstContact
    timestamp = int((time.time() * 1000))
    hostInfo = HostInfo(self.config)
    agentEnv = {}
    hostInfo.register(agentEnv, False, False)
    version = self.read_agent_version()
    register = {'responseId': int(id), 'timestamp': timestamp, 'hostname': hostname.hostname(), 'publicHostname': hostname.public_hostname(), 'hardwareProfile': self.hardware.get(), 'agentEnv': agentEnv, 'agentVersion': version, }
    return register
