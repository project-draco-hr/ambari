{
  if (version1 == null || version1.isEmpty()) {
    throw new IllegalArgumentException("version1 cannot be null or empty");
  }
  if (version2 == null || version2.isEmpty()) {
    throw new IllegalArgumentException("version2 cannot be null or empty");
  }
  if (maxLengthToCompare < 0) {
    throw new IllegalArgumentException("maxLengthToCompare cannot be less than 0");
  }
  String[] version1Parts=version1.split("\\.");
  String[] version2Parts=version2.split("\\.");
  int length=Math.max(version1Parts.length,version2Parts.length);
  length=maxLengthToCompare == 0 || maxLengthToCompare > length ? length : maxLengthToCompare;
  for (int i=0; i < length; i++) {
    int stack1Part=i < version1Parts.length ? Integer.parseInt(version1Parts[i]) : 0;
    int stack2Part=i < version2Parts.length ? Integer.parseInt(version2Parts[i]) : 0;
    if (stack1Part < stack2Part) {
      return -1;
    }
    if (stack1Part > stack2Part) {
      return 1;
    }
  }
  return 0;
}
