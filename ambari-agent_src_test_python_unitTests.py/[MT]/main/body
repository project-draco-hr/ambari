def main():
    parent_dir = (lambda x: (split(x)[0] if isdir(x) else split(dirname(x))[0]))
    src_dir = os.getcwd()
    agent_dir = parent_dir(parent_dir(parent_dir(src_dir)))
    path = ((agent_dir + os.sep) + 'target/tests.log')
    file = open(path, 'w')
    runner = unittest.TextTestRunner(stream=file)
    suite = all_tests_suite()
    raise SystemExit((not runner.run(suite).wasSuccessful()))
