def executeScript(self, path, classname=None, command=None, config_file=None):
    src_dir = RMFTestCase._getSrcFolder()
    stack_version = path.split(os.sep)[0]
    stacks_path = os.path.join(src_dir, 'main/resources/stacks/HDP')
    configs_path = os.path.join(src_dir, 'test/python/stacks/', stack_version, 'configs')
    script_path = os.path.join(stacks_path, path)
    config_file_path = os.path.join(configs_path, config_file)
    try:
        with open(config_file_path, 'r') as f:
            self.config_dict = ConfigDictionary(json.load(f))
    except IOError:
        raise RuntimeError(('Can not read config file: ' + config_file_path))
    scriptsdir = os.path.dirname(script_path)
    basedir = os.path.dirname(scriptsdir)
    sys.path.append(scriptsdir)
    try:
        script_module = imp.load_source(classname, script_path)
    except IOError:
        raise RuntimeError('Cannot load class %s from %s', classname, path)
    script_class_inst = RMFTestCase._get_attr(script_module, classname)()
    method = RMFTestCase._get_attr(script_class_inst, command)
    if ('params' in sys.modules):
        del sys.modules['params']
    with Environment(basedir, test_mode=True) as RMFTestCase.env:
        with patch.object(Script, 'install_packages', return_value=MagicMock()):
            with patch.object(Script, 'get_config', return_value=self.config_dict):
                method(RMFTestCase.env)
