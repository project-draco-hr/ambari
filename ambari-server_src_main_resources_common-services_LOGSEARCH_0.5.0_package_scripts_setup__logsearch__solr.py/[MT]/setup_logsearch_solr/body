def setup_logsearch_solr(name=None):
    import params
    if (name == 'server'):
        Directory([params.solr_dir, params.logsearch_solr_log_dir, params.logsearch_solr_piddir, params.logsearch_solr_conf, params.logsearch_solr_datadir, params.logsearch_solr_data_resources_dir], mode=493, cd_access='a', owner=params.logsearch_solr_user, group=params.logsearch_solr_group, create_parents=True)
        File(params.logsearch_solr_log, mode=420, owner=params.logsearch_solr_user, group=params.logsearch_solr_group, content='')
        File(format('{logsearch_solr_conf}/logsearch-solr-env.sh'), content=InlineTemplate(params.solr_env_content), mode=493, owner=params.logsearch_solr_user)
        File(format('{logsearch_solr_datadir}/solr.xml'), content=InlineTemplate(params.solr_xml_content), owner=params.logsearch_solr_user)
        File(format('{logsearch_solr_conf}/log4j.properties'), content=InlineTemplate(params.solr_log4j_content), owner=params.logsearch_solr_user)
        File(format('{logsearch_solr_datadir}/zoo.cfg'), content=Template('zoo.cfg.j2'), owner=params.logsearch_solr_user)
        zk_cli_prefix = format('export JAVA_HOME={java64_home}; {cloud_scripts}/zkcli.sh -zkhost {zookeeper_hosts}')
        Execute(format('{zk_cli_prefix} -cmd makepath {logsearch_solr_znode}'), not_if=format('{zk_cli_prefix} -cmd get {logsearch_solr_znode}'), ignore_failures=True, user=params.logsearch_solr_user)
    elif (name == 'client'):
        Directory([params.solr_client_dir, params.logsearch_solr_client_log_dir], mode=493, cd_access='a', owner=params.logsearch_solr_user, group=params.logsearch_solr_group, create_parents=True)
        solrCliFilename = format('{solr_client_dir}/solrCloudCli.sh')
        File(solrCliFilename, mode=493, group=params.logsearch_solr_group, owner=params.logsearch_solr_user, content=StaticFile(solrCliFilename))
        File(format('{solr_client_dir}/log4j.properties'), content=InlineTemplate(params.solr_client_log4j_content), owner=params.logsearch_solr_user)
        File(params.logsearch_solr_client_log, mode=420, owner=params.logsearch_solr_user, group=params.logsearch_solr_group, content='')
    else:
        raise Fail('Nor client or server were selected to install.')
