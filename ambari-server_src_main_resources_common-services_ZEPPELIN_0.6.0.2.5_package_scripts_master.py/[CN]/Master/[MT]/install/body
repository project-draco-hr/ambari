def install(self, env):
    import params
    env.set_params(params)
    Execute(('chmod a+x ' + os.path.join(params.service_packagedir, 'scripts/setup_snapshot.sh')))
    self.install_packages(env)
    Directory([params.zeppelin_pid_dir, params.zeppelin_dir], owner=params.zeppelin_user, group=params.zeppelin_group, cd_access='a', mode=493)
    Execute(((((('echo spark_version:' + params.spark_version) + ' detected for spark_home: ') + params.spark_home) + ' >> ') + params.zeppelin_log_file), user=params.zeppelin_user)
    self.configure(env)
    Execute(format('{service_packagedir}/scripts/setup_snapshot.sh {zeppelin_dir} {hive_metastore_host} {hive_metastore_port} {hive_server_port} {zeppelin_host} {zeppelin_port} {setup_view} {service_packagedir} {java64_home} >> {zeppelin_log_file}'), user=params.zeppelin_user)
