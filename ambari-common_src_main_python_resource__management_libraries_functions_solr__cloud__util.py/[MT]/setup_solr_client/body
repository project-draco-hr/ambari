def setup_solr_client(config, user=None, group=None, custom_log4j=True, custom_log_location=None, log4jcontent=None):
    solr_user = (config['configurations']['logsearch-solr-env']['logsearch_solr_user'] if (user is None) else user)
    solr_group = (config['configurations']['cluster-env']['user_group'] if (group is None) else group)
    solr_client_dir = '/usr/lib/ambari-logsearch-solr-client'
    solr_client_log_dir = (default('/configurations/logsearch-solr-env/logsearch_solr_client_log_dir', '/var/log/ambari-logsearch-solr-client') if (custom_log_location is None) else custom_log_location)
    solr_client_log = format('{solr_client_log_dir}/solr-client.log')
    Directory(solr_client_log_dir, mode=493, cd_access='a', owner=solr_user, group=solr_group, create_parents=True)
    Directory(solr_client_dir, mode=493, cd_access='a', owner=solr_user, group=solr_group, create_parents=True, recursive_ownership=True)
    solrCliFilename = format('{solr_client_dir}/solrCloudCli.sh')
    File(solrCliFilename, mode=493, owner=solr_user, group=solr_group, content=StaticFile(solrCliFilename))
    if custom_log4j:
        solr_client_log4j_content = (config['configurations']['logsearch-solr-client-log4j']['content'] if (log4jcontent is None) else log4jcontent)
        File(format('{solr_client_dir}/log4j.properties'), content=InlineTemplate(solr_client_log4j_content), owner=solr_user, group=solr_group, mode=420)
    else:
        File(format('{solr_client_dir}/log4j.properties'), owner=solr_user, group=solr_group, mode=420)
    File(solr_client_log, mode=436, owner=solr_user, group=solr_group, content='')
