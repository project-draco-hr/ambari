{
  componentName=httpsEnabled ? componentName + "-HTTPS" : componentName;
  if (componentName.equals("NAMENODE")) {
    if (properties.containsKey("dfs.nameservices")) {
      for (      String nameserviceId : ((String)properties.get("dfs.nameservices")).split(",")) {
        String haComponentName=componentName + "-HA";
        if (properties.containsKey("dfs.ha.namenodes." + nameserviceId)) {
          for (          String namenodeId : ((String)properties.get("dfs.ha.namenodes." + nameserviceId)).split(",")) {
            String propertyName=String.format(serviceDesiredProperties.get(service).get(haComponentName)[0],nameserviceId,namenodeId);
            if (properties.containsKey(propertyName)) {
              String propertyValue=(String)properties.get(propertyName);
              if (propertyValue.split(":")[0].equals(hostName)) {
                return new String[]{propertyName};
              }
            }
          }
        }
      }
    }
  }
  return serviceDesiredProperties.get(service).get(componentName);
}
