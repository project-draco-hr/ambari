{
  ResourceProvider serviceResourceProvider=getResourceProvider(Resource.Type.Service);
  Predicate basePredicate=new PredicateBuilder().property(ServiceResourceProvider.SERVICE_CLUSTER_NAME_PROPERTY_ID).equals(clusterName).and().property(ServiceResourceProvider.SERVICE_SERVICE_NAME_PROPERTY_ID).equals(serviceName).toPredicate();
  Set<Resource> serviceResource=null;
  try {
    serviceResource=serviceResourceProvider.getResources(PropertyHelper.getReadRequest(ServiceResourceProvider.SERVICE_CLUSTER_NAME_PROPERTY_ID,ServiceResourceProvider.SERVICE_SERVICE_NAME_PROPERTY_ID,ServiceResourceProvider.SERVICE_DESIRED_CONFIGS_PROPERTY_ID),basePredicate);
  }
 catch (  NoSuchResourceException e) {
    LOG.error("Resource for the desired config not found. " + e);
  }
  String versionTag="version1";
  if (serviceResource != null) {
    for (    Resource res : serviceResource) {
      Map<String,String> configs=(Map<String,String>)res.getPropertyValue(ServiceResourceProvider.SERVICE_DESIRED_CONFIGS_PROPERTY_ID);
      if (configs != null) {
        versionTag=configs.get(configType);
      }
    }
  }
  return versionTag;
}
