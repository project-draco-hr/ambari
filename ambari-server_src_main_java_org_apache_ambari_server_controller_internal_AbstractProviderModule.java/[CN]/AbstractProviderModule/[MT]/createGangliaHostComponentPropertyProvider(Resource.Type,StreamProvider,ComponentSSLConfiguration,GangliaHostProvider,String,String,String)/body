{
  updateClusterVersion();
  Map<PropertyHelper.MetricsVersion,AbstractPropertyProvider> providers=new HashMap<PropertyHelper.MetricsVersion,AbstractPropertyProvider>();
  AbstractPropertyProvider lastProvider=null;
  for (  PropertyHelper.MetricsVersion version : PropertyHelper.MetricsVersion.values()) {
    lastProvider=new GangliaHostComponentPropertyProvider(PropertyHelper.getGangliaPropertyIds(type,version),streamProvider,configuration,hostProvider,clusterNamePropertyId,hostNamePropertyId,componentNamePropertyId);
    providers.put(version,lastProvider);
  }
  return new VersioningPropertyProvider(clusterVersionsMap,providers,lastProvider,clusterNamePropertyId);
}
