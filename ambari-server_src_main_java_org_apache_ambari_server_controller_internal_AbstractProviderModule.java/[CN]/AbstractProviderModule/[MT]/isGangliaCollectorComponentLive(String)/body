{
  ServiceComponentHostResponse gangliaCollectorHostComponent;
  try {
    final String gangliaCollectorHostName=getGangliaCollectorHostName(clusterName);
    ServiceComponentHostRequest componentRequest=new ServiceComponentHostRequest(clusterName,"GANGLIA",Role.GANGLIA_SERVER.name(),gangliaCollectorHostName,Collections.<String,String>emptyMap(),null);
    Set<ServiceComponentHostResponse> hostComponents=managementController.getHostComponents(Collections.singleton(componentRequest));
    gangliaCollectorHostComponent=(ServiceComponentHostResponse)CollectionUtils.find(hostComponents,new org.apache.commons.collections.Predicate(){
      @Override public boolean evaluate(      Object arg0){
        return ((ServiceComponentHostResponse)arg0).getHostname().equals(gangliaCollectorHostName);
      }
    }
);
  }
 catch (  AmbariException e) {
    LOG.debug("Error checking of Ganglia server host component state: ",e);
    return false;
  }
  return gangliaCollectorHostComponent != null && gangliaCollectorHostComponent.getLiveState().equals(State.STARTED.name());
}
