{
  updateClusterVersion();
  Map<PropertyHelper.MetricsVersion,AbstractPropertyProvider> providers=new HashMap<PropertyHelper.MetricsVersion,AbstractPropertyProvider>();
  for (  PropertyHelper.MetricsVersion version : PropertyHelper.MetricsVersion.values()) {
    providers.put(version,new GangliaHostComponentPropertyProvider(PropertyHelper.getGangliaPropertyIds(type,version),streamProvider,hostProvider,clusterNamePropertyId,hostNamePropertyId,componentNamePropertyId));
  }
  return new VersioningPropertyProvider(clusterVersionsMap,providers,clusterNamePropertyId);
}
