{
  for (  PropertyId propertyId : ids) {
    String metricName=metrics.get(propertyId);
    if (metricName != null) {
      boolean temporal=propertyId.isTemporal();
      String spec=getSpec(clusterName,gangliaClusterName,hostName == null ? null : PropertyHelper.fixHostName(hostName),metricName,temporal ? request.getTemporalInfo(propertyId) : null,false);
      try {
        List<GangliaMetric> properties=new ObjectMapper().readValue(streamProvider.readFrom(spec),new TypeReference<List<GangliaMetric>>(){
        }
);
        if (properties != null) {
          resource.setProperty(propertyId,getValue(properties.get(0),temporal));
        }
      }
 catch (      IOException e) {
      }
    }
  }
  return true;
}
