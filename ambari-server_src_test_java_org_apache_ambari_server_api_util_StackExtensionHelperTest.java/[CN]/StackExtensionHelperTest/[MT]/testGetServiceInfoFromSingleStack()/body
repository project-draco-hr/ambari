{
  File stackRoot=new File("./src/test/resources/single_stack".replace("/",File.separator));
  StackExtensionHelper helper=new StackExtensionHelper(injector,stackRoot);
  helper.fillInfo();
  List<StackInfo> stackInfoList=helper.getAllAvailableStacks();
  assertEquals(1,stackInfoList.size());
  List<ServiceInfo> serviceInfoList=helper.getAllApplicableServices(stackInfoList.get(0));
  for (  ServiceInfo serviceInfo : serviceInfoList) {
    if ("HDFS".equalsIgnoreCase(serviceInfo.getName())) {
      ActionMetadata actionMetadata=injector.getInstance(ActionMetadata.class);
      String hdfsStatusCheckCmd=actionMetadata.getServiceCheckAction("HDFS");
      assertEquals("HDFS_SERVICE_CHECK",hdfsStatusCheckCmd);
      break;
    }
  }
}
