{
  StackExtensionHelper helper=getStackExtensionHelper();
  ServiceInfo serviceInfo=getServiceFromStack(helper,"HDP","2.0.7","HDFS");
  Map<String,Map<String,Map<String,String>>> expectedConfigTypes=new HashMap<String,Map<String,Map<String,String>>>();
  addToPropertyMap(expectedConfigTypes,"global",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.FINAL.getPropertyName(),"true");
  addToPropertyMap(expectedConfigTypes,"global",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.ADDING_FORBIDDEN.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"global",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.DO_NOT_EXTEND.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"hdfs-site",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.FINAL.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"hdfs-site",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.ADDING_FORBIDDEN.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"hdfs-site",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.DO_NOT_EXTEND.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"hadoop-policy",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.FINAL.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"hadoop-policy",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.ADDING_FORBIDDEN.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"hadoop-policy",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.DO_NOT_EXTEND.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"core-site",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.FINAL.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"core-site",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.ADDING_FORBIDDEN.getPropertyName(),"false");
  addToPropertyMap(expectedConfigTypes,"core-site",StackExtensionHelper.Supports.KEYWORD,StackExtensionHelper.Supports.DO_NOT_EXTEND.getPropertyName(),"false");
  Map<String,Map<String,Map<String,String>>> configTypes=serviceInfo.getConfigTypes();
  assertEquals(4,configTypes.size());
  assertEquals(expectedConfigTypes,configTypes);
}
