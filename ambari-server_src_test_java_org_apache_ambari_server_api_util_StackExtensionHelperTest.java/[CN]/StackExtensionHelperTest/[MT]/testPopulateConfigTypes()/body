{
  File stackRoot=new File(stackRootStr);
  StackExtensionHelper helper=new StackExtensionHelper(injector,stackRoot);
  List<String> configDependencies=Arrays.asList("dep1","dep2");
  ServiceInfo serviceInfo=new ServiceInfo();
  serviceInfo.setConfigDependencies(configDependencies);
  helper.populateConfigTypesFromDependencies(serviceInfo);
  Map<String,Map<String,Map<String,String>>> configTypes=serviceInfo.getConfigTypes();
  assertEquals(2,configTypes.size());
  assertTrue(configTypes.containsKey("dep1"));
  assertTrue(configTypes.containsKey("dep2"));
  Map<String,Map<String,String>> properties;
  properties=configTypes.get("dep1");
  assertEquals(1,properties.size());
  assertTrue(properties.containsKey("supports"));
  assertEquals(1,properties.get("supports").size());
  assertTrue(properties.get("supports").containsKey("final"));
  assertEquals("false",properties.get("supports").get("final"));
  properties=configTypes.get("dep2");
  assertEquals(1,properties.size());
  assertTrue(properties.containsKey("supports"));
  assertEquals(1,properties.get("supports").size());
  assertTrue(properties.get("supports").containsKey("final"));
  assertEquals("false",properties.get("supports").get("final"));
}
