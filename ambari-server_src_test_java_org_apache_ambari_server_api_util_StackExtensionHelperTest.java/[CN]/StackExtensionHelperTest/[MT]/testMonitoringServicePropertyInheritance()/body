{
  File stackRoot=new File(stackRootStr);
  StackInfo stackInfo=new StackInfo();
  stackInfo.setName("HDP");
  stackInfo.setVersion("2.0.7");
  StackExtensionHelper helper=new StackExtensionHelper(injector,stackRoot);
  helper.populateServicesForStack(stackInfo);
  helper.fillInfo();
  List<ServiceInfo> allServices=helper.getAllApplicableServices(stackInfo);
  assertEquals(13,allServices.size());
  for (  ServiceInfo serviceInfo : allServices) {
    if (serviceInfo.getName().equals("NAGIOS")) {
      assertTrue(serviceInfo.isMonitoringService());
    }
 else {
      assertNull(serviceInfo.isMonitoringService());
    }
  }
}
