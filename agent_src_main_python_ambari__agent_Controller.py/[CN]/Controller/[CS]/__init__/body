def __init__(self, config):
    threading.Thread.__init__(self)
    logger.debug('Initializing Controller RPC thread.')
    self.lock = threading.Lock()
    self.safeMode = True
    self.credential = None
    self.config = config
    if ((config.get('controller', 'user') != None) and (config.get('controller', 'password') != None)):
        self.credential = {'user': config.get('controller', 'user'), 'password': config.get('controller', 'password'), }
    self.url = ((config.get('controller', 'url') + '/agent/controller/heartbeat/') + socket.gethostname())
