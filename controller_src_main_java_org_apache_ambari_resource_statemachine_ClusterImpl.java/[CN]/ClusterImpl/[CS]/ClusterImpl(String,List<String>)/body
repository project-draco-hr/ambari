{
  this.clusterName=name;
  ReadWriteLock readWriteLock=new ReentrantReadWriteLock();
  this.readLock=readWriteLock.readLock();
  this.writeLock=readWriteLock.writeLock();
  this.stateMachine=stateMachineFactory.make(this);
  List<Service> serviceImpls=new ArrayList<Service>();
  for (  String service : services) {
    ServiceImpl serviceImpl=new ServiceImpl(this,service);
    serviceImpls.add(serviceImpl);
  }
  this.services=serviceImpls;
}
