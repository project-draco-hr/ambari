{
  Unmarshaller um;
  try {
    um=jaxbContext.createUnmarshaller();
    Component component=(Component)um.unmarshal(in);
    provides=component.provides;
    int i=0;
    if (component.requires == null) {
      dependencies=new String[0];
    }
 else {
      dependencies=new String[component.requires.size()];
      for (      Requires r : component.requires) {
        dependencies[i++]=r.name;
      }
    }
    i=0;
    if (component.roles == null) {
      roles=new String[0];
    }
 else {
      roles=new String[component.roles.size()];
      for (      Role r : component.roles) {
        roles[i++]=r.name;
      }
    }
    startCommand=getCommand(component.start);
    checkCommand=getCommand(component.check);
    prestartCommand=getCommand(component.prestart);
    if (component.check != null) {
      checkRole=component.check.runOn;
    }
 else {
      checkRole=null;
    }
    if (component.prestart != null) {
      prestartRole=component.prestart.runOn;
    }
 else {
      prestartRole=null;
    }
  }
 catch (  JAXBException e) {
    throw new IOException("Problem parsing component defintion",e);
  }
}
