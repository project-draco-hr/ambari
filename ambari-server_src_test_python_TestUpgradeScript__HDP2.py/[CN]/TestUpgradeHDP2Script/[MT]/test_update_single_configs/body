@patch.object(UpgradeHelper_HDP2, 'update_config_using_existing')
@patch.object(UpgradeHelper_HDP2, 'read_mapping')
@patch.object(logging, 'FileHandler')
@patch.object(UpgradeHelper_HDP2, 'backup_file')
@patch.object(UpgradeHelper_HDP2, 'curl')
@patch('optparse.OptionParser')
def test_update_single_configs(self, option_parser_mock, curl_mock, backup_file_mock, file_handler_mock, read_mapping_mock, update_config_mock):
    file_handler_mock.return_value = logging.FileHandler('')
    opm = option_parser_mock.return_value
    options = MagicMock()
    args = ['update-configs', 'hdfs-site']
    opm.parse_args.return_value = (options, args)
    curl_mock.side_effect = ['', '', '', '', '', '', '']
    read_mapping_mock.return_value = {'JOBTRACKER': ['c6401'], }
    update_config_mock.side_effect = [None]
    UpgradeHelper_HDP2.main()
    self.assertTrue((update_config_mock.call_count == 1))
    pass
