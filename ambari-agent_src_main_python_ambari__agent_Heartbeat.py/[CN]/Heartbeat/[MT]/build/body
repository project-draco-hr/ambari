def build(self, id='-1', state_interval=(-1)):
    global clusterId, clusterDefinitionRevision, firstContact
    timestamp = int((time.time() * 1000))
    queueResult = self.actionQueue.result()
    nodeStatus = {'status': 'HEALTHY', 'cause': 'NONE', }
    heartbeat = {'responseId': int(id), 'timestamp': timestamp, 'hostname': hostname.hostname(), 'nodeStatus': nodeStatus, }
    if ((int(id) >= 0) and (state_interval > 0) and ((int(id) % state_interval) == 0)):
        hostInfo = HostInfo()
        nodeInfo = {}
        hostInfo.register(nodeInfo)
        heartbeat['agentEnv'] = nodeInfo
    if (len(queueResult) != 0):
        heartbeat['reports'] = queueResult['reports']
        heartbeat['componentStatus'] = queueResult['componentStatus']
        pass
    logger.info(('Heartbeat dump: ' + pformat(heartbeat)))
    return heartbeat
