{
  String dStateStr=null;
  if (desiredState != null) {
    dStateStr=desiredState.toString();
  }
  ServiceComponentHostRequest r=new ServiceComponentHostRequest(clusterName,serviceName,componentName,hostname,null,dStateStr);
  Set<ServiceComponentHostRequest> requests=new HashSet<ServiceComponentHostRequest>();
  requests.add(r);
  controller.createHostComponents(requests);
  try {
    controller.createHostComponents(requests);
    fail("Duplicate ServiceComponentHost creation should fail");
  }
 catch (  Exception e) {
  }
}
