{
  Map<HostGroupImpl,HostGroupImpl> mapHostGroups=new HashMap<HostGroupImpl,HostGroupImpl>();
  int count=1;
  for (  TreeNode<Resource> host : hostNode.getChildren()) {
    HostGroupImpl group=new HostGroupImpl(host);
    String hostName=(String)host.getObject().getPropertyValue(PropertyHelper.getPropertyId("Hosts","host_name"));
    if (mapHostGroups.containsKey(group)) {
      HostGroupImpl hostGroup=mapHostGroups.get(group);
      hostGroup.incrementCardinality();
      hostGroup.addHost(hostName);
    }
 else {
      mapHostGroups.put(group,group);
      group.setName("host_group_" + count++);
      group.addHost(hostName);
    }
  }
  return mapHostGroups.values();
}
