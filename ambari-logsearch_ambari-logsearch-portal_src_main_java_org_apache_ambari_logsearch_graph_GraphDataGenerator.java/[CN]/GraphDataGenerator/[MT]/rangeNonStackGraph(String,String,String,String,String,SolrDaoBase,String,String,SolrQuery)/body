{
  VBarDataList dataList=new VBarDataList();
  Collection<VBarGraphData> vBarGraphDatas=new ArrayList<VBarGraphData>();
  VBarGraphData vBarGraphData=new VBarGraphData();
  Collection<VNameValue> vNameValues=new ArrayList<VNameValue>();
  SolrUtil.setMainQuery(solrQuery,null);
  if (SolrUtil.isSolrFieldNumber(typeXAxis,solrDaoBase)) {
    queryGenerator.setSingleRangeFilter(solrQuery,fieldTime,from,to);
    return normalGraph(xAxisField,yAxisField,from,to,solrDaoBase,typeXAxis,fieldTime,solrQuery);
  }
 else {
    try {
      SolrUtil.setFacetRange(solrQuery,xAxisField,from,to,unit);
      QueryResponse response=solrDaoBase.process(solrQuery);
      if (response != null) {
        Long count=response.getResults().getNumFound();
        if (count > 0) {
          @SuppressWarnings("rawtypes") List<RangeFacet> rangeFacet=response.getFacetRanges();
          if (rangeFacet != null && rangeFacet.size() > 0) {
            List<RangeFacet.Count> listCount=rangeFacet.get(0).getCounts();
            if (listCount != null) {
              for (              RangeFacet.Count cnt : listCount) {
                VNameValue vNameValue=new VNameValue();
                vNameValue.setName(cnt.getValue());
                vNameValue.setValue("" + cnt.getCount());
                vNameValues.add(vNameValue);
              }
              vBarGraphData.setDataCounts(vNameValues);
              vBarGraphDatas.add(vBarGraphData);
              vBarGraphData.setName(xAxisField);
              dataList.setGraphData(vBarGraphDatas);
            }
          }
        }
      }
      return dataList;
    }
 catch (    SolrException|SolrServerException|IOException e) {
      logger.error("Got exception for solr query :" + solrQuery,e.getCause());
    }
  }
  return null;
}
