{
  String xAxisField=(String)searchCriteria.getParamValue("xAxis");
  String stackField=(String)searchCriteria.getParamValue("stackBy");
  String from=(String)searchCriteria.getParamValue("from");
  String to=(String)searchCriteria.getParamValue("to");
  String unit=(String)searchCriteria.getParamValue("unit");
  String typeXAxis=solrDaoBase.schemaFieldNameMap.get(xAxisField);
  typeXAxis=(StringUtils.isBlank(typeXAxis)) ? "string" : typeXAxis;
  String yAxisField=(String)searchCriteria.getParamValue("yAxis");
  searchCriteria.addParam("type",typeXAxis);
  String fieldTime=(String)searchCriteria.getParamValue("fieldTime");
  GraphType garphType=getGraphType(searchCriteria);
switch (garphType) {
case NORMAL_GRAPH:
    return normalGraph(xAxisField,yAxisField,from,to,solrDaoBase,typeXAxis,fieldTime,solrQuery);
case RANGE_NON_STACK_GRAPH:
  return rangeNonStackGraph(xAxisField,yAxisField,from,to,unit,solrDaoBase,typeXAxis,fieldTime,solrQuery);
case NON_RANGE_STACK_GRAPH:
return nonRangeStackGraph(xAxisField,yAxisField,stackField,from,to,solrDaoBase,typeXAxis,fieldTime,solrQuery);
case RANGE_STACK_GRAPH:
return rangeStackGraph(xAxisField,stackField,from,to,unit,solrDaoBase,solrQuery);
default :
logger.warn("Invalid graph type :" + garphType.name());
return null;
}
}
