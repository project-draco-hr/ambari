{
  ViewEntity viewEntity=getDefinition(instanceEntity.getViewName());
  if (viewEntity != null) {
    String instanceName=instanceEntity.getName();
    String viewName=viewEntity.getCommonName();
    String version=viewEntity.getVersion();
    ViewInstanceEntity entity=getInstanceDefinition(viewName,version,instanceName);
    if (entity != null) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Updating view instance " + viewName + "/"+ version+ "/"+ instanceName);
      }
      entity.setLabel(instanceEntity.getLabel());
      entity.setProperties(instanceEntity.getProperties());
      entity.setData(instanceEntity.getData());
      instanceEntity.validate(viewEntity);
      instanceDAO.merge(entity);
    }
  }
}
