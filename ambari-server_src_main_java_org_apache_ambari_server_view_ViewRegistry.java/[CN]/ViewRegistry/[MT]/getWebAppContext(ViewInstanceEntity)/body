{
  try {
    ViewEntity viewDefinition=viewInstanceDefinition.getViewEntity();
    WebAppContext context=new WebAppContext(viewDefinition.getArchive(),viewInstanceDefinition.getContextPath());
    context.setClassLoader(viewDefinition.getClassLoader());
    context.setAttribute(ViewContext.CONTEXT_ATTRIBUTE,new ViewContextImpl(viewInstanceDefinition,this));
    return context;
  }
 catch (  Exception e) {
    throw new SystemException("Can't get application context for view " + viewInstanceDefinition.getViewEntity().getCommonName() + ".",e);
  }
}
