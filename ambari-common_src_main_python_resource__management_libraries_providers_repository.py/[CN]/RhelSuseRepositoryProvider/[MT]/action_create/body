def action_create(self):
    with Environment.get_instance_copy() as env:
        repo_file_name = self.resource.repo_file_name
        repo_dir = get_repo_dir()
        repo_template = os.path.join(os.path.dirname(os.path.realpath(__file__)), '..', REPO_TEMPLATE_FOLDER, self.resource.repo_template)
        new_content = Template(repo_template, repo_id=self.resource.repo_id, repo_file_name=self.resource.repo_file_name, base_url=self.resource.base_url, mirror_list=self.resource.mirror_list)
        repo_file_path = format('{repo_dir}/{repo_file_name}.repo')
        if (self.resource.append_to_file and os.path.isfile(repo_file_path)):
            with open(repo_file_path, 'a') as repo_file:
                repo_file.write(('\n' + new_content.get_content()))
        else:
            File(repo_file_path, content=new_content)
