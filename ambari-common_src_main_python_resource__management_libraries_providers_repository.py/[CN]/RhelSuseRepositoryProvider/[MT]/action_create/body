def action_create(self):
    with Environment.get_instance_copy() as env:
        repo_file_name = self.resource.repo_file_name
        repo_dir = repos_dirs[env.system.os_family]
        repo_template = self.resource.repo_template
        File(format('{repo_dir}/{repo_file_name}.repo'), content=Template(repo_template, repo_id=self.resource.repo_id, repo_file_name=self.resource.repo_file_name, base_url=self.resource.base_url, mirror_list=self.resource.mirror_list))
