{
  this.moduleInfo=moduleInfo;
  if (!moduleInfo.isDeleted() && themeFile != null) {
    LOG.debug("Looking for theme in {}",themeFile.getAbsolutePath());
    FileReader reader=null;
    try {
      reader=new FileReader(themeFile);
    }
 catch (    FileNotFoundException e) {
      LOG.error("Theme file not found");
    }
    try {
      TypeReference<HashMap<String,Object>> typeRef=new TypeReference<HashMap<String,Object>>(){
      }
;
      Map<String,Object> map=mapper.readValue(reader,typeRef);
      moduleInfo.setThemeMap(map);
      LOG.debug("Loaded theme: {}",moduleInfo);
    }
 catch (    IOException e) {
      LOG.error("Unable to parse theme file ",e);
      setValid(false);
      setErrors("Unable to parse theme file " + themeFile);
    }
  }
}
