{
  Resource.Type resourceType1=getResourceDefinition().getType();
  if (getIds().get(resourceType1) == null) {
    addCollectionProperties(resourceType1);
  }
  if (queryPropertySet.isEmpty() && querySubResourceSet.isEmpty()) {
    querySubResourceSet.putAll(ensureSubResources());
  }
  Resource.Type resourceType=getResourceDefinition().getType();
  Request request=createRequest();
  if (LOG.isDebugEnabled()) {
    LOG.debug("Executing resource query: " + request + " where "+ predicate);
  }
  return clusterController.getResources(resourceType,request,predicate);
}
