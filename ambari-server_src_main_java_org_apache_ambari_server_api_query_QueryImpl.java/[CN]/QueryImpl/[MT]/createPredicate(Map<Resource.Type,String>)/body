{
  Predicate predicate=null;
  Predicate internalPredicate=createInternalPredicate(keyValueMap);
  if (internalPredicate == null) {
    if (userPredicate != null) {
      predicate=userPredicate;
    }
  }
 else {
    predicate=(userPredicate == null ? internalPredicate : new AndPredicate(userPredicate,internalPredicate));
  }
  return predicate;
}
