{
  Map<String,String> requestInfoProperties=new HashMap<String,String>();
  PageInfo pageInfo=null;
  if (null != pageRequest) {
    pageInfo=new PageInfo(pageRequest);
  }
  SortInfo sortInfo=null;
  if (null != sortRequest) {
    sortInfo=new SortInfo(sortRequest);
  }
  if (pageRequest != null) {
    requestInfoProperties.put(BaseRequest.PAGE_SIZE_PROPERTY_KEY,Integer.toString(pageRequest.getPageSize() + pageRequest.getOffset()));
    requestInfoProperties.put(BaseRequest.ASC_ORDER_PROPERTY_KEY,Boolean.toString(pageRequest.getStartingPoint() == StartingPoint.Beginning || pageRequest.getStartingPoint() == StartingPoint.OffsetStart));
  }
  if (allProperties) {
    return PropertyHelper.getReadRequest(Collections.<String>emptySet(),requestInfoProperties,null,pageInfo,sortInfo);
  }
  Map<String,TemporalInfo> mapTemporalInfo=new HashMap<String,TemporalInfo>();
  TemporalInfo globalTemporalInfo=temporalInfoMap.get(null);
  Set<String> setProperties=new HashSet<String>();
  setProperties.addAll(requestedProperties);
  for (  String propertyId : setProperties) {
    TemporalInfo temporalInfo=temporalInfoMap.get(propertyId);
    if (temporalInfo != null) {
      mapTemporalInfo.put(propertyId,temporalInfo);
    }
 else     if (globalTemporalInfo != null) {
      mapTemporalInfo.put(propertyId,globalTemporalInfo);
    }
  }
  return PropertyHelper.getReadRequest(setProperties,requestInfoProperties,mapTemporalInfo,pageInfo,sortInfo);
}
