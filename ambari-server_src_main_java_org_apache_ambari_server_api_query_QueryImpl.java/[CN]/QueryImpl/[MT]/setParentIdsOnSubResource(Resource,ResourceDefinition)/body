{
  Map<Resource.Type,String> mapParentIds=m_resourceDefinition.getResourceIds();
  Map<Resource.Type,String> mapResourceIds=new HashMap<Resource.Type,String>(mapParentIds.size());
  for (  Map.Entry<Resource.Type,String> resourceIdEntry : mapParentIds.entrySet()) {
    Resource.Type type=resourceIdEntry.getKey();
    String value=resourceIdEntry.getValue();
    if (value == null) {
      Object o=resource.getPropertyValue(getClusterController().getSchema(type).getKeyPropertyId(type));
      value=o == null ? null : o.toString();
    }
    if (value != null) {
      mapResourceIds.put(type,value);
    }
  }
  r.setParentIds(mapResourceIds);
}
