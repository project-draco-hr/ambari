{
  if (predicate == null) {
    return null;
  }
  ProcessingPredicateVisitor visitor=new ProcessingPredicateVisitor(this);
  PredicateHelper.visit(predicate,visitor);
  Set<String> categories=visitor.getSubResourceCategories();
  for (  String category : categories) {
    addPropertyToSubResource(category,null);
  }
  subResourcePredicateProperties.addAll(visitor.getSubResourceProperties());
  return visitor.getProcessedPredicate();
}
