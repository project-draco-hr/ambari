{
  if (m_mapAllProperties.containsKey(path) && m_mapAllProperties.get(path).contains(property)) {
    Set<String> setProps=m_mapQueryProperties.get(path);
    if (setProps == null) {
      setProps=new HashSet<String>();
      m_mapQueryProperties.put(path,setProps);
    }
    setProps.add(property);
  }
 else   if (m_mapAllProperties.containsKey(property)) {
    Set<String> setProps=m_mapQueryProperties.get(property);
    if (setProps == null) {
      setProps=new HashSet<String>();
      m_mapQueryProperties.put(property,setProps);
    }
    setProps.addAll(m_mapAllProperties.get(property));
  }
 else {
    boolean success=addPropertyToSubResource(path,property);
    if (!success) {
      throw new RuntimeException("Attempted to add invalid property to resource.  Resource=" + m_resourceDefinition.getType() + ", Property: Category="+ path+ " Field="+ property);
    }
  }
}
