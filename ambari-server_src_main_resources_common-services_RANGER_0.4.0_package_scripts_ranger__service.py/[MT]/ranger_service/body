def ranger_service(name, action=None):
    import params
    if (name == 'ranger_admin'):
        no_op_test = format('ps -ef | grep proc_rangeradmin | grep -v grep')
        Execute(params.ranger_start, environment={'JAVA_HOME': params.java_home, }, user=params.unix_user, not_if=no_op_test)
    elif (name == 'ranger_usersync'):
        no_op_test = format('ps -ef | grep proc_rangerusersync | grep -v grep')
        if params.stack_is_hdp23_or_further:
            Execute(params.usersync_start, environment={'JAVA_HOME': params.java_home, }, not_if=no_op_test, user=params.unix_user)
        else:
            Execute((params.usersync_start,), environment={'JAVA_HOME': params.java_home, }, not_if=no_op_test, sudo=True)
