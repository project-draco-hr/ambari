{
  Set<Long> requestsToInvalidate=new LinkedHashSet<>();
  List<HostRoleCommandEntity> managedList=new ArrayList<HostRoleCommandEntity>(entities.size());
  for (  HostRoleCommandEntity entity : entities) {
    EntityManager entityManager=entityManagerProvider.get();
    entity=entityManager.merge(entity);
    managedList.add(entity);
    requestsToInvalidate.add(entity.getRequestId());
  }
  invalidateHostRoleCommandStatusSummaryCache(requestsToInvalidate);
  return managedList;
}
