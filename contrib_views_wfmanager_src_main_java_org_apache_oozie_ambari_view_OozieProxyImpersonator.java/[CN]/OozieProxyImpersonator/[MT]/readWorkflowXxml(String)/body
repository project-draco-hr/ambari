{
  if (StringUtils.isEmpty(workflowPath)) {
    throw new RuntimeException("workflowXmlPath can't be empty.");
  }
  try {
    final FSDataInputStream is=getHdfsgetApi().open(workflowPath);
    StreamingOutput streamer=new StreamingOutput(){
      @Override public void write(      OutputStream os) throws IOException, WebApplicationException {
        IOUtils.copy(is,os);
        is.close();
        os.close();
      }
    }
;
    return Response.ok(streamer).status(200).build();
  }
 catch (  org.apache.hadoop.security.AccessControlException ace) {
    HashMap<String,String> resp=new HashMap<String,String>();
    resp.put("status","workflow.oozie.error");
    resp.put("message","Access denied to file path");
    return Response.status(Response.Status.FORBIDDEN).entity(resp).build();
  }
catch (  IOException e) {
    LOGGER.error("Error in read worfklow file",e);
    throw new RuntimeException(e);
  }
catch (  InterruptedException e) {
    LOGGER.error("Error in read worfklow file",e);
    throw new RuntimeException(e);
  }
}
