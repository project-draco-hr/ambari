{
  Request request=PropertyHelper.getReadRequest(AlertTargetResourceProvider.ALERT_TARGET_DESCRIPTION,AlertTargetResourceProvider.ALERT_TARGET_ID,AlertTargetResourceProvider.ALERT_TARGET_NAME,AlertTargetResourceProvider.ALERT_TARGET_NOTIFICATION_TYPE);
  expect(m_dao.findAllTargets()).andReturn(getMockEntities());
  replay(m_dao);
  AmbariManagementController amc=createMock(AmbariManagementController.class);
  AlertTargetResourceProvider provider=createProvider(amc);
  Set<Resource> results=provider.getResources(request,null);
  assertEquals(1,results.size());
  Resource r=results.iterator().next();
  Assert.assertEquals(ALERT_TARGET_NAME,r.getPropertyValue(AlertTargetResourceProvider.ALERT_TARGET_NAME));
  verify(m_dao);
}
