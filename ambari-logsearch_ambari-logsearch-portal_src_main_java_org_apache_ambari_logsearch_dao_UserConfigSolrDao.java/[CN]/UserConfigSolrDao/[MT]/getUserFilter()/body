{
  SolrQuery solrQuery=new SolrQuery();
  solrQuery.setQuery("*:*");
  String fq=ROW_TYPE + ":" + LogSearchConstants.LOGFEEDER_FILTER_NAME;
  solrQuery.setFilterQueries(fq);
  QueryResponse response=process(solrQuery);
  SolrDocumentList documentList=response.getResults();
  LogFeederDataMap logfeederDataMap=null;
  if (!CollectionUtils.isEmpty(documentList)) {
    SolrDocument configDoc=documentList.get(0);
    String configJson=JSONUtil.objToJson(configDoc);
    HashMap<String,Object> configMap=JSONUtil.jsonToMapObject(configJson);
    String json=(String)configMap.get(VALUES);
    logfeederDataMap=(LogFeederDataMap)JSONUtil.jsonToObj(json,LogFeederDataMap.class);
    logfeederDataMap.setId("" + configDoc.get(ID));
  }
 else {
    List<String> logfeederDefaultLevels=solrUserConfig.getLogLevels();
    JSONArray levelJsonArray=new JSONArray(logfeederDefaultLevels);
    String hadoopServiceString=getHadoopServiceConfigJSON();
    String key=null;
    JSONArray componentArray=null;
    try {
      JSONObject componentList=new JSONObject();
      JSONObject jsonValue=new JSONObject();
      JSONObject hadoopServiceJsonObject=new JSONObject(hadoopServiceString).getJSONObject("service");
      Iterator<String> hadoopSerivceKeys=hadoopServiceJsonObject.keys();
      while (hadoopSerivceKeys.hasNext()) {
        key=hadoopSerivceKeys.next();
        componentArray=hadoopServiceJsonObject.getJSONObject(key).getJSONArray("components");
        for (int i=0; i < componentArray.length(); i++) {
          JSONObject compJsonObject=(JSONObject)componentArray.get(i);
          String componentName=compJsonObject.getString("name");
          JSONObject innerContent=new JSONObject();
          innerContent.put("label",componentName);
          innerContent.put("hosts",new JSONArray());
          innerContent.put("defaultLevels",levelJsonArray);
          componentList.put(componentName,innerContent);
        }
      }
      jsonValue.put("filter",componentList);
      logfeederDataMap=(LogFeederDataMap)JSONUtil.jsonToObj(jsonValue.toString(),LogFeederDataMap.class);
      logfeederDataMap.setId("" + new Date().getTime());
      saveUserFilter(logfeederDataMap);
    }
 catch (    JsonParseException|JSONException je) {
      LOG.error("Error parsing JSON. key=" + key + ", componentArray="+ componentArray,je);
      logfeederDataMap=new LogFeederDataMap();
    }
  }
  return logfeederDataMap;
}
