{
  try {
    Class.forName(driver);
  }
 catch (  ClassNotFoundException e) {
    System.err.println("Can't load driver - " + driver);
    throw new RuntimeException("Can't load driver - " + driver);
  }
  this.database=database;
  this.user=(user == null) ? "" : user;
  this.password=(password == null) ? "" : password;
  try {
    this.connection=DriverManager.getConnection(this.database,this.user,this.password);
  }
 catch (  SQLException sqle) {
    throw new IOException("Can't connect to database " + this.database,sqle);
  }
  this.updateProvider=updateProvider;
  this.updateProvider.init(this.connection);
}
