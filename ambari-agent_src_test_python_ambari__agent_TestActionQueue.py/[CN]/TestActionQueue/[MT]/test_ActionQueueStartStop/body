@patch.object(ActionQueue, 'process_command')
@patch.object(Queue, 'get')
def test_ActionQueueStartStop(self, get_mock, process_command_mock):
    actionQueue = ActionQueue(AmbariConfig().getConfig(), 'dummy_controller')
    actionQueue.start()
    time.sleep(0.1)
    actionQueue.stop()
    actionQueue.join()
    self.assertEqual(actionQueue.stopped(), True, 'Action queue is not stopped.')
    self.assertTrue((process_command_mock.call_count > 1))
