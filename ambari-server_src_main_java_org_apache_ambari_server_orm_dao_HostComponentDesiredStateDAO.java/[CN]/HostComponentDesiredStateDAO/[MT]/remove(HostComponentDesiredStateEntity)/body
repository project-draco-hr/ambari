{
  HostEntity hostEntity=hostDAO.findById(hostComponentDesiredStateEntity.getHostId());
  if (hostEntity == null) {
    throw new IllegalStateException(String.format("Missing hostEntity for host id %1d",hostComponentDesiredStateEntity.getHostId()));
  }
  entityManagerProvider.get().remove(merge(hostComponentDesiredStateEntity));
  hostEntity.removeHostComponentDesiredStateEntity(hostComponentDesiredStateEntity);
  hostDAO.merge(hostEntity);
}
