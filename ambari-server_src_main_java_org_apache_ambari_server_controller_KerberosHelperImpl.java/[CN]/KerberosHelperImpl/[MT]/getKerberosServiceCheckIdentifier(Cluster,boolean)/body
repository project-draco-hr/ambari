{
  Map<String,Object> sessionAttributes=cluster.getSessionAttributes();
  Object value=(sessionAttributes == null) ? null : sessionAttributes.get(SERVICE_CHECK_IDENTIFIER);
  String serviceCheckIdentifier=(value instanceof String) ? (String)value : null;
  if ((serviceCheckIdentifier == null) && createIfNull) {
    Random random=new Random(System.currentTimeMillis());
    char[] chars=new char[8];
    for (int i=0; i < 8; i++) {
      chars[i]=(char)((int)'a' + random.nextInt(26));
    }
    serviceCheckIdentifier=String.valueOf(chars);
    setKerberosServiceCheckIdentifier(cluster,serviceCheckIdentifier);
  }
  return serviceCheckIdentifier;
}
