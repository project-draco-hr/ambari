{
  assertEquals(BLUEPRINT_NAME,resource.getPropertyValue(BlueprintResourceProvider.BLUEPRINT_NAME_PROPERTY_ID));
  assertEquals("test-stack-name",resource.getPropertyValue(BlueprintResourceProvider.STACK_NAME_PROPERTY_ID));
  assertEquals("test-stack-version",resource.getPropertyValue(BlueprintResourceProvider.STACK_VERSION_PROPERTY_ID));
  Collection<Map<String,Object>> hostGroupProperties=(Collection<Map<String,Object>>)resource.getPropertyValue(BlueprintResourceProvider.HOST_GROUP_PROPERTY_ID);
  assertEquals(2,hostGroupProperties.size());
  for (  Map<String,Object> hostGroupProps : hostGroupProperties) {
    String name=(String)hostGroupProps.get(BlueprintResourceProvider.HOST_GROUP_NAME_PROPERTY_ID);
    assertTrue(name.equals("group1") || name.equals("group2"));
    List<Map<String,String>> listComponents=(List<Map<String,String>>)hostGroupProps.get(BlueprintResourceProvider.COMPONENT_PROPERTY_ID);
    if (name.equals("group1")) {
      assertEquals("1",hostGroupProps.get(BlueprintResourceProvider.HOST_GROUP_CARDINALITY_PROPERTY_ID));
      assertEquals(2,listComponents.size());
      Map<String,String> mapComponent=listComponents.get(0);
      String componentName=mapComponent.get(BlueprintResourceProvider.COMPONENT_NAME_PROPERTY_ID);
      assertTrue(componentName.equals("component1") || componentName.equals("component2"));
      mapComponent=listComponents.get(1);
      String componentName2=mapComponent.get(BlueprintResourceProvider.COMPONENT_NAME_PROPERTY_ID);
      assertFalse(componentName2.equals(componentName));
      assertTrue(componentName2.equals("component1") || componentName2.equals("component2"));
    }
 else     if (name.equals("group2")) {
      assertEquals("2",hostGroupProps.get(BlueprintResourceProvider.HOST_GROUP_CARDINALITY_PROPERTY_ID));
      assertEquals(1,listComponents.size());
      Map<String,String> mapComponent=listComponents.get(0);
      String componentName=mapComponent.get(BlueprintResourceProvider.COMPONENT_NAME_PROPERTY_ID);
      assertEquals("component1",componentName);
    }
 else {
      fail("Unexpected host group name");
    }
  }
}
