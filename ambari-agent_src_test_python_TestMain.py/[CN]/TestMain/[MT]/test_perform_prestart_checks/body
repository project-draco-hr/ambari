@patch('sys.exit')
@patch('os.path.isfile')
@patch('os.path.isdir')
def test_perform_prestart_checks(self, isdir_mock, isfile_mock, exit_mock):
    main.config = AmbariConfig().getConfig()
    isfile_mock.return_value = True
    isdir_mock.return_value = True
    main.perform_prestart_checks()
    self.assertTrue(exit_mock.called)
    isfile_mock.reset_mock()
    isdir_mock.reset_mock()
    exit_mock.reset_mock()
    isfile_mock.return_value = False
    isdir_mock.return_value = False
    main.perform_prestart_checks()
    self.assertTrue(exit_mock.called)
    isfile_mock.reset_mock()
    isdir_mock.reset_mock()
    exit_mock.reset_mock()
    isfile_mock.return_value = False
    isdir_mock.return_value = True
    main.perform_prestart_checks()
    self.assertFalse(exit_mock.called)
