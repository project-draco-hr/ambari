def storm():
    import params
    Directory([params.log_dir, params.pid_dir, params.local_dir, params.conf_dir], owner=params.storm_user, group=params.user_group, recursive=True)
    File(format('{conf_dir}/config.yaml'), content=Template('config.yaml.j2'), owner=params.storm_user, group=params.user_group)
    configurations = params.config['configurations']['storm-site']
    File(format('{conf_dir}/storm.yaml'), content=Template('storm.yaml.j2', extra_imports=[escape_yaml_propetry], configurations=configurations), owner=params.storm_user, group=params.user_group)
    File(format('{conf_dir}/storm-env.sh'), owner=params.storm_user, content=InlineTemplate(params.storm_env_sh_template))
    if params.security_enabled:
        TemplateConfig(format('{conf_dir}/storm_jaas.conf'), owner=params.storm_user)
