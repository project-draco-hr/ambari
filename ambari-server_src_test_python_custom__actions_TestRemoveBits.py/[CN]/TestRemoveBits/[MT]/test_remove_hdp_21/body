def test_remove_hdp_21(self):
    self.executeScript('scripts/remove_bits.py', classname='RemoveBits', command='remove_hdp_21', config_file='install_packages_config.json', target=RMFTestCase.TARGET_CUSTOM_ACTIONS, os_type=('Redhat', '6.4', 'Final'))
    self.assertResourceCalled('Package', 'phoenix', action=['remove'])
    self.assertResourceCalled('Package', 'hbase', action=['remove'])
    self.assertResourceCalled('Package', 'flume', action=['remove'])
    self.assertResourceCalled('Package', 'storm', action=['remove'])
    self.assertResourceCalled('Package', 'tezfalcon', action=['remove'])
    self.assertResourceCalled('Package', 'sqoop', action=['remove'])
    self.assertResourceCalled('Package', 'pig', action=['remove'])
    self.assertResourceCalled('Package', 'oozie-client', action=['remove'])
    self.assertResourceCalled('Package', 'oozie', action=['remove'])
    self.assertResourceCalled('Package', 'webhcat-tar-pig', action=['remove'])
    self.assertResourceCalled('Package', 'webhcat-tar-hive', action=['remove'])
    self.assertResourceCalled('Package', 'hcatalog', action=['remove'])
    self.assertResourceCalled('Package', 'hive-webhcat', action=['remove'])
    self.assertResourceCalled('Package', 'hive-jdbc', action=['remove'])
    self.assertResourceCalled('Package', 'hive-hcatalog', action=['remove'])
    self.assertResourceCalled('Package', 'hive', action=['remove'])
    self.assertResourceCalled('Package', 'hadoop-mapreduce', action=['remove'])
    self.assertResourceCalled('Package', 'hadoop-client', action=['remove'])
    self.assertResourceCalled('Package', 'hadoop-yarn', action=['remove'])
    self.assertResourceCalled('Package', 'hadoop-libhdfs', action=['remove'])
    self.assertResourceCalled('Package', 'hadoop-hdfs', action=['remove'])
    self.assertResourceCalled('Package', 'hadoop-lzo', action=['remove'])
    self.assertResourceCalled('Package', 'hadoop', action=['remove'])
    self.assertResourceCalled('Package', 'zookeeper', action=['remove'])
    self.assertNoMoreResources()
