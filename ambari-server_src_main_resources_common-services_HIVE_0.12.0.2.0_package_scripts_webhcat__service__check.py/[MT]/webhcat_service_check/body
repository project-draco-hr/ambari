def webhcat_service_check():
    import params
    File(format('{tmp_dir}/templetonSmoke.sh'), content=StaticFile('templetonSmoke.sh'), mode=493)
    if params.security_enabled:
        smokeuser_keytab = params.smoke_user_keytab
        smoke_user_principal = params.smokeuser_principal
    else:
        smokeuser_keytab = 'no_keytab'
        smoke_user_principal = 'no_principal'
    cmd = format('{tmp_dir}/templetonSmoke.sh {webhcat_server_host[0]} {smokeuser} {templeton_port} {smokeuser_keytab} {security_param} {kinit_path_local} {smoke_user_principal}')
    Execute(cmd, tries=3, try_sleep=5, path='/usr/sbin:/sbin:/usr/local/bin:/bin:/usr/bin', logoutput=True)
