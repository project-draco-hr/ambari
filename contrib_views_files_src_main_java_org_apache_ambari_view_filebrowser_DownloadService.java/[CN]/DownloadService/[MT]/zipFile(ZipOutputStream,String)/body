{
  try {
    FSDataInputStream in=getApi(context).open(path);
    zip.putNextEntry(new ZipEntry(path.substring(1)));
    byte[] chunk=new byte[1024];
    int readLen=0;
    while (readLen != -1) {
      zip.write(chunk,0,readLen);
      readLen=in.read(chunk);
    }
  }
 catch (  IOException ex) {
    logger.error("Error zipping file " + path.substring(1) + " (file ignored): "+ ex.getMessage());
  }
catch (  InterruptedException ex) {
    String msg="Error zipping file " + path.substring(1) + " (file ignored): "+ ex.getMessage();
    logger.error(msg);
  }
 finally {
    try {
      zip.closeEntry();
    }
 catch (    IOException ex) {
      logger.error("Error closing entry " + path.substring(1) + " (file ignored): "+ ex.getMessage());
    }
  }
}
