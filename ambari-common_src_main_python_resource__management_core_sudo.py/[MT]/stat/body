def stat(path):


    class Stat:

        def __init__(self, path):
            out = shell.checked_call(['stat', '-c', '%u %g %a', path], sudo=True)[1]
            (uid_str, gid_str, mode_str) = out.split(' ')
            self.st_uid = int(uid_str)
            self.st_gid = int(gid_str)
            self.st_mode = int(mode_str, 8)
    return Stat(path)
