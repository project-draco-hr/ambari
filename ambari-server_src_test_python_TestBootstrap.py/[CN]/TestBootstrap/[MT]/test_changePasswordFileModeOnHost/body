@patch.object(bootstrap, 'get_difference')
@patch.object(PSSH, 'run')
def test_changePasswordFileModeOnHost(self, run_mock, get_difference_mock):
    bootstrap_obj = BootStrap(['hostname'], 'root', 'sshKeyFile', 'scriptDir', 'bootdir', 'setupAgentFile', 'ambariServer', 'centos6', None, '8440')
    ret = bootstrap_obj.changePasswordFileModeOnHost()
    self.assertTrue((ret == 1))
    bootstrap_obj.statuses = {'hostname': {'exitstatus': 0, 'log': '', }, }
    ret = bootstrap_obj.changePasswordFileModeOnHost()
    self.assertTrue((ret == 1))
    get_difference_mock.return_value = None
    ret = bootstrap_obj.changePasswordFileModeOnHost()
    self.assertTrue((ret == 0))
