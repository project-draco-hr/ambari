def test_return_error_message_for_missing_sudo_package(self):
    Popen.communicate = (lambda self: ('', ''))
    SCP.writeLogToFile = (lambda self, logFilePath: None)
    SSH.writeLogToFile = (lambda self, logFilePath: None)
    SSH.writeDoneToFile = (lambda self, doneFilePath, returncode: None)
    bootstrap = BootStrap(['hostname'], 'root', 'sshKeyFile', 'scriptDir', 'bootdir', 'setupAgentFile', 'ambariServer', 'centos6')
    ret = bootstrap.checkSudoPackage()
    self.assertTrue(('Error: Sudo command is not available. Please install the sudo command.' in bootstrap.statuses['hostname']['log']))
