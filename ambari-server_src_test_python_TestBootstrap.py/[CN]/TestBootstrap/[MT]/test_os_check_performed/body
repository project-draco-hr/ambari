@patch.object(BootStrap, 'runSetupAgent')
@patch.object(BootStrap, 'copyNeededFiles')
@patch.object(BootStrap, 'checkSudoPackage')
@patch.object(BootStrap, 'runOsCheckScript')
@patch.object(BootStrap, 'copyOsCheckScript')
@patch.object(BootStrap, 'createDoneFiles')
def test_os_check_performed(self, createDoneFiles_method, copyOsCheckScript_method, runOsCheckScript_method, checkSudoPackage_method, copyNeededFiles_method, runSetupAgent_method):
    createDoneFiles_method.return_value = None
    copyOsCheckScript_method.return_value = 0
    runOsCheckScript_method.return_value = 0
    checkSudoPackage_method.return_value = 0
    copyNeededFiles_method.return_value = 0
    runSetupAgent_method.return_value = 0
    os.environ[AMBARI_PASSPHRASE_VAR_NAME] = ''
    bootstrap = BootStrap(['hostname'], 'user', 'sshKeyFile', 'scriptDir', 'bootdir', 'setupAgentFile', 'ambariServer', 'centos6', None, '8440')
    ret = bootstrap.run()
    self.assertTrue(copyOsCheckScript_method.called)
    self.assertTrue(runOsCheckScript_method.called)
    self.assertTrue((ret == 0))
