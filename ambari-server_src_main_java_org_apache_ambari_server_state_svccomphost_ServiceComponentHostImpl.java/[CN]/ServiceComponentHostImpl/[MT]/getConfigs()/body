{
  try {
    readLock.lock();
    Map<String,Config> map=new HashMap<String,Config>();
    Cluster cluster=clusters.getClusterById(getClusterId());
    for (    Entry<String,String> entry : configs.entrySet()) {
      Config config=cluster.getConfig(entry.getKey(),entry.getValue());
      if (null != config) {
        map.put(entry.getKey(),config);
      }
    }
    return map;
  }
  finally {
    readLock.unlock();
  }
}
