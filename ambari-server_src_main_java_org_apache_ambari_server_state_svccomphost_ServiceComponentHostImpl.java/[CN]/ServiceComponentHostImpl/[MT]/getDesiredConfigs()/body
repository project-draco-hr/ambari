{
  try {
    readLock.lock();
    Map<String,Config> map=new HashMap<String,Config>();
    for (    Entry<String,String> entry : desiredConfigs.entrySet()) {
      Config config=clusters.getClusterById(getClusterId()).getDesiredConfig(entry.getKey(),entry.getValue());
      if (null != config) {
        map.put(entry.getKey(),config);
      }
    }
    return Collections.unmodifiableMap(map);
  }
 catch (  AmbariException e) {
    return null;
  }
 finally {
    readLock.unlock();
  }
}
