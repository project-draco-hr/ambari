{
  Map<String,Config> map=new HashMap<String,Config>();
  try {
    readLock.lock();
    for (    Entry<String,String> entry : desiredConfigs.entrySet()) {
      Config config=clusters.getClusterById(getClusterId()).getDesiredConfig(entry.getKey(),entry.getValue());
      if (null != config) {
        map.put(entry.getKey(),config);
      }
    }
  }
 catch (  AmbariException e) {
    return null;
  }
 finally {
    readLock.unlock();
  }
  Map<String,Config> compConfigs=serviceComponent.getDesiredConfigs();
  for (  Entry<String,Config> entry : compConfigs.entrySet()) {
    if (!map.containsKey(entry.getKey())) {
      map.put(entry.getKey(),entry.getValue());
    }
  }
  return Collections.unmodifiableMap(map);
}
