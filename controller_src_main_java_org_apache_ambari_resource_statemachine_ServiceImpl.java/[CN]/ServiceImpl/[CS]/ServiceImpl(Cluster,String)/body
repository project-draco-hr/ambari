{
  this.cluster=cluster;
  this.serviceName=serviceName;
  this.myState=ServiceState.INACTIVE;
  this.plugin=new HDFSPluginImpl();
  String[] roles=this.plugin.getRoles();
  for (  String role : roles) {
    RoleImpl roleImpl=new RoleImpl(this,role);
    serviceRoles.add(roleImpl);
  }
  stateMachine=stateMachineFactory.make(this);
}
