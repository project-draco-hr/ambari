{
  this.clusterFsm=clusterFsm;
  this.serviceName=serviceName;
  this.myState=ServiceState.INACTIVE;
  this.plugin=cluster.getComponentDefinition(serviceName);
  String[] roles=this.plugin.getActiveRoles();
  for (  String role : roles) {
    RoleImpl roleImpl=new RoleImpl(this,role);
    serviceRoles.add(roleImpl);
  }
  stateMachine=stateMachineFactory.make(this);
}
