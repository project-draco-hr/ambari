@patch('metrics_grafana_util.create_ams_datasource')
def test_start(self, create_ams_datasource_mock):
    self.executeScript((self.COMMON_SERVICES_PACKAGE_DIR + '/metrics_grafana.py'), classname='AmsGrafana', command='start', config_file='default.json', hdp_stack_version=self.STACK_VERSION, target=RMFTestCase.TARGET_COMMON_SERVICES)
    self.maxDiff = None
    self.assert_configure()
    self.assertResourceCalled('Execute', '/usr/sbin/ambari-metrics-grafana stop', user='ams')
    self.assertResourceCalled('Execute', '/usr/sbin/ambari-metrics-grafana start', user='ams')
    create_ams_datasource_mock.assertCalled()
    self.assertNoMoreResources()
