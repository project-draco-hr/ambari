def os_install_jdk(java_inst_file, java_home_dir):
    print 'Installing JDK to {0}'.format(java_home_dir)
    (retcode, out, err) = run_os_command(CREATE_JDK_DIR_CMD.format(java_home_dir))
    savedPath = os.getcwd()
    os.chdir(java_home_dir)
    if java_inst_file.endswith('.bin'):
        (retcode, out, err) = run_os_command(MAKE_FILE_EXECUTABLE_CMD.format(java_inst_file))
        (retcode, out, err) = run_os_command((java_inst_file + ' -noregister'))
    elif java_inst_file.endswith('.gz'):
        (retcode, out, err) = run_os_command(UNTAR_JDK_ARCHIVE.format(java_inst_file))
    else:
        err = 'JDK installation failed.Unknown file mask.'
        raise FatalException(1, err)
    os.chdir(savedPath)
    if (retcode != 0):
        err = ('Installation of JDK returned exit code %s' % retcode)
        raise FatalException(retcode, err)
    print 'Successfully installed JDK to {0}'.format(java_home_dir)
    return (retcode, out)
