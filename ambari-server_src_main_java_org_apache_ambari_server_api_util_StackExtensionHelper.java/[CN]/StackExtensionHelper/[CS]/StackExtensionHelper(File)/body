{
  this.stackRoot=stackRoot;
  File[] stackFiles=stackRoot.listFiles(AmbariMetaInfo.FILENAME_FILTER);
  for (  File stack : stackFiles) {
    if (stack.isFile()) {
      continue;
    }
    for (    File stackFolder : stack.listFiles(AmbariMetaInfo.FILENAME_FILTER)) {
      if (stackFolder.isFile()) {
        continue;
      }
      String stackName=stackFolder.getParentFile().getName();
      String stackVersion=stackFolder.getName();
      stackVersionMap.put(stackName + stackVersion,getStackInfo(stackFolder));
    }
  }
  this.stackParentsMap=getParentStacksInOrder(stackVersionMap.values());
}
