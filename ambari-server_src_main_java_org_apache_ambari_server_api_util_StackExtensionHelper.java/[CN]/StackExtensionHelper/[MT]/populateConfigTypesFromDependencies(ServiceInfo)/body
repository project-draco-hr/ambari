{
  List<PropertyInfo> configurations=serviceInfo.getProperties();
  if (configurations != null) {
    Map<String,Map<String,Map<String,String>>> configTypes=new HashMap<String,Map<String,Map<String,String>>>();
    for (    PropertyInfo configuration : configurations) {
      int extIndex=configuration.getFilename().indexOf(AmbariMetaInfo.SERVICE_CONFIG_FILE_NAME_POSTFIX);
      String configType=configuration.getFilename().substring(0,extIndex);
      if (!configTypes.containsKey(configType)) {
        Map<String,Map<String,String>> properties=new HashMap<String,Map<String,String>>();
        Map<String,String> supportsProperties=new HashMap<String,String>();
        for (        Supports supportsProperty : Supports.values()) {
          supportsProperties.put(supportsProperty.getPropertyName(),supportsProperty.getDefaultValue());
        }
        properties.put(Supports.KEYWORD,supportsProperties);
        configTypes.put(configType,properties);
      }
    }
    serviceInfo.setConfigTypes(configTypes);
  }
}
