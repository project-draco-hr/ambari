{
  List<String> deleteList=new ArrayList<String>();
  List<String> appendList=new ArrayList<String>();
  for (  ComponentInfo childComponent : childService.getComponents()) {
    if (!childComponent.isDeleted()) {
      ComponentInfo parentComponent=getComponent(parentService,childComponent.getName());
      if (parentComponent != null) {
        ComponentInfo mergedComponent=mergeComponents(parentComponent,childComponent);
        mergedServiceInfo.getComponents().add(mergedComponent);
        appendList.add(mergedComponent.getName());
      }
 else {
        mergedServiceInfo.getComponents().add(childComponent);
        appendList.add(childComponent.getName());
      }
    }
 else {
      deleteList.add(childComponent.getName());
    }
  }
  for (  ComponentInfo parentComponent : parentService.getComponents()) {
    if (!deleteList.contains(parentComponent.getName()) && !appendList.contains(parentComponent.getName())) {
      mergedServiceInfo.getComponents().add(parentComponent);
    }
  }
}
