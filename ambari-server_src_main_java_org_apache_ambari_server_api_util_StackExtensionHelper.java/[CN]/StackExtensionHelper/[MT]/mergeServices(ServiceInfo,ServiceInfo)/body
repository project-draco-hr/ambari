{
  ServiceInfo mergedServiceInfo=new ServiceInfo();
  mergedServiceInfo.setSchemaVersion(childService.getSchemaVersion());
  mergedServiceInfo.setName(childService.getName());
  mergedServiceInfo.setComment(childService.getComment());
  mergedServiceInfo.setVersion(childService.getVersion());
  mergedServiceInfo.setConfigDependencies(childService.getConfigDependencies() != null ? childService.getConfigDependencies() : parentService.getConfigDependencies() != null ? parentService.getConfigDependencies() : Collections.<String>emptyList());
  mergedServiceInfo.setConfigTypes(childService.getConfigTypes() != null ? childService.getConfigTypes() : parentService.getConfigTypes() != null ? parentService.getConfigTypes() : Collections.<String,Map<String,Map<String,String>>>emptyMap());
  mergedServiceInfo.setRestartRequiredAfterChange((childService.isRestartRequiredAfterChange() != null) ? childService.isRestartRequiredAfterChange() : parentService.isRestartRequiredAfterChange());
  mergedServiceInfo.setMonitoringService((childService.isMonitoringService() != null) ? childService.isMonitoringService() : parentService.isMonitoringService());
  Map<String,ServiceOsSpecific> osSpecific=childService.getOsSpecifics();
  if (!osSpecific.isEmpty()) {
    mergedServiceInfo.setOsSpecifics(childService.getOsSpecifics());
  }
 else {
    mergedServiceInfo.setOsSpecifics(parentService.getOsSpecifics());
  }
  CommandScriptDefinition commandScript=childService.getCommandScript();
  if (commandScript != null) {
    mergedServiceInfo.setCommandScript(childService.getCommandScript());
  }
 else {
    mergedServiceInfo.setCommandScript(parentService.getCommandScript());
  }
  String servicePackageFolder=childService.getServicePackageFolder();
  if (servicePackageFolder != null) {
    mergedServiceInfo.setServicePackageFolder(servicePackageFolder);
  }
 else {
    mergedServiceInfo.setServicePackageFolder(parentService.getServicePackageFolder());
  }
  List<CustomCommandDefinition> mergedCustomCommands=mergeCustomCommandLists(parentService.getCustomCommands(),childService.getCustomCommands());
  mergedServiceInfo.setCustomCommands(mergedCustomCommands);
  if (null == childService.getMetricsFile() && null != parentService.getMetricsFile())   mergedServiceInfo.setMetricsFile(parentService.getMetricsFile());
  populateComponents(mergedServiceInfo,parentService,childService);
  List<String> deleteList=new ArrayList<String>();
  List<String> appendList=new ArrayList<String>();
  for (  PropertyInfo propertyInfo : childService.getProperties()) {
    if (!propertyInfo.isDeleted()) {
      mergedServiceInfo.getProperties().add(propertyInfo);
      appendList.add(propertyInfo.getName());
    }
 else {
      deleteList.add(propertyInfo.getName());
    }
  }
  for (  PropertyInfo parentPropertyInfo : parentService.getProperties()) {
    if (!deleteList.contains(parentPropertyInfo.getName()) && !appendList.contains(parentPropertyInfo.getName())) {
      mergedServiceInfo.getProperties().add(parentPropertyInfo);
    }
  }
  if (parentService.getConfigDependencies() != null && !parentService.getConfigDependencies().isEmpty()) {
    for (    String configDep : parentService.getConfigDependencies()) {
      if (!mergedServiceInfo.getConfigDependencies().contains(configDep)) {
        mergedServiceInfo.getConfigDependencies().add(configDep);
      }
    }
  }
  return mergedServiceInfo;
}
