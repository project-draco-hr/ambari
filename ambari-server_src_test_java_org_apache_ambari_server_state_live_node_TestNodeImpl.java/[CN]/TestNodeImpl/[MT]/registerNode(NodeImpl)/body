{
  NodeInfo info=new NodeInfo();
  info.availableMemBytes=100;
  info.cpuCount=10;
  info.disksInfo=new ArrayList<DiskInfo>();
  info.disksInfo.add(new DiskInfo("/dev/sda","ext3","/mnt/disk1",5000000,4000000));
  info.hostAttributes=new HashMap<String,String>();
  info.hostName="foo";
  info.ipv4="fip_4";
  info.osArch="os_arch";
  info.osType="os_type";
  info.osInfo="os_info";
  info.rackInfo="/default-rack";
  info.totalMemBytes=200;
  AgentVersion agentVersion=null;
  long currentTime=System.currentTimeMillis();
  NodeRegistrationRequestEvent e=new NodeRegistrationRequestEvent("foo",agentVersion,currentTime,info);
  node.handleEvent(e);
  Assert.assertEquals(node.getLastRegistrationTime(),currentTime);
}
