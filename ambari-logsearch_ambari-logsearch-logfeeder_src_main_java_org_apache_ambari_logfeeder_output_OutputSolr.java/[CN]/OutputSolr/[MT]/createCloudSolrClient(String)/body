{
  LOG.info("Using zookeepr. zkHosts=" + zkHosts);
  collection=getStringValue("collection");
  if (StringUtils.isEmpty(collection)) {
    throw new Exception("For solr cloud property collection is mandatory");
  }
  LOG.info("Using collection=" + collection);
  CloudSolrClient solrClient=new CloudSolrClient(zkHosts);
  solrClient.setDefaultCollection(collection);
  isComputeCurrentCollection=!splitMode.equalsIgnoreCase("none");
  return solrClient;
}
