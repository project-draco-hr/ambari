{
  if (s3LogPathFiles == null || s3LogPathFiles.length == 0) {
    return;
  }
  if (isTail()) {
    processFile(s3LogPathFiles[0]);
  }
 else {
    for (    String s3FilePath : s3LogPathFiles) {
      try {
        processFile(s3FilePath);
        if (isClosed() || isDrain()) {
          logger.info("isClosed or isDrain. Now breaking loop.");
          break;
        }
      }
 catch (      Throwable t) {
        logger.error("Error processing file=" + s3FilePath,t);
      }
    }
  }
  close();
}
