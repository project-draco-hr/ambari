{
  String name=UUID.randomUUID().toString().replaceAll("-","");
  String filePath="/tmp/" + name;
  doCreateFile(name,"1234567890");
  Response response=fileService.getFile(filePath,0L);
  Assert.assertEquals(200,response.getStatus());
  JSONObject obj=((JSONObject)response.getEntity());
  Assert.assertTrue(obj.containsKey("file"));
  Assert.assertEquals("1234",((FileResource)obj.get("file")).fileContent);
  Assert.assertEquals(3,((FileResource)obj.get("file")).pageCount);
  Assert.assertEquals(0,((FileResource)obj.get("file")).page);
  Assert.assertTrue(((FileResource)obj.get("file")).hasNext);
  Assert.assertEquals(filePath,((FileResource)obj.get("file")).filePath);
  response=fileService.getFile(filePath,1L);
  Assert.assertEquals(200,response.getStatus());
  obj=((JSONObject)response.getEntity());
  Assert.assertEquals("5678",((FileResource)obj.get("file")).fileContent);
  Assert.assertEquals(1,((FileResource)obj.get("file")).page);
  Assert.assertTrue(((FileResource)obj.get("file")).hasNext);
  response=fileService.getFile(filePath,2L);
  Assert.assertEquals(200,response.getStatus());
  obj=((JSONObject)response.getEntity());
  Assert.assertEquals("90",((FileResource)obj.get("file")).fileContent);
  Assert.assertEquals(2,((FileResource)obj.get("file")).page);
  Assert.assertFalse(((FileResource)obj.get("file")).hasNext);
  response=fileService.getFile(filePath,3L);
  Assert.assertEquals(400,response.getStatus());
}
