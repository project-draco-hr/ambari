def zookeeper(type=None):
    import params
    configFile('zoo.cfg', template_name='zoo.cfg.j2')
    configFile('configuration.xsl', template_name='configuration.xsl.j2')
    Directory(params.zk_data_dir, owner=params.zk_user, mode='(OI)(CI)F', recursive=True)
    if (params.log4j_props != None):
        File(format('{params.zookeeper_conf_dir}/log4j.properties'), mode='f', owner=params.zk_user, content=params.log4j_props)
    elif os.path.exists(format('{params.zookeeper_conf_dir}/log4j.properties')):
        File(format('{params.zookeeper_conf_dir}/log4j.properties'), mode='f', owner=params.zk_user)
    if (type == 'server'):
        myid = str((sorted(params.zookeeper_hosts).index(params.hostname) + 1))
        File(format('{zk_data_dir}/myid'), owner=params.zk_user, mode='f', content=myid)
