@patch('ambari_client.core.http_client.HttpClient')
def test_get_cluster_services_valid(self, http_client):
    '\n    Get all services of a cluster.\n    This testcase checks if get_all_services returns a list of ModelList.\n    '
    http_client_mock = MagicMock()
    http_client.returned_obj = http_client_mock
    mocked_code = 200
    mocked_content = 'text/plain'
    expected_dict_output = {'cluster_name': u'test1', 'version': u'HDP-1.2.1', }
    http_client_mock.invoke.side_effect = http_client_invoke_side_effects
    client = AmbariClient('localhost', 8080, 'admin', 'admin', version=1, client=http_client_mock)
    (cluster, err) = client.get_cluster('test1')
    (serviceList, err) = cluster.get_all_services()
    self.assertEqual(cluster.cluster_name, 'test1', 'cluster_name should be test1 ')
    self.assertEqual(cluster.to_json_dict(), expected_dict_output, 'to_json_dict should convert ClusterModel')
    self.assertEqual(len(serviceList), 3, 'There should be a 3 services from the response')
    self.assertEqual(err, None, 'No error should be present')
