{
  String url=getProxyUrl(endpoint,uriInfo.getQueryParameters());
  String response=proxyHelper.getResponse(url,new HashMap<String,String>());
  try {
    JSONObject jsonObject=(JSONObject)JSONValue.parse(response);
    if (jsonObject == null) {
      LOG.debug("Response received from URL: {} : {}",url,response);
      LOG.error("Failed to parse JSON from URL: {}",url);
      throw new ProxyException("Failed to parse JSON from URL : " + url + ".Internal Error.",Response.Status.INTERNAL_SERVER_ERROR.getStatusCode(),response);
    }
    LOG.debug("Proxying to URL: {}",url);
    return Response.ok(jsonObject).type(MediaType.APPLICATION_JSON).build();
  }
 catch (  WebApplicationException e) {
    LOG.debug("Response received from URL: {} : {}",url,response);
    LOG.error("Proxying to URL {} failed: ",url,e);
    throw new ProxyException("Failed to proxy to : " + url + ".Internal Error.",Response.Status.INTERNAL_SERVER_ERROR.getStatusCode(),e.getMessage());
  }
}
