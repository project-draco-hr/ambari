{
  String urlToRead="http://foo.com?" + "doAs" + "=hive";
  String requestMethod="GET";
  URL url=new URL(urlToRead);
  HttpURLConnection conn=(HttpURLConnection)url.openConnection();
  try {
    this.viewContext.getHttpImpersonator().doAs(conn,requestMethod);
    Assert.fail("Expected an exception to be thrown.");
  }
 catch (  IllegalArgumentException e) {
  }
}
