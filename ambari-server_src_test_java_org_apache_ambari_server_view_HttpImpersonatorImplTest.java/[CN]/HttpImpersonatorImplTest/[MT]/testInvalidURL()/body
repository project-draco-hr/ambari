{
  String urlToRead="http://foo.com?" + "doAs" + "=hive";
  String requestMethod="GET";
  URL url=new URL(urlToRead);
  HttpURLConnection conn=(HttpURLConnection)url.openConnection();
  try {
    conn=this.viewContext.getHttpImpersonator().doAs(conn,requestMethod);
    fail("Expected an exception to be thrown.");
  }
 catch (  Exception e) {
    ;
  }
}
