def metadata():
    import params
    Directory([params.pid_dir], mode=493, cd_access='a', owner=params.metadata_user, group=params.user_group, recursive=True)
    Directory(params.conf_dir, mode=493, cd_access='a', owner=params.metadata_user, group=params.user_group, recursive=True)
    Directory(params.log_dir, mode=493, cd_access='a', owner=params.metadata_user, group=params.user_group, recursive=True)
    Directory(params.data_dir, mode=420, cd_access='a', owner=params.metadata_user, group=params.user_group, recursive=True)
    Directory(params.expanded_war_dir, mode=420, cd_access='a', owner=params.metadata_user, group=params.user_group, recursive=True)
    metadata_war_file = format('{params.metadata_home}/server/webapp/atlas.war')
    if (not os.path.isfile(metadata_war_file)):
        raise Fail('Unable to copy {0} because it does not exist'.format(metadata_war_file))
    Logger.info('Copying {0} to {1}'.format(metadata_war_file, params.expanded_war_dir))
    shutil.copy2(metadata_war_file, params.expanded_war_dir)
    PropertiesFile(format('{conf_dir}/application.properties'), properties=params.application_properties, mode=420, owner=params.metadata_user, group=params.user_group)
    File(format('{conf_dir}/atlas-env.sh'), owner=params.metadata_user, group=params.user_group, mode=493, content=InlineTemplate(params.metadata_env_content))
    File(format('{conf_dir}/log4j.xml'), mode=420, owner=params.metadata_user, group=params.user_group, content=StaticFile('log4j.xml'))
