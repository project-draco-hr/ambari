{
  ActionDefinitionManager manager=new ActionDefinitionManager();
  manager.readCustomActionDefinitions(new File(customActionDefinitionRoot));
  Assert.assertEquals(3,manager.getAllActionDefinition().size());
  ActionDefinition ad=manager.getActionDefinition("ambari_hdfs_rebalancer");
  Assert.assertNotNull(ad);
  Assert.assertEquals("ambari_hdfs_rebalancer",ad.getActionName());
  Assert.assertEquals("HDFS Rebalance",ad.getDescription());
  Assert.assertEquals("threshold,[principal],[keytab]",ad.getInputs());
  Assert.assertEquals("NAMENODE",ad.getTargetComponent());
  Assert.assertEquals("HDFS",ad.getTargetService());
  Assert.assertEquals(600,(int)ad.getDefaultTimeout());
  Assert.assertEquals(TargetHostType.ANY,ad.getTargetType());
  Assert.assertEquals(ActionType.SYSTEM,ad.getActionType());
  ad=manager.getActionDefinition("customAction1");
  Assert.assertNotNull(ad);
  Assert.assertEquals("customAction1",ad.getActionName());
  Assert.assertEquals("A random test",ad.getDescription());
  Assert.assertEquals("threshold",ad.getInputs());
  Assert.assertEquals("TASKTRACKER",ad.getTargetComponent());
  Assert.assertEquals("MAPREDUCE",ad.getTargetService());
  Assert.assertEquals(60,(int)ad.getDefaultTimeout());
  Assert.assertEquals(TargetHostType.ALL,ad.getTargetType());
  Assert.assertEquals(ActionType.USER,ad.getActionType());
  ad=manager.getActionDefinition("customAction2");
  Assert.assertNotNull(ad);
  Assert.assertEquals("customAction2",ad.getActionName());
  Assert.assertEquals("A random test",ad.getDescription());
  Assert.assertEquals(null,ad.getInputs());
  Assert.assertEquals("TASKTRACKER",ad.getTargetComponent());
  Assert.assertEquals("MAPREDUCE",ad.getTargetService());
  Assert.assertEquals(60,(int)ad.getDefaultTimeout());
  Assert.assertEquals(null,ad.getTargetType());
  Assert.assertEquals(ActionType.USER,ad.getActionType());
}
