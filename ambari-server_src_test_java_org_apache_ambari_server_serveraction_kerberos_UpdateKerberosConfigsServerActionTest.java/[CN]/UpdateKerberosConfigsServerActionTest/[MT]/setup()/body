{
  setupIndexDat();
  setupConfigDat();
  expect(controller.getClusters()).andReturn(clusters).once();
  expect(controller.createConfiguration(anyObject(ConfigurationRequest.class))).andReturn(null).once();
  replay(controller);
  expect(cluster.getConfigsByType("hdfs-site")).andReturn(null).once();
  expect(cluster.getDesiredConfigByType("hdfs-site")).andReturn(null).once();
  replay(cluster);
  expect(clusters.getCluster(anyObject(String.class))).andReturn(cluster).once();
  replay(clusters);
  injector=Guice.createInjector(new AbstractModule(){
    @Override protected void configure(){
      bind(AmbariManagementController.class).toInstance(controller);
    }
  }
);
  action=injector.getInstance(UpdateKerberosConfigsServerAction.class);
}
