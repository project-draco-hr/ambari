{
  logger.info("testGrok()");
  String[] ugis=new String[]{"user1@xyz.com (auth:TOKEN)","ambari-qa@example.com (auth:kerberos)","my_user@example.com (auth:kerberos)","hive/bdurai-dojran-2.novalocal@example.com (auth:kerberos)","just_me","ambari-qa (auth:PROXY) via hive/myhost.novalocal@EXAMPLE.COM (auth:KERBEROS)"};
  FilterGrok grokFilter=new FilterGrok();
  try {
    Map<String,Object> map=new HashMap<String,Object>();
    map.put("message_pattern","%{USERNAME:p_user}.+auth:%{USERNAME:p_authType}.+via %{USERNAME:k_user}.+auth:%{USERNAME:k_authType}|%{USERNAME:user}.+auth:%{USERNAME:authType}|%{USERNAME:x_user}");
    grokFilter.loadConfig(map);
    grokFilter.init();
    for (    String ugi : ugis) {
      String out=grokFilter.grokParse(ugi);
      logger.info(ugi + "=" + out);
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    assertFalse(true);
  }
  assertTrue(true);
}
