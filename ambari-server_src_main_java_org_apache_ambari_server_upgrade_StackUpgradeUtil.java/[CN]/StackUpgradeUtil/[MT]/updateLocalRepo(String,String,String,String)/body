{
  if (null == repoUrl || repoUrl.isEmpty() || !repoUrl.startsWith("http"))   return;
  String server=repoUrl;
  String[] oses=new String[0];
  if (null != repoUrlOs) {
    oses=repoUrlOs.split(",");
  }
  AmbariMetaInfo ami=injector.getInstance(AmbariMetaInfo.class);
  if (0 == oses.length) {
    for (    OperatingSystemInfo osi : ami.getOperatingSystems(stackName,stackVersion)) {
      ami.updateRepoBaseURL(stackName,stackVersion,osi.getOsType(),stackName + "-" + stackVersion,server);
    }
  }
 else {
    for (    String os : oses) {
      ami.updateRepoBaseURL(stackName,stackVersion,os,stackName + "-" + stackVersion,server);
    }
  }
}
