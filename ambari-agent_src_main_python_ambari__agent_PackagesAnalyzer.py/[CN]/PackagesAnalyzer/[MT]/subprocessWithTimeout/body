def subprocessWithTimeout(self, command):
    osStat = self.launch_subprocess(command)
    logger.debug('Launching watchdog thread')
    self.event.clear()
    thread = Thread(target=self.watchdog_func, args=(osStat,))
    thread.start()
    (out, err) = osStat.communicate()
    result = {}
    result['out'] = out
    result['err'] = err
    result['retCode'] = osStat.returncode
    self.event.set()
    thread.join()
    return result
