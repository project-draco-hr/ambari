{
  allHostComponents=host.getHostComponentStateEntities();
  versionedHostComponents=new HashSet<HostComponentStateEntity>();
  noVersionNeededComponents=new HashSet<HostComponentStateEntity>();
  for (  HostComponentStateEntity hostComponentStateEntity : allHostComponents) {
    if (!hostComponentStateEntity.getVersion().equalsIgnoreCase(State.UNKNOWN.toString())) {
      versionedHostComponents.add(hostComponentStateEntity);
    }
 else {
      ComponentInfo compInfo=ambariMetaInfo.getComponent(stackName,stackVersion,hostComponentStateEntity.getServiceName(),hostComponentStateEntity.getComponentName());
      if (!compInfo.isVersionAdvertised()) {
        noVersionNeededComponents.add(hostComponentStateEntity);
      }
    }
  }
}
