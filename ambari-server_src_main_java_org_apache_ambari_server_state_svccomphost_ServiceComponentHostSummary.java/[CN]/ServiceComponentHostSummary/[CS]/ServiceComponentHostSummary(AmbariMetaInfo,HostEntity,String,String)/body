{
  allHostComponents=host.getHostComponentStateEntities();
  haveAdvertisedVersion=new HashSet<HostComponentStateEntity>();
  waitingToAdvertiseVersion=new HashSet<HostComponentStateEntity>();
  noVersionToAdvertise=new HashSet<HostComponentStateEntity>();
  versions=new HashSet<String>();
  for (  HostComponentStateEntity hostComponentStateEntity : allHostComponents) {
    ComponentInfo compInfo=ambariMetaInfo.getComponent(stackName,stackVersion,hostComponentStateEntity.getServiceName(),hostComponentStateEntity.getComponentName());
    if (!compInfo.isVersionAdvertised()) {
      noVersionToAdvertise.add(hostComponentStateEntity);
    }
 else {
      if (hostComponentStateEntity.getVersion() == null || hostComponentStateEntity.getVersion().isEmpty() || hostComponentStateEntity.getVersion().equalsIgnoreCase(State.UNKNOWN.toString())) {
        waitingToAdvertiseVersion.add(hostComponentStateEntity);
      }
 else {
        haveAdvertisedVersion.add(hostComponentStateEntity);
        versions.add(hostComponentStateEntity.getVersion());
      }
    }
  }
}
