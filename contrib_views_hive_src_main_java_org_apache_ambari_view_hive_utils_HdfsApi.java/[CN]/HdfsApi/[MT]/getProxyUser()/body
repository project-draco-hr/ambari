{
  UserGroupInformation proxyuser;
  if (params.containsKey("proxyuser")) {
    proxyuser=UserGroupInformation.createRemoteUser(params.get("proxyuser"));
  }
 else {
    proxyuser=UserGroupInformation.getCurrentUser();
  }
  proxyuser.setAuthenticationMethod(getAuthenticationMethod());
  return proxyuser;
}
