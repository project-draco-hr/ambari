{
  Schema schema;
synchronized (schemas) {
    schema=schemas.get(type);
    if (schema == null) {
      schema=new SchemaImpl(ensureResourceProvider(type),ensurePropertyProviders(type));
      schemas.put(type,schema);
    }
  }
  return schema;
}
