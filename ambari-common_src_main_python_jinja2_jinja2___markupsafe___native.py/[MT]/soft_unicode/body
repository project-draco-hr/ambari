def soft_unicode(s):
    "Make a string unicode if it isn't already.  That way a markup\n    string is not converted back to unicode.\n    "
    if (not isinstance(s, unicode)):
        s = unicode(s)
    return s
