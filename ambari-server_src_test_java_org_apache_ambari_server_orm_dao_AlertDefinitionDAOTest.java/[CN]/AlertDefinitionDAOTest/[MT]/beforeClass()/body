{
  injector=Guice.createInjector(new InMemoryDefaultTestModule());
  injector.getInstance(GuiceJpaInitializer.class);
  dao=injector.getInstance(AlertDefinitionDAO.class);
  alertsDao=injector.getInstance(AlertsDAO.class);
  dispatchDao=injector.getInstance(AlertDispatchDAO.class);
  helper=injector.getInstance(OrmTestHelper.class);
  clusterId=helper.createCluster();
  for (int i=0; i < 8; i++) {
    AlertDefinitionEntity definition=new AlertDefinitionEntity();
    definition.setDefinitionName("Alert Definition " + i);
    definition.setServiceName("HDFS");
    definition.setComponentName(null);
    definition.setClusterId(clusterId);
    definition.setHash(UUID.randomUUID().toString());
    definition.setScheduleInterval(60);
    definition.setScope(Scope.SERVICE);
    definition.setSource("Source " + i);
    definition.setSourceType("SCRIPT");
    dao.create(definition);
  }
}
