{
  AlertDefinitionEntity entity=new AlertDefinitionEntity();
  TypedQuery<AlertDefinitionEntity> query=createStrictMock(TypedQuery.class);
  expect(query.getResultList()).andReturn(Collections.singletonList(entity));
  expect(entityManager.createNamedQuery(eq("AlertDefinitionEntity.findAll"),eq(AlertDefinitionEntity.class))).andReturn(query);
  replay(query,entityManager);
  List<AlertDefinitionEntity> entities=mockDAO.findAll();
  assertSame(1,entities.size());
  assertSame(entity,entities.get(0));
  verify(mockEntityManagerProvider,entityManager);
  List<AlertDefinitionEntity> definitions=realDAO.findAll();
  Assert.assertNotNull(definitions);
  Assert.assertEquals(8,definitions.size());
}
