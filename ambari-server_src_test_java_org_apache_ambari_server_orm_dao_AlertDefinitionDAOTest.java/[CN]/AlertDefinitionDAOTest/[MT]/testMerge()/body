{
  AlertDefinitionEntity entity=new AlertDefinitionEntity();
  AlertDefinitionEntity entity2=new AlertDefinitionEntity();
  expect(entityManager.merge(eq(entity))).andReturn(entity2);
  replay(entityManager);
  mockDAO.entityManagerProvider=mockEntityManagerProvider;
  assertSame(entity2,mockDAO.merge(entity));
  verify(mockEntityManagerProvider,entityManager);
}
