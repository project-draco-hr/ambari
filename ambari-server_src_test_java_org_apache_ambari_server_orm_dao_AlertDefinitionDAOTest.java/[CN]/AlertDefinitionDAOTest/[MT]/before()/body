{
  injector=Guice.createInjector(new InMemoryDefaultTestModule());
  injector.getInstance(GuiceJpaInitializer.class);
  injector.injectMembers(this);
  reset(mockEntityManagerProvider);
  expect(mockEntityManagerProvider.get()).andReturn(entityManager).atLeastOnce();
  replay(mockEntityManagerProvider);
  mockDAO=injector.getInstance(AlertDefinitionDAO.class);
  mockDAO.entityManagerProvider=mockEntityManagerProvider;
}
