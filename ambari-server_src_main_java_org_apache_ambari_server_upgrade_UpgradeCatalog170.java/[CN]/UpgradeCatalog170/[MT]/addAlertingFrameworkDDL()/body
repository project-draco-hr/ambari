{
  ArrayList<DBColumnInfo> columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("definition_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("cluster_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("definition_name",String.class,255,null,false));
  columns.add(new DBColumnInfo("service_name",String.class,255,null,false));
  columns.add(new DBColumnInfo("component_name",String.class,255,null,true));
  columns.add(new DBColumnInfo("scope",String.class,255,Scope.ANY.name(),false));
  columns.add(new DBColumnInfo("label",String.class,255,null,true));
  columns.add(new DBColumnInfo("enabled",Short.class,1,1,false));
  columns.add(new DBColumnInfo("schedule_interval",Integer.class,null,null,false));
  columns.add(new DBColumnInfo("source_type",String.class,255,null,false));
  columns.add(new DBColumnInfo("alert_source",char[].class,32672,null,false));
  columns.add(new DBColumnInfo("hash",String.class,64,null,false));
  dbAccessor.createTable(ALERT_TABLE_DEFINITION,columns,"definition_id");
  dbAccessor.addFKConstraint(ALERT_TABLE_DEFINITION,"fk_alert_def_cluster_id","cluster_id","clusters","cluster_id",false);
  dbAccessor.executeQuery("ALTER TABLE " + ALERT_TABLE_DEFINITION + " ADD CONSTRAINT uni_alert_def_name UNIQUE (cluster_id,definition_name)",false);
  columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("alert_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("cluster_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("alert_definition_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("service_name",String.class,255,null,false));
  columns.add(new DBColumnInfo("component_name",String.class,255,null,true));
  columns.add(new DBColumnInfo("host_name",String.class,255,null,true));
  columns.add(new DBColumnInfo("alert_instance",String.class,255,null,true));
  columns.add(new DBColumnInfo("alert_timestamp",Long.class,null,null,false));
  columns.add(new DBColumnInfo("alert_label",String.class,1024,null,true));
  columns.add(new DBColumnInfo("alert_state",String.class,255,null,false));
  columns.add(new DBColumnInfo("alert_text",String.class,4000,null,true));
  dbAccessor.createTable(ALERT_TABLE_HISTORY,columns,"alert_id");
  dbAccessor.addFKConstraint(ALERT_TABLE_HISTORY,"fk_alert_history_def_id","alert_definition_id",ALERT_TABLE_DEFINITION,"definition_id",false);
  dbAccessor.addFKConstraint(ALERT_TABLE_HISTORY,"fk_alert_history_cluster_id","cluster_id","clusters","cluster_id",false);
  columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("alert_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("definition_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("history_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("maintenance_state",String.class,255,null,true));
  columns.add(new DBColumnInfo("original_timestamp",Long.class,0,null,false));
  columns.add(new DBColumnInfo("latest_timestamp",Long.class,0,null,false));
  columns.add(new DBColumnInfo("latest_text",String.class,4000,null,true));
  dbAccessor.createTable(ALERT_TABLE_CURRENT,columns,"alert_id");
  dbAccessor.addFKConstraint(ALERT_TABLE_CURRENT,"fk_alert_current_def_id","definition_id",ALERT_TABLE_DEFINITION,"definition_id",false);
  dbAccessor.addFKConstraint(ALERT_TABLE_CURRENT,"fk_alert_current_history_id","history_id",ALERT_TABLE_HISTORY,"alert_id",false);
  dbAccessor.executeQuery("ALTER TABLE " + ALERT_TABLE_CURRENT + " ADD CONSTRAINT uni_alert_current_hist_id UNIQUE (history_id)",false);
  columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("group_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("cluster_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("group_name",String.class,255,null,false));
  columns.add(new DBColumnInfo("is_default",Short.class,1,1,false));
  columns.add(new DBColumnInfo("service_name",String.class,255,null,true));
  dbAccessor.createTable(ALERT_TABLE_GROUP,columns,"group_id");
  dbAccessor.executeQuery("ALTER TABLE " + ALERT_TABLE_GROUP + " ADD CONSTRAINT uni_alert_group_name UNIQUE (cluster_id,group_name)",false);
  columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("target_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("target_name",String.class,255,null,false));
  columns.add(new DBColumnInfo("notification_type",String.class,64,null,false));
  columns.add(new DBColumnInfo("properties",char[].class,32672,null,true));
  columns.add(new DBColumnInfo("description",String.class,1024,null,true));
  dbAccessor.createTable(ALERT_TABLE_TARGET,columns,"target_id");
  dbAccessor.executeQuery("ALTER TABLE " + ALERT_TABLE_TARGET + " ADD CONSTRAINT uni_alert_target_name UNIQUE (target_name)",false);
  columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("group_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("target_id",Long.class,null,null,false));
  dbAccessor.createTable(ALERT_TABLE_GROUP_TARGET,columns,"group_id","target_id");
  dbAccessor.addFKConstraint(ALERT_TABLE_GROUP_TARGET,"fk_alert_gt_group_id","group_id",ALERT_TABLE_GROUP,"group_id",false);
  dbAccessor.addFKConstraint(ALERT_TABLE_GROUP_TARGET,"fk_alert_gt_target_id","target_id",ALERT_TABLE_TARGET,"target_id",false);
  columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("definition_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("group_id",Long.class,null,null,false));
  dbAccessor.createTable(ALERT_TABLE_GROUPING,columns,"group_id","definition_id");
  dbAccessor.addFKConstraint(ALERT_TABLE_GROUPING,"fk_alert_grouping_def_id","definition_id",ALERT_TABLE_DEFINITION,"definition_id",false);
  dbAccessor.addFKConstraint(ALERT_TABLE_GROUPING,"fk_alert_grouping_group_id","group_id",ALERT_TABLE_GROUP,"group_id",false);
  columns=new ArrayList<DBColumnInfo>();
  columns.add(new DBColumnInfo("notification_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("target_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("history_id",Long.class,null,null,false));
  columns.add(new DBColumnInfo("notify_state",String.class,255,null,false));
  columns.add(new DBColumnInfo("uuid",String.class,64,null,false));
  dbAccessor.createTable(ALERT_TABLE_NOTICE,columns,"notification_id");
  dbAccessor.addFKConstraint(ALERT_TABLE_NOTICE,"fk_alert_notice_target_id","target_id",ALERT_TABLE_TARGET,"target_id",false);
  dbAccessor.addFKConstraint(ALERT_TABLE_NOTICE,"fk_alert_notice_hist_id","history_id",ALERT_TABLE_HISTORY,"alert_id",false);
  dbAccessor.executeQuery("ALTER TABLE " + ALERT_TABLE_NOTICE + " ADD CONSTRAINT uni_alert_notice_uuid UNIQUE (uuid)",false);
  dbAccessor.createIndex("idx_alert_history_def_id",ALERT_TABLE_HISTORY,"alert_definition_id");
  dbAccessor.createIndex("idx_alert_history_service",ALERT_TABLE_HISTORY,"service_name");
  dbAccessor.createIndex("idx_alert_history_host",ALERT_TABLE_HISTORY,"host_name");
  dbAccessor.createIndex("idx_alert_history_time",ALERT_TABLE_HISTORY,"alert_timestamp");
  dbAccessor.createIndex("idx_alert_history_state",ALERT_TABLE_HISTORY,"alert_state");
  dbAccessor.createIndex("idx_alert_group_name",ALERT_TABLE_GROUP,"group_name");
  dbAccessor.createIndex("idx_alert_notice_state",ALERT_TABLE_NOTICE,"notify_state");
}
