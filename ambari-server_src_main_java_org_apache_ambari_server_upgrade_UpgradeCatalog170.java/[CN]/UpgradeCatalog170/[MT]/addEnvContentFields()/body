{
  ConfigHelper configHelper=injector.getInstance(ConfigHelper.class);
  AmbariManagementController ambariManagementController=injector.getInstance(AmbariManagementController.class);
  Clusters clusters=ambariManagementController.getClusters();
  if (clusters == null) {
    return;
  }
  Map<String,Cluster> clusterMap=clusters.getClusters();
  if (clusterMap != null && !clusterMap.isEmpty()) {
    for (    final Cluster cluster : clusterMap.values()) {
      Set<String> configTypes=configHelper.findConfigTypesByPropertyName(cluster.getCurrentStackVersion(),CONTENT_FIELD_NAME);
      for (      String configType : configTypes) {
        if (!configType.endsWith(ENV_CONFIGS_POSTFIX)) {
          continue;
        }
        String value=configHelper.getPropertyValueFromStackDefenitions(cluster,configType,CONTENT_FIELD_NAME);
        updateConfigurationProperties(configType,Collections.singletonMap(CONTENT_FIELD_NAME,value),true,true);
      }
    }
  }
}
