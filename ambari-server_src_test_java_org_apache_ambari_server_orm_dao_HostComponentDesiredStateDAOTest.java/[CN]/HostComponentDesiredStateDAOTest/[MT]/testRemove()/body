{
  Provider<EntityManager> entityManagerProvider=createNiceMock(Provider.class);
  EntityManager entityManager=createNiceMock(EntityManager.class);
  HostDAO hostDAO=createNiceMock(HostDAO.class);
  HostEntity hostEntity=createNiceMock(HostEntity.class);
  HostComponentDesiredStateEntity hostComponentDesiredStateEntity=createNiceMock(HostComponentDesiredStateEntity.class);
  expect(hostComponentDesiredStateEntity.getHostId()).andReturn(1L).anyTimes();
  expect(entityManagerProvider.get()).andReturn(entityManager).anyTimes();
  expect(entityManager.merge(hostComponentDesiredStateEntity)).andReturn(hostComponentDesiredStateEntity).anyTimes();
  entityManager.remove(hostComponentDesiredStateEntity);
  hostEntity.removeHostComponentDesiredStateEntity(hostComponentDesiredStateEntity);
  expect(hostDAO.merge(hostEntity)).andReturn(hostEntity).anyTimes();
  expect(hostDAO.findById(1L)).andReturn(hostEntity).anyTimes();
  replay(entityManagerProvider,entityManager,hostDAO,hostEntity,hostComponentDesiredStateEntity);
  HostComponentDesiredStateDAO dao=new HostComponentDesiredStateDAO();
  dao.entityManagerProvider=entityManagerProvider;
  dao.hostDAO=hostDAO;
  dao.remove(hostComponentDesiredStateEntity);
  verify(entityManagerProvider,entityManager,hostDAO,hostEntity,hostComponentDesiredStateEntity);
}
