def main():
    parser = OptionParser()
    parser.add_option('-d', '--directory', help='Path to the Directory containing tar files', dest='dirPath', default='.')
    parser.add_option('-i', '--identity-file', help='Path to the identity file', dest='identity_file', default='/tmp/ec2-keypair')
    parser.add_option('-k', '--krb5-conf', help='Path to the krb5_conf file', dest='krb5_conf')
    (options, args) = parser.parse_args()
    pattern = (options.dirPath + '/*.tar')
    tarfiles = glob.glob(pattern)
    hostnames_regex = re.compile('(?<=keytabs_)(.*)(?=.tar)').search
    hostnames = getHostnames(tarfiles, hostnames_regex)
    sendTarfileToHosts(hostnames, options.identity_file, options.krb5_conf)
