def sendTarfileToHosts(hostnames, identity_file, krb5_conf):
    user = 'root'
    for i in range(len(hostnames)):
        (remotehost, localfile) = hostnames[i]
        os.system(('scp -i "%s" -oStrictHostKeyChecking=no "%s" "%s"@"%s":/' % (identity_file, localfile, user, remotehost)))
        if krb5_conf:
            os.system(('scp -i "%s" -oStrictHostKeyChecking=no "%s" "%s"@"%s":%s' % (identity_file, krb5_conf, user, remotehost, krb5_conf)))
        sshCommand = (('tar xvf /' + os.path.basename(localfile)) + ' -C /')
        ssh = subprocess.Popen(['ssh', '-i', ('%s' % identity_file), '-oStrictHostKeyChecking=no', ('%s' % remotehost), sshCommand], shell=False, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        result = ssh.stdout.readlines()
        if (result == []):
            error = ssh.stderr.readlines()
            print  >> sys.stderr, ('ERROR: %s' % error)
        else:
            print result
