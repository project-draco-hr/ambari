def installRepos():
    sh = shellRunner()
    agentdir = os.getcwd()
    confdir = os.path.abspath((((((((agentdir + '..') + os.sep) + '..') + os.sep) + '..') + os.sep) + 'puppet'))
    for repo in os.listdir(REPO_INFO_DIR):
        if (not repo.endswith(PUPPET_EXT)):
            continue
        logfile = (repo + '_log.log')
        res = sh.run(['puppet apply', ('--confdir=' + confdir), ((REPO_INFO_DIR + os.sep) + repo), ((((('--logdest=' + agentdir) + os.sep) + REPO_INFO_DIR) + os.sep) + logfile)])
        if (res['exitCode'] == 0):
            logger.info((('Repository ' + repo) + ' was installed'))
        else:
            logger.error(((('Repository ' + repo) + ' wasnt installed. Please find detailed info in logfile:') + logfile))
