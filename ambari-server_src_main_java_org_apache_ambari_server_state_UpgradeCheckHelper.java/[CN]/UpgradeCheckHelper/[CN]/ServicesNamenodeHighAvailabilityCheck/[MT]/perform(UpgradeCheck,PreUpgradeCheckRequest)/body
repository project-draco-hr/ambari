{
  final String clusterName=request.getClusterName();
  final Cluster cluster=clustersProvider.get().getCluster(clusterName);
  final String configType="hdfs-site";
  final Map<String,DesiredConfig> desiredConfigs=cluster.getDesiredConfigs();
  final DesiredConfig desiredConfig=desiredConfigs.get(configType);
  final Config config=cluster.getConfig(configType,desiredConfig.getTag());
  if (!config.getProperties().containsKey("dfs.nameservices")) {
    upgradeCheck.getFailedOn().add("HDFS");
    upgradeCheck.setStatus(UpgradeCheckStatus.FAIL);
    upgradeCheck.setFailReason("Namenode high availability is disabled");
  }
}
