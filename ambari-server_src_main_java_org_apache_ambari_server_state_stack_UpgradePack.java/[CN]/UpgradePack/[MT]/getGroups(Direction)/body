{
  List<Grouping> list=direction.isUpgrade() ? groups : getDowngradeGroups();
  List<Grouping> checked=new ArrayList<Grouping>();
  for (  Grouping group : list) {
    if (null == group.intendedDirection || direction == group.intendedDirection) {
      checked.add(group);
    }
  }
  return checked;
}
