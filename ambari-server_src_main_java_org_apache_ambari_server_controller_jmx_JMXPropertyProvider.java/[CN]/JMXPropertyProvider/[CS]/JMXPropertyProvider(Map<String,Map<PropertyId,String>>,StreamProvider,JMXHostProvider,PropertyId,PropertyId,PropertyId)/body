{
  this.componentMetrics=componentMetrics;
  this.streamProvider=streamProvider;
  this.jmxHostProvider=jmxHostProvider;
  this.clusterNamePropertyId=clusterNamePropertyId;
  this.hostNamePropertyId=hostNamePropertyId;
  this.componentNamePropertyId=componentNamePropertyId;
  propertyIds=new HashSet<PropertyId>();
  for (  Map.Entry<String,Map<PropertyId,String>> entry : componentMetrics.entrySet()) {
    propertyIds.addAll(entry.getValue().keySet());
  }
}
