def test_recommendYARNConfigurations_no_update_to_llap_queue_6(self):
    services = {'services': [{'StackServices': {'service_name': 'YARN', }, 'Versions': {'stack_version': '2.5', }, 'components': [{'StackServiceComponents': {'component_name': 'NODEMANAGER', 'hostnames': ['c6401.ambari.apache.org'], }, }], }, {'href': '/api/v1/stacks/HDP/versions/2.5/services/HIVE', 'StackServices': {'service_name': 'HIVE', 'service_version': '1.2.1.2.5', 'stack_name': 'HDP', 'stack_version': '2.5', }, 'components': [{'href': '/api/v1/stacks/HDP/versions/2.5/services/HIVE/components/HIVE_SERVER_INTERACTIVE', 'StackServiceComponents': {'advertise_version': 'true', 'bulk_commands_display_name': '', 'bulk_commands_master_component_name': '', 'cardinality': '0-1', 'component_category': 'MASTER', 'component_name': 'HIVE_SERVER_INTERACTIVE', 'custom_commands': ['RESTART_LLAP'], 'decommission_allowed': 'false', 'display_name': 'HiveServer2 Interactive', 'has_bulk_commands_definition': 'false', 'is_client': 'false', 'is_master': 'true', 'reassign_allowed': 'false', 'recovery_enabled': 'false', 'service_name': 'HIVE', 'stack_name': 'HDP', 'stack_version': '2.5', 'hostnames': ['c6401.ambari.apache.org'], }, 'dependencies': [], }], }], 'changed-configurations': [{u'old_value': u'', u'type': u'', u'name': u'', }], 'configurations': {'capacity-scheduler': {'properties': {'capacity-scheduler': 'yarn.scheduler.capacity.root.default.a.a1.acl_submit_applications=*\nyarn.scheduler.capacity.root.default.a.a1.capacity=75\nyarn.scheduler.capacity.root.default.a.a1.maximum-capacity=100\n', }, }, 'hive-interactive-env': {'properties': {'enable_hive_interactive': 'false', 'llap_queue_capacity': '0', }, }, 'hive-env': {'properties': {'hive_user': 'hive', }, }, }, }
    configurations = {}
    self.stackAdvisor.recommendYARNConfigurations(configurations, self.clusterData, services, self.hosts)
    self.assertEquals(configurations['capacity-scheduler']['properties'], self.expected_capacity_scheduler_empty['properties'])
    self.assertFalse(('hive-interactive-env' in configurations))
    self.assertEquals(configurations['hive-interactive-site']['properties'], self.expected_hive_interactive_site_empty['hive-interactive-site']['properties'])
