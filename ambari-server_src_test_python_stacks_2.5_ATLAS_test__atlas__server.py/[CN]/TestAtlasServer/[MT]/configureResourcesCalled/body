def configureResourcesCalled(self):
    self.assertResourceCalled('Directory', '/var/run/atlas', owner='atlas', group='hadoop', create_parents=True, cd_access='a', mode=493)
    self.assertResourceCalled('Directory', '/etc/atlas/conf', owner='atlas', group='hadoop', create_parents=True, cd_access='a', mode=493)
    self.assertResourceCalled('Directory', '/var/log/atlas', owner='atlas', group='hadoop', create_parents=True, cd_access='a', mode=493)
    self.assertResourceCalled('Directory', '/usr/hdp/current/atlas-server/data', owner='atlas', group='hadoop', create_parents=True, cd_access='a', mode=420)
    self.assertResourceCalled('Directory', '/usr/hdp/current/atlas-server/server/webapp', owner='atlas', group='hadoop', create_parents=True, cd_access='a', mode=420)
    self.assertResourceCalled('File', '/usr/hdp/current/atlas-server/server/webapp/atlas.war', content=StaticFile('/usr/hdp/current/atlas-server/server/webapp/atlas.war'))
    appprops = dict(self.getConfig()['configurations']['application-properties'])
    appprops['atlas.http.authentication.kerberos.name.rules'] = ' \\ \n'.join(appprops['atlas.http.authentication.kerberos.name.rules'].splitlines())
    appprops['atlas.server.bind.address'] = 'c6401.ambari.apache.org'
    self.assertResourceCalled('PropertiesFile', '/etc/atlas/conf/atlas-application.properties', properties=appprops, owner='atlas', group='hadoop', mode=420)
    self.assertResourceCalled('File', '/etc/atlas/conf/atlas-env.sh', content=InlineTemplate(self.getConfig()['configurations']['atlas-env']['content']), owner='atlas', group='hadoop', mode=493)
    self.assertResourceCalled('File', '/etc/atlas/conf/atlas-log4j.xml', content=InlineTemplate(self.getConfig()['configurations']['atlas-log4j']['content']), owner='atlas', group='hadoop', mode=420)
    self.assertResourceCalled('File', '/etc/atlas/conf/users-credentials.properties', content=StaticFile('users-credentials.properties'), owner='atlas', group='hadoop', mode=420)
    self.assertResourceCalled('File', '/etc/atlas/conf/policy-store.txt', content=StaticFile('policy-store.txt'), owner='atlas', group='hadoop', mode=420)
    self.assertResourceCalledRegexp('^Execute$', '^export JAVA_HOME=/usr/jdk64/jdk1.7.0_45 ; /usr/lib/ambari-logsearch-solr-client/solrCloudCli.sh -z c6401.ambari.apache.org/logsearch --download-config -d /tmp/solr_config_basic_configs_0.[0-9]* -cs basic_configs -rt 5 -i 10')
    self.assertResourceCalledRegexp('^Execute$', '^export JAVA_HOME=/usr/jdk64/jdk1.7.0_45 ; /usr/lib/ambari-logsearch-solr-client/solrCloudCli.sh -z c6401.ambari.apache.org/logsearch --upload-config -d /usr/lib/ambari-logsearch-solr/server/solr/configsets/basic_configs/conf -cs basic_configs -rt 5 -i 10')
    self.assertResourceCalledRegexp('^Execute$', '^export JAVA_HOME=/usr/jdk64/jdk1.7.0_45 ; /usr/lib/ambari-logsearch-solr-client/solrCloudCli.sh -z c6401.ambari.apache.org/logsearch --create-collection -c vertex_index -cs basic_configs -s 1 -r 1 -m 1 -rt 5 -i 10')
    self.assertResourceCalledRegexp('^Execute$', '^export JAVA_HOME=/usr/jdk64/jdk1.7.0_45 ; /usr/lib/ambari-logsearch-solr-client/solrCloudCli.sh -z c6401.ambari.apache.org/logsearch --create-collection -c edge_index -cs basic_configs -s 1 -r 1 -m 1 -rt 5 -i 10')
    self.assertResourceCalledRegexp('^Execute$', '^export JAVA_HOME=/usr/jdk64/jdk1.7.0_45 ; /usr/lib/ambari-logsearch-solr-client/solrCloudCli.sh -z c6401.ambari.apache.org/logsearch --create-collection -c fulltext_index -cs basic_configs -s 1 -r 1 -m 1 -rt 5 -i 10')
