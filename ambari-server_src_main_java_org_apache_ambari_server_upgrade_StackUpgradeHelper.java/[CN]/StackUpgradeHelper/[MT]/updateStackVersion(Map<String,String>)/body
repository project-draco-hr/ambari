{
  if (stackId == null || stackId.isEmpty()) {
    throw new IllegalArgumentException("Empty stack id. " + stackId);
  }
  Iterator<Map.Entry<String,String>> stackIdEntry=stackId.entrySet().iterator();
  Map.Entry<String,String> stackEntry=stackIdEntry.next();
  String stackName=stackEntry.getKey();
  String stackVersion=stackEntry.getValue();
  LOG.info("Updating stack id, stackName = " + stackName + ", "+ "stackVersion = "+ stackVersion);
  stackUpgradeUtil.updateStackDetails(stackName,stackVersion);
  dbAccessor.updateTable("hostcomponentstate","current_state","INSTALLED","where current_state = 'UPGRADING'");
}
