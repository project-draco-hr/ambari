{
  String clusterName="foo" + clusterId;
  createCluster(clusterName);
  LOG.info("Created cluster " + clusterName);
  String serviceName="HDFS";
  createService(clusterName,serviceName);
  LOG.info("Created service " + serviceName);
  String componentName1="NAMENODE";
  String componentName2="DATANODE";
  createServiceComponent(clusterName,serviceName,componentName1);
  LOG.info("Created ServiceComponent " + componentName1);
  createServiceComponent(clusterName,serviceName,componentName2);
  LOG.info("Created ServiceComponent " + componentName2);
  String host1=InetAddress.getLocalHost().getHostName();
  createServiceComponentHost(clusterName,serviceName,componentName1,host1);
  LOG.info("Created ServiceComponentHost " + componentName1 + " "+ host1);
  createServiceComponentHost(clusterName,serviceName,componentName2,host1);
  LOG.info("Created ServiceComponentHost " + componentName2 + " "+ host1);
  ServiceRequest r1=new ServiceRequest(clusterName,serviceName,null,State.INSTALLED.toString());
  StringBuilder sb=new StringBuilder();
  clusters.debugDump(sb);
  LOG.info("Dump current cluster state: \n" + sb.toString());
  LOG.info("***** Trying to install service now *******");
  controller.updateService(r1);
  sb=new StringBuilder();
  clusters.debugDump(sb);
  LOG.info("Dump current cluster state: \n" + sb.toString());
}
