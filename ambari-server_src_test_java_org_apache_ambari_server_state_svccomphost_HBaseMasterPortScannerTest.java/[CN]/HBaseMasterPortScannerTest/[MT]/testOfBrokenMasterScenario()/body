{
  setUpPortState(false);
  scaner.setDefaultScanTimeoutMsc(scanTimeOut);
  scaner.setMaxAttempts(maxAttempts);
  scaner.setRescanTimeoutMsc(reScanTimeOut);
  log.debug("testOfBrokenMasterScenario start");
  scaner.updateHBaseMaster(cluster);
  Thread.sleep(2000);
  assertEquals("passive",serviceComponentHost.convertToResponse().getHa_status());
  serviceComponentHost.setHAState("passive");
  assertEquals(maxAttempts,scaner.getCountAttempts() - 1);
  assertEquals(scanTimeOut * scaner.getCountAttempts(),scaner.getTestScanTimeoutMsc());
  assertNotNull(scaner.getRescanSchedulerTask());
  setUpPortState(true);
  Thread.sleep(3500);
  assertEquals("active",serviceComponentHost.convertToResponse().getHa_status());
}
