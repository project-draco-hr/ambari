@patch.object(ambari_server, 'get_ambari_properties')
def test_is_jdbc_user_changed(self, get_ambari_properties_mock):
    previous_user = 'previous_user'
    new_user = 'new_user'
    get_ambari_properties_mock.return_value = {ambari_server.JDBC_USER_NAME_PROPERTY: previous_user, }
    args = MagicMock()
    args.database_username = new_user
    result = ambari_server.is_jdbc_user_changed(args)
    self.assertEqual(args.database_username, new_user)
    self.assertTrue(result)
    args.database_username = previous_user
    result = ambari_server.is_jdbc_user_changed(args)
    self.assertEqual(args.database_username, previous_user)
    self.assertFalse(result)
    args.database_username = None
    result = ambari_server.is_jdbc_user_changed(args)
    self.assertEqual(None, args.database_username)
    self.assertEqual(None, result)
