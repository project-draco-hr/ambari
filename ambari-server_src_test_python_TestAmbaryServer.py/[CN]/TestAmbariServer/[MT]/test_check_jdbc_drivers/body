@patch.object(ambari_server, 'get_ambari_properties')
@patch.object(ambari_server, 'find_jdbc_driver')
@patch.object(ambari_server, 'copy_files')
@patch('__builtin__.raw_input')
def test_check_jdbc_drivers(self, raw_input_mock, copy_files_mock, find_jdbc_driver_mock, get_ambari_properties_mock):
    out = StringIO.StringIO()
    sys.stdout = out
    args = MagicMock()
    drivers_list = ['driver_file']
    resources_dir = '/tmp'
    get_ambari_properties_mock.return_value = {ambari_server.RESOURCES_DIR_KEY: resources_dir, }
    find_jdbc_driver_mock.return_value = drivers_list
    rcode = ambari_server.check_jdbc_drivers(args)
    self.assertEqual(0, rcode)
    copy_files_mock.assert_called_with(drivers_list, resources_dir)
    find_jdbc_driver_mock.return_value = (-1)
    args.database = 'oracle'
    rcode = ambari_server.check_jdbc_drivers(args)
    self.assertEqual(0, rcode)
    self.assertTrue(raw_input_mock.called)
    sys.stdout = sys.__stdout__
