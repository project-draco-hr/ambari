{
  String fieldType=schemaFieldsMap.get(key);
  if (StringUtils.isNotBlank(fieldType)) {
    if (isSolrFieldNumber(fieldType,schemaFieldsMap)) {
      String value=putEscapeCharacterForNumber(str,fieldType,schemaFieldsMap);
      if (StringUtils.isNotBlank(value)) {
        return value;
      }
 else {
        return null;
      }
    }
 else     if (checkTokenizer(fieldType,StandardTokenizerFactory.class,schemaFieldsMap)) {
      return escapeForStandardTokenizer(str);
    }
 else     if (checkTokenizer(fieldType,KeywordTokenizerFactory.class,schemaFieldsMap) || "string".equalsIgnoreCase(fieldType)) {
      return makeSolrSearchStringWithoutAsterisk(str);
    }
 else     if (checkTokenizer(fieldType,PathHierarchyTokenizerFactory.class,schemaFieldsMap)) {
      return str;
    }
  }
  return str;
}
